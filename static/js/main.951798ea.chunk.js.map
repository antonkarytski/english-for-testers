{"version":3,"sources":["pages/Games/common/GameModal/GameModal.module.scss","pages/Games/common/Levels/LevelButtons.module.scss","components/Forms/Input/style/Input.module.scss","pages/Games/PuzzleGame/PuzzleGame.module.scss","components/WordCard/WordCard.module.scss","components/Buttons/Button.module.scss","pages/MainPage/Navigation/Navigation.module.scss","pages/UserPage/UserPage.module.scss","redux/types.js","redux/reducer.user.js","redux/reducer.words.js","redux/games/action-types.js","redux/games/reducer.js","settings/settings.js","redux/reducer.book.js","redux/reducer.vocabularySearch.js","redux/rootReducer.js","redux/store.js","components/Buttons/Button.js","components/Buttons/GitHubButton.js","assets/logo.jsx","settings/data.js","pages/MainPage/Footer.js","helpers/gameUtils.js","components/Buttons/CloseButton.js","pages/MainPage/Navigation/AuthModal.js","components/Loading/LoadingSpinner.js","components/Loading/LoadingOverlay.js","pages/MainPage/Navigation/AuthBlock.js","components/Forms/Input/Input.js","helpers/requsts.server.js","redux/actions.user.js","redux/actions.words.js","redux/actions.auth.js","pages/MainPage/Navigation/AuthForm.js","components/Buttons/BookButton.js","components/Buttons/GameButton.js","pages/MainPage/Navigation/NavigationBar.js","components/Buttons/LearnMoreButton.js","pages/MainPage/DescriptionBlock.js","pages/MainPage/MainPage.js","redux/actions.book.js","hooks/hooks.words.js","components/Buttons/SoundButton.js","components/Buttons/HardButton.js","helpers/utils.words.js","hooks/hooks.user.js","components/WordCard/ButtonsBlock.js","components/WordCard/WordCard.js","helpers/utils.checkers.js","pages/BookPage/BookContent.js","pages/BookPage/Menu/PagintaionInput.js","pages/BookPage/Menu/Pagination.js","pages/BookPage/Menu/GroupMenu.js","pages/BookPage/Menu/GameMenu.js","pages/BookPage/Menu/ModeToggle.js","components/Buttons/HomeLink.js","components/Buttons/SettingsButton.js","pages/BookPage/Menu/TotalValuesDisplay.js","components/Buttons/PopUpMenuButton.js","components/Buttons/SearchButton.js","redux/actions.vocabularySearch.js","pages/BookPage/Menu/SearchMenu.js","pages/BookPage/Menu/BookMenu.js","pages/BookPage/BookSettings.js","pages/BookPage/BookDisclaimerEmpty.js","pages/BookPage/VocabularyContent.js","pages/BookPage/BookPage.js","components/Buttons/CloseLink.jsx","components/AboutCard/AboutCard.js","pages/GamesPage/GamesPage.js","pages/Games/common/SoundButton.jsx","assets/audio/correct.mp3","assets/audio/error.mp3","pages/Games/common/FullScreenButton.jsx","pages/Games/common/Button.jsx","assets/images/branch.png","assets/images/photo_2021-04-09_11-20-47.jpg","pages/Games/Sprint/Timer.jsx","pages/Games/Sprint/GamePage.jsx","assets/images/parrot1.png","assets/images/parrot2.png","assets/images/parrot3.png","assets/images/parrot4.png","pages/Games/common/Lives.jsx","pages/Games/AudioCall/GamePageAudioCall.jsx","assets/images/snake.svg","assets/images/2.jpg","pages/Games/Savannah/GamePage.jsx","redux/games/actions.js","redux/games/thunk.statistics.js","redux/games/selectors.js","pages/StatisticsPage/StatisticsGameCard.jsx","pages/StatisticsPage/BarChart.jsx","pages/StatisticsPage/StatisticsPage.js","pages/Games/PuzzleGame/components/PuzzleCell.js","pages/Games/PuzzleGame/components/Symbol.js","pages/Games/PuzzleGame/components/PuzzleCard.js","hooks/hooks.game.js","pages/Games/PuzzleGame/PuzzleField.js","pages/Games/PuzzleGame/settings.js","pages/Games/common/Timer.js","pages/Games/PuzzleGame/components/Lives.js","pages/Games/PuzzleGame/components/WordsList.js","pages/Games/PuzzleGame/PuzzleGame.js","pages/UserPage/components/UserImageEditor.js","pages/UserPage/components/UserSettingsForm.js","pages/UserPage/UserPage.js","hooks/hooks.statistic.js","components/Buttons/ResetButton.js","pages/Games/common/BackToGameLink.js","pages/Games/common/GameModal/GameModal.js","pages/Games/common/StatisticModal/StatisticModal.js","pages/Games/common/Levels/LevelButtons.js","pages/Games/GameShell.js","components/Effects/SvgWave.js","settings/waves.js","pages/AboutPage/AboutPage.js","App.js","index.js","pages/AboutPage/AboutPage.module.scss","pages/MainPage/MainPage.module.scss","pages/StatisticsPage/StatisticPage.module.scss","pages/Games/Games.module.scss","pages/Games/AudioCall/AudioCallGame.module.scss","styles/LevelStyles.module.scss","pages/Games/common/StatisticModal/StatisticModal.module.scss","components/AboutCard/AboutCard.module.scss","pages/BookPage/BookPage.module.scss","components/Loading/Loading.module.scss","pages/GamesPage/GamesPage.module.scss"],"names":["module","exports","LOADING","SIGN_IN","LOG_OUT","ADD_WORDS_CHUNK","ADD_WORDS_GROUP","SET_USER_WORDS","ADD_WORD_TO_USER","SET_USER_SETTINGS","SET_BOOK_AVAILABLE_PAGES","REMOVE_PAGE_FROM_LIST","SET_CURRENT_WORDS","SET_CURRENT_PAGE","SET_CURRENT_GROUP","SET_BOOK_MODE","SET_BOOK_TRANSLATE_VISIBLE","SET_BOOK_BUTTONS_VISIBLE","SET_VOCABULARY_MODE","SET_VOCABULARY_CURRENT_PAGE","SET_VOCABULARY_WORDS","SET_VOCABULARY_SEARCH_MENU_OPENED","SET_VOCABULARY_SEARCH_WORD","initialState","id","email","token","tokenExpire","isLogged","onLoading","words","getInitialUser","savedData","localStorage","getItem","parsedData","JSON","parse","SET_GAME_STATISTICS","RESET_GAME_STATISTICS","GET_GAME_STATISTICS","statusGame","level","gameStatistics","learnedWords","optional","isUpdating","isFetching","gameReducer","state","action","type","payload","VOCABULARY_MODE_DIFFICULT","VOCABULARY_MODE_NORMAL","VOCABULARY_MODE_DELETED","MODE_VOCABULARY","MODE_BOOK","WORD_HARD","MODE_DETECT_PATTERN","RegExp","SETTINGS","initialBookState","mode","isButtonsVisible","isTranslateVisible","savedUserSettings","currentGroup","currentPageIndex","pagesList","initPages","i","Object","keys","Array","fill","map","index","Number","getInitPagesList","currentWords","vocabularyMode","vocabularyWords","vocabularyCurrentPage","initState","searchWord","isSearchMenuOpened","rootPersistConfig","key","storage","localforage","whitelist","blacklist","userPersistConfig","bookPersistConfig","reducers","combineReducers","user","persistReducer","userWords","forEach","word","group","page","isArray","push","wordIndex","findIndex","settings","newVocabulary","data","gameWords","book","list","pages","removePage","pageIndex","pageToRemoveIndex","newPagesList","pageNumber","splice","isInteger","singlePage","visibility","vocabularySearch","isOpened","rootReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","enhancers","applyMiddleware","thunk","store","createStore","persistor","persistStore","Button","label","className","props","cx","classesCss","GitHubButton","nickName","classes","href","HardButton","icon","faGithub","rssLogo","xmlns","viewBox","data-name","d","GAMES","puzzle","navigationImage","name","greetText","description","audiocall","savannah","sprint","wordsMinCount","GAMES_ARRAY","values","TEAM","github","image","about","Footer","RSSData","RSSLink","FooterDate","shuffle","array","_array","slice","length","randomIndex","Math","floor","random","temp","getRandomNumber","min","max","ceil","getUserData","setFirstLetterToCapital","toUpperCase","CloseButton","faTimes","AuthModal","children","style","onClose","onClick","LoadingSpinner","faSpinner","LoadingOverlay","AuthBlock","useSelector","useState","modalIsOpen","setModalIsOpen","Avatar","to","alt","src","backgroundImage","process","BubbleButton","LoginButton","AuthButton","Active","Input","blockStyle","dataAttr","dataProps","attrName","hasOwnProperty","InputBlock","join","htmlFor","SERVER","getRequestData","method","body","request","withCredentials","headers","stringify","authRequest","path","a","fetch","userDataRequest","tokenRequest","userSettingsRequest","userSettingsRequestWithImage","userWordsRequest","wordId","wordToRequest","wordsRequest","addWordToUser","serUserWords","wordSet","setUserSettings","localData","setItem","e","getUserWords","dispatch","getState","checkToken","rawRes","ok","json","console","log","addUserWord","optionalPattern","successCounter","failCounter","deleted","userWord","res","updateExistingUserWord","addWordsChunk","wordsChunk","addWordsGroup","wordsGroup","syncUserWords","groupIndex","getWords","promiseQueue","pageNum","Promise","all","rawResPage","resPage","setLoading","status","setUser","userData","getNextExpireTime","moment","add","toISOString","getUserSettings","callsCount","userExistingSettings","c","signIn","userAuthData","userId","userRawData","userSettings","fullUserData","logOut","refreshToken","timeToStartRefresh","subtract","isBefore","isAfter","updateUserData","AuthForm","password","form","setForm","error","setError","errorMessage","setErrorMessage","buttonPressed","setButtonPressed","useDispatch","changeHandler","event","target","value","useEffect","login","test","autoComplete","AuthInput","onChange","minLength","AuthButtonSet","disabled","SignInButton","SignUpButton","BookButton","GameButton","gameCallValues","game","link","pathname","NavigationBar","Navigation","LearnMoreButton","TransparentButton","DescriptionBlock","currentSlide","SlideBlock","Slide","LearnMoreLink","girlStyle","MainPage","Bg","NavigationZIndex","Girl","Wave","removePagesFromPageList","setCurrentGroup","setCurrentWords","initialRequest","useWords","currentRequest","setCurrentRequest","setOnLoading","getWordsChunk","useCallback","initialGroupRequest","useWordsGroup","onGroupLoading","setGroupLoading","currentWordsGroup","setCurrentWordsGroup","getWordsGroup","requestPages","SoundButton","file","pronounce","useMemo","Audio","play","faBolt","createRandomChunkFromGroup","chunk","groupLength","randChunk","randomWord","getUserWordsChunk","userChunk","difficulty","filteredWords","filter","Boolean","el","find","getUserWordsGroup","userGroup","crossedGroup","useUserWordUpdate","updatedWord","setUpdatedWord","onError","setOnError","update","succeed","failed","currentWord","wordForUpdate","then","catch","ButtonsBlock","cardInfo","ButtonBlock","Icon","DeleteButton","StatsCounters","SuccessCounter","TotalCounter","fac","FastAverageColor","WordCard","notification","audio","audioMeaning","audioExample","textMeaning","textExample","transcription","wordTranslate","textMeaningTranslate","textExampleTranslate","averageColorData","setAverageColorData","setFailedCounter","setSuccessCounter","sectionVocabulary","useParams","audioPlayer","playAudio","url","phase","nextPhase","nextAudio","load","undefined","addEventListener","playNextAudio","removeEventListener","volume","getColorAsync","color","rgb","isLight","isWordHard","isHardMode","isWordDeleted","isShowHardStyle","background","Card","Hard","Deleted","HeaderBlock","Overlay","WordBlock","PrimaryBlock","SecondaryBlock","CardContent","dangerouslySetInnerHTML","__html","Example","checkGroup","checkPage","BookContent","setTotalValues","setTotalPagesCount","isPagesFirstDeleteComplete","setPageFirstDeleteComplete","currentUserWords","setCurrentUserWords","subscription","setSubscription","filters","getUserWordsChunkHelper","resWords","useUserWords","wordsToRender","history","useHistory","urlGroup","urlPage","findUserWord","totals","success","fail","learned","pagesToRemove","every","some","currentExistingPageIndex","existingPage","setCurrentPage","newPage","reduce","prev","nextPage","abs","DifficultWord","PaginationInput","totalPagesCount","editMode","setEditMode","setValue","PageCounter","SelectedInput","autoFocus","onBlur","paginationButtons","leftEnd","faAngleDoubleLeft","left","faAngleLeft","right","faAngleRight","rightEnd","faAngleDoubleRight","Pagination","currentPageList","pathBase","getNextPage","direction","getNextVocabularyPage","paginationGoTo","PaginationButton","GroupMenu","isOpen","setIsOpen","GroupMenuToggle","levelStyles","PopUpMenu","BookLink","activeClassName","isActive","match","location","GameMenu","wordsToTransmit","NavigationLink","GameMenuToggler","fullWordsSet","flat","GameLink","GameLabel","GameLinkWrap","ModeToggle","HomeLink","NavigationButton","faHome","SettingsButton","faCog","TotalValuesDisplay","totalValues","PopUpMenuButton","active","faChevronCircleUp","SearchButton","faSearch","setVocabularySearchWord","SearchMenu","BookMenu","settingsOn","isSmallMenuOpened","setSmallMenuOpened","isGameMenuVisible","SmallWidthMenu","ShowWithSmallWidth","HideWithSmallWidth","BookSettings","settingsOff","SettingsBlock","SettingsContent","stopPropagation","SettingsCloseButton","SettingButtonBlock","ToggleButton","SettingButton","selected","Selected","Disabled","SettingButtonText","BookDisclaimerEmpty","DisclaimerBlock","Image","Text","VOCABULARY_SECTIONS","maxWordsInPage","VocabularyContent","currentUserWordsGroup","setCurrentUserWordsGroup","getUserWordsGroupHelper","resGroup","useUserWordsGroup","setWordsToRender","searchWordSet","setSearchWordSet","useLocation","urlVocabularyMode","search","userFlatWords","isDifficultyHard","pagesNumber","slicedUserWords","setVocabularyCurrentPage","VocabularyHeader","section","VocabularySection","BookPage","isSettingsVisible","setSettingsVisible","urlMode","CloseLink","CloseLinkButton","AboutCard","head","text","cardImageRound","cardImageBottomRound","CardImageBottomRound","CardImageRound","CardImage","CardText","GamesPage","GameCard","useStyles","makeStyles","button","border","outline","cursor","listStyle","transition","transform","fontSize","isEnabled","fullScreenBtn","FullScreenButton","fullScreenEnabled","setFullScreenEnabled","handleFullScreen","document","exitFullscreen","documentElement","requestFullscreen","display","alignItems","justifyContent","width","height","fontWeight","backgroundColor","borderRadius","marginTop","innerClasses","classNames","Timer","onCountdownFinish","initialTime","timerID","setTimeout","clearTimeout","MULTIPLIER","1","2","3","4","Marks","count","marks","Grid","container","justify","mark","item","trueMark","falseMark","Parrots","parrots","parrotsSrc","parrotsContainer","isVisible","hidden","parrot","branch","playSound","isCorrect","soundOn","correctSound","querySelector","errorSound","theme","createStyles","position","backgroundSize","backgroundRepeat","gameIcons","top","dataContainer","breakpoints","down","maxWidth","timerContainer","score","gameContainer","wordsContainer","zIndex","enWord","lineHeight","ruWord","animation","buttonsContainer","buttonFalse","flexDirection","buttonTrue","buttonIcon","audioButton","Sprint","onWordSelect","onGameEnd","setScore","rate","setRate","marksCombo","setMarksCombo","setSoundOn","wordCounter","setWordCounter","currentTranslation","setCurrentTranslation","currentChunk","n","audioPath","setWordTranslation","correctWordTranslation","arrOfTranslations","translation","randomTranslation","changeScore","correctAnswer","hasCombo","calculatedScore","handleChangeSound","changeParrots","changeMark","handleClick","handleKeyPress","preventDefault","Lives","livesCount","gameOver","AudioCall","setAnswer","arrOfWords","setArrOfWords","btnClicked","setBtnClicked","setLivesCount","setWord","wordAudio","setWordAudio","wordTranslation","currentSeries","setCurrentSeries","newWordTranslation","previousWordAudioURL","setWordsTranslation","f1","timer","checkAnswer","wordActive","answerActive","correct","handleWordClick","itemWord","containerGames","listWords","wordButton","bubble","wordButtonRight","includes","snake","snakeSize","fallingWord","textAlign","wrapperFalling","noAnimation","content","snakeCorrectAnswer","opacity","Savannah","answer","setSnakeSize","setGameStatistics","getGameStatistics","resetGameStatistics","server","getStatisticsThunk","statisticsSelector","createSelector","title","line","StatisticsGameCard","rightAnswersPercent","bestSeries","gameTitle","StatisticTable","options","responsive","maintainAspectRatio","BarChart","dataBar","labels","t","toLocaleDateString","day","month","year","datasets","borderColor","borderWidth","Chart","parseStatistics","allStatistics","isTodayDate","date","today","Date","setHours","toString","entries","singleDay","gameTotalStatistics","gameResult","entry","createdOn","rightAnswers","wrongAnswers","round","getTotalStatistics","byGameStatistics","totalStatistics","totalLearnedWords","getByGameStatistics","statistics","gameStatisticsEntries","getLongTermStatObj","getTime","longTermStat","longTermStatObj","y","longTermDeltaStat","dayStatistics","marginBottom","graphics","root","StatisticsPage","TOTAL","todayStatistics","rightAnswersPercentToday","defaults","defaultGamesData","barData","barDataDelta","handleChange","StatisticPage","Title","DayStatistic","GamesStatistic","ToggleBlock","RadioGroup","FormControlLabel","control","Radio","checked","Statistic","StatisticStrings","Value","TotalStatistic","StatisticBlock","Graphics","PuzzleCell","visible","hovered","Hovered","PuzzlePiece","Symbol","symbol","PuzzleCard","onClickWordSelect","onDragWordSelect","onDrag","onDragFlag","setOnDragFlag","motion","div","drag","dragConstraints","bottom","dragElastic","onDragStart","onDragEnd","useTimer","generateFn","checkInterval","condition","dependencies","generatorTimer","setInterval","clearInterval","defaultFnList","onGenerate","onWillGenerate","onTic","onPause","onPlay","onReset","onToggle","onSoftReset","AUTOCOMPLETE_WORD_SELECT_DURATION","AUTOCOMPLETE_SUCCESS_DURATION","PuzzleField","onSuccess","onWrongSelect","currentIntersectWord","setCurrentIntersectWord","setCurrentWord","cards","cells","setWords","cellsRef","useRef","onSuccessSelect","correctWordIndex","nextInc","onDragCheckIntersection","cardRect","getBoundingClientRect","crossedWord","cell","staticObj","mobileObj","objRect","mobileHorizontalCenter","relStatic","checkCollision","current","timeout","textWOTags","replace","regExp","matchAll","result","elem","PuzzlePieceWrap","ref","cycle","tic","reset","pause","softReset","fnList","generationTime","ticTime","fnListCopy","fn","timeToNextGen","setTimeToNextGen","walkCondition","setWalkCondition","willFurtherGenerate","toggle","getTimeToNextGen","useTimerGenerator","totalLives","LivesWrapper","Life","Burnt","WordList","currentWordIndex","Succeed","Failed","Current","TOTAL_LIVES","SECONDS_FOR_COMPLETE","TIC","PuzzleGame","lives","setLives","shouldReset","shouldPause","timerState","setTimerState","setAutoComplete","resetTimer","completeAssemblyHandler","wrongSelectHandler","GameLayout","CurrentWord","Translation","HelperBlock","Countdown","UserImageEditor","onUpdate","onRemove","onHoverState","setOnHover","ImageEditor","onMouseEnter","onMouseLeave","Visible","RemoveButton","UserSettingsForm","files","currentImage","setCurrentImage","onSendLoading","setOnSendLoading","FormData","settingsForServer","append","imageData","currentFormData","UserSettingsBlock","dataUrl","maxNumber","dataURLKey","onImageUpload","onImageUpdate","onImageRemove","isDragging","dragProps","UploadImageWrap","ImageLoadButton","Empty","placeholder","SendButton","UserPage","UserSettingsBlockContainer","ExitButton","useStatistic","currentUserStatistic","statistic","statisticForUpdate","savedGameStatistic","populateStatistics","now","addStatisticsThunk","ResetButton","faUndo","BackToGameLink","faArrowAltCircleLeft","GameModal","gameData","ModalText","StatisticModal","TableWrap","userNewResults","Body","Word","AudioButton","LevelButtons","levelNumbers","onSelect","LevelButtonsWrap","initialStatistic","DEFAULT_WORD_CHUNK_LENGTH","GameShell","wordsBundleLength","updateUserWord","updateStatistic","setCurrentChunk","gameEndLastWord","setGameEndLastWord","isGameCanStart","setIsGameCanStart","gameResetKey","setGameResetKey","statisticChunk","setStatisticChunk","setStatistic","statisticWasUpdate","setStatisticWasUpdate","urlWords","levelSelectHandler","gameEndHandler","setGameStartAgain","updateStatisticChunk","dataForUpdate","statisticWordIndex","statWord","currentStatistic","newStatisticChunk","wordSelectHandler","params","paramsForUpdate","complementChunkToMinimum","startChunk","sourceChunk","requireLength","requireToComplementWordsCount","requiredToComplementWords","reducer","sourceWord","initialWord","complementChunk","complementAndSetChunk","wordsSet","randomChunk","gameContent","onAnyLoading","gameProps","React","Children","child","buttonClasses","StartButton","levelClasses","GameEndHelper","BackLink","SvgWave","colors","offset","stopColor","WAVES","wavesColors","AboutPage","Section","Special","Content","RowContent","CardsContainer","Asset","Games","Team","App","getGamePath","basePath","syncUser","exact","ReactDOM","render","basename","loading","getElementById"],"mappings":"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","file":"static/js/main.951798ea.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"GameModal\":\"GameModal_GameModal__hUa1C\",\"ModalText\":\"GameModal_ModalText__1EuDw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LevelButtonsWrap\":\"LevelButtons_LevelButtonsWrap__3LG6B\",\"Button\":\"LevelButtons_Button__1y26T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"InputBlock\":\"Input_InputBlock__1zcVL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PuzzleGame\":\"PuzzleGame_PuzzleGame__ZQngh\",\"GameLayout\":\"PuzzleGame_GameLayout__1HWoV\",\"HelperBlock\":\"PuzzleGame_HelperBlock__2ERmG\",\"Countdown\":\"PuzzleGame_Countdown__1Mb3l\",\"LivesWrapper\":\"PuzzleGame_LivesWrapper__1nkpN\",\"Life\":\"PuzzleGame_Life__2vjQP\",\"Burnt\":\"PuzzleGame_Burnt__1o8ch\",\"WordList\":\"PuzzleGame_WordList__3Z8OX\",\"Succeed\":\"PuzzleGame_Succeed__3h4kO\",\"Failed\":\"PuzzleGame_Failed__vhsup\",\"Current\":\"PuzzleGame_Current__USbe6\",\"WordBlock\":\"PuzzleGame_WordBlock__2Jkmx\",\"CurrentWord\":\"PuzzleGame_CurrentWord__1aIip\",\"Translation\":\"PuzzleGame_Translation__1V30K\",\"PuzzleField\":\"PuzzleGame_PuzzleField__1koz4\",\"PuzzlePieceWrap\":\"PuzzleGame_PuzzlePieceWrap__3EB9C\",\"PuzzlePiece\":\"PuzzleGame_PuzzlePiece__4KwuB\",\"PuzzleCell\":\"PuzzleGame_PuzzleCell__HeyuR\",\"Selected\":\"PuzzleGame_Selected__3Tz-Z\",\"Hovered\":\"PuzzleGame_Hovered__15ydH\",\"PuzzleCard\":\"PuzzleGame_PuzzleCard__3JeUg\",\"Symbol\":\"PuzzleGame_Symbol__z-RaE\",\"FullScreenButton\":\"PuzzleGame_FullScreenButton__2bXWf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Card\":\"WordCard_Card__WDq5D\",\"Hard\":\"WordCard_Hard__1_tzT\",\"Overlay\":\"WordCard_Overlay__2Gwrr\",\"Deleted\":\"WordCard_Deleted__2n2-o\",\"HeaderBlock\":\"WordCard_HeaderBlock__238tL\",\"WordBlock\":\"WordCard_WordBlock__3vfBZ\",\"SecondaryBlock\":\"WordCard_SecondaryBlock__wPjJk\",\"PrimaryBlock\":\"WordCard_PrimaryBlock__2QYh3\",\"SoundButton\":\"WordCard_SoundButton__2U2cR\",\"ButtonBlock\":\"WordCard_ButtonBlock__34DU0\",\"StatsCounters\":\"WordCard_StatsCounters__77d5d\",\"SuccessCounter\":\"WordCard_SuccessCounter__Pxq71\",\"TotalCounter\":\"WordCard_TotalCounter__3Y4zL\",\"Button\":\"WordCard_Button__2g25r\",\"HardButton\":\"WordCard_HardButton__2KsBQ\",\"Active\":\"WordCard_Active__sNzXQ\",\"DeleteButton\":\"WordCard_DeleteButton__1BQzm\",\"CardContent\":\"WordCard_CardContent__mVK3r\",\"Example\":\"WordCard_Example__35brO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__18_4h\",\"TransparentButton\":\"Button_TransparentButton__1ay5A\",\"ResetButton\":\"Button_ResetButton__IkutE\",\"CloseLinkButton\":\"Button_CloseLinkButton__21UGw\",\"Icon\":\"Button_Icon__2JQGA\",\"SoundButton\":\"Button_SoundButton__3vvlb\",\"HardButton\":\"Button_HardButton__25YfZ\",\"CloseButton\":\"Button_CloseButton__3S9vQ\",\"GameButton\":\"Button_GameButton__j9pGJ\",\"PopUpMenuButton\":\"Button_PopUpMenuButton__1gbp3\",\"Active\":\"Button_Active__34ix8\",\"SearchButton\":\"Button_SearchButton___NsTQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Navigation\":\"Navigation_Navigation__3_P_z\",\"StatisticButton\":\"Navigation_StatisticButton__2Gt3w\",\"BookButton\":\"Navigation_BookButton__2pB39\",\"GameButton\":\"Navigation_GameButton__ih6Pk\",\"Savannah\":\"Navigation_Savannah__8ta5Z\",\"Audiocall\":\"Navigation_Audiocall__19hK0\",\"Sprint\":\"Navigation_Sprint__1rN_N\",\"Puzzle\":\"Navigation_Puzzle__2cQkT\",\"AuthBlock\":\"Navigation_AuthBlock__2OkeR\",\"LoginButton\":\"Navigation_LoginButton__2gyaI\",\"Active\":\"Navigation_Active__7Rx6c\",\"AuthModal\":\"Navigation_AuthModal__2Mo7U\",\"LoadingOverlay\":\"Navigation_LoadingOverlay__2Zedd\",\"AuthForm\":\"Navigation_AuthForm__1wAN6\",\"AuthInput\":\"Navigation_AuthInput__UCtsp\",\"AuthButtonSet\":\"Navigation_AuthButtonSet__1bIZY\",\"SignInButton\":\"Navigation_SignInButton__2kSqi\",\"SignUpButton\":\"Navigation_SignUpButton__1hUe0\",\"CloseButton\":\"Navigation_CloseButton__hvhF0\",\"Avatar\":\"Navigation_Avatar__3iEoS\",\"BubbleButton\":\"Navigation_BubbleButton__2Me-_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"UserPage\":\"UserPage_UserPage__2qBiJ\",\"UserSettingsBlockContainer\":\"UserPage_UserSettingsBlockContainer__3n_LZ\",\"ExitButton\":\"UserPage_ExitButton__3HvwN\",\"UserSettingsBlock\":\"UserPage_UserSettingsBlock__3xvzi\",\"LoadingOverlay\":\"UserPage_LoadingOverlay__Tat9H\",\"Input\":\"UserPage_Input__3tdey\",\"Empty\":\"UserPage_Empty__2dSZ-\",\"UploadImageWrap\":\"UserPage_UploadImageWrap__2J0lh\",\"ImageEditor\":\"UserPage_ImageEditor__3Oc8k\",\"Overlay\":\"UserPage_Overlay__1h4xj\",\"Button\":\"UserPage_Button__QYn2K\",\"RemoveButton\":\"UserPage_RemoveButton__uL32l\",\"Visible\":\"UserPage_Visible__3OQiI\",\"ImageLoadButton\":\"UserPage_ImageLoadButton__11s4t\",\"SendButton\":\"UserPage_SendButton__r5lrH\"};","export const LOADING = \"auth/loading\"\r\nexport const SIGN_IN = \"auth/signIn\"\r\nexport const LOG_OUT = \"auth/signOut\"\r\nexport const ADD_WORDS_CHUNK = \"words/addWordsChunk\"\r\nexport const ADD_WORDS_GROUP = \"words/addWordsGroup\"\r\nexport const SET_USER_WORDS = \"user/setWords\"\r\nexport const ADD_WORD_TO_USER = \"user/addWord\"\r\nexport const SET_USER_SETTINGS = \"user/setSettings\"\r\nexport const SET_BOOK_AVAILABLE_PAGES = \"book/setAvailablePages\"\r\nexport const REMOVE_PAGE_FROM_LIST = \"book/removePageFromList\"\r\nexport const SET_CURRENT_WORDS = \"book/setCurrentWords\"\r\nexport const SET_CURRENT_PAGE = \"book/setCurrentPage\"\r\nexport const SET_CURRENT_GROUP = \"book/setCurrentGroup\"\r\nexport const SET_BOOK_MODE = \"book/setBookMode\"\r\nexport const SET_BOOK_TRANSLATE_VISIBLE = \"book/setBookTranslateVisible\"\r\nexport const SET_BOOK_BUTTONS_VISIBLE = \"book/setBookButtonsVisible\"\r\nexport const SET_VOCABULARY_MODE = \"book/vocabulary/setMode\"\r\nexport const SET_VOCABULARY_CURRENT_PAGE = \"book/vocabulary/setCurrentPage\"\r\nexport const SET_VOCABULARY_WORDS = \"book/vocabulary/setWords\"\r\nexport const SET_VOCABULARY_SEARCH_MENU_OPENED = \"vocabulary/setSearchMenuOpened\"\r\nexport const SET_VOCABULARY_SEARCH_WORD = \"vocabulary/setSearchWord\"","import { LOADING, SIGN_IN, LOG_OUT, ADD_WORD_TO_USER, SET_USER_WORDS, SET_USER_SETTINGS } from \"./types\"\r\n\r\nconst initialState = {\r\n\tid: null,\r\n\temail: null,\r\n\ttoken: null,\r\n\ttokenExpire: null,\r\n\tisLogged : false,\r\n\tonLoading: false,\r\n\twords: {}\r\n}\r\n\r\nfunction getInitialUser(){\r\n\tconst savedData = localStorage.getItem(\"userData\")\r\n\tif(savedData){\r\n\t\tconst parsedData = JSON.parse(savedData)\r\n\t\treturn {...initialState, ...parsedData, isLogged: !!parsedData?.token}\r\n\t}\r\n\treturn initialState\r\n}\r\n\r\nexport default function userReducer(state = getInitialUser(), action){\r\n\tswitch (action.type){\r\n\t\tcase SIGN_IN: {\r\n\t\t\treturn {...state, ...action.payload, isLogged: !!action.payload.token}\r\n\t\t}\r\n\r\n\t\tcase LOG_OUT: {\r\n\t\t\treturn {...state, ...initialState}\r\n\t\t}\r\n\r\n\t\tcase LOADING: {\r\n\t\t\treturn {...state, onLoading: action.payload ?? false}\r\n\t\t}\r\n\r\n\t\tcase SET_USER_WORDS: {\r\n\t\t\tconst userWords = {}\r\n\t\t\taction.payload.forEach((word) => {\r\n\t\t\t\tconst {group, page} = word.optional\r\n\t\t\t\tif(!userWords[group]) userWords[group] = {}\r\n\t\t\t\tif(!Array.isArray(userWords[group][page])) userWords[group][page] = []\r\n\t\t\t\tuserWords[group][page].push(word)\r\n\t\t\t})\r\n\t\t\treturn {...state, words: userWords}\r\n\t\t}\r\n\r\n\t\tcase ADD_WORD_TO_USER: {\r\n\t\t\tconst userWords = {...state.words}\r\n\t\t\tconst {group, page} = action.payload.optional\r\n\t\t\tif (!userWords[group]) userWords[group] = {}\r\n\t\t\tif(!Array.isArray(userWords[group][page])){\r\n\t\t\t\tuserWords[group][page] = [action.payload]\r\n\t\t\t} else {\r\n\t\t\t\tconst wordIndex = userWords[group][page].findIndex(word => word.id === action.payload.id)\r\n\t\t\t\tif(wordIndex >= 0){\r\n\t\t\t\t\tuserWords[group][page][wordIndex] = {\r\n\t\t\t\t\t\t...userWords[group][page][wordIndex],\r\n\t\t\t\t\t\t...action.payload,\r\n\t\t\t\t\t\toptional:{\r\n\t\t\t\t\t\t\t...userWords[group][page][wordIndex].optional,\r\n\t\t\t\t\t\t\t...action.payload.optional\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuserWords[group][page].push(action.payload)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn {...state, words: userWords}\r\n\t\t}\r\n\r\n    case SET_USER_SETTINGS: {\r\n      return {\r\n        ...state,\r\n        settings: {\r\n          ...state.settings,\r\n          ...action.payload,\r\n          optional:{\r\n            ...state.settings.optional,\r\n            ...action.payload.optional\r\n          }\r\n        },\r\n      }\r\n    }\r\n\t\tdefault: return state\r\n\t}\r\n}","import { ADD_WORDS_CHUNK, ADD_WORDS_GROUP } from \"./types\"\r\n\r\nconst initialState = {}\r\n\r\nexport default function wordsReducer(state = initialState, {type, payload}){\r\n\tif(type === ADD_WORDS_CHUNK){\r\n\t\tconst newVocabulary = {...state}\r\n\t\tif(!newVocabulary[payload.group]) newVocabulary[payload.group] = {}\r\n\t\tnewVocabulary[payload.group][payload.page] = payload.data\r\n\t\treturn newVocabulary\r\n\t} else if(type === ADD_WORDS_GROUP){\r\n\t\tif(!state[payload.group]) return {...state, [payload.group]: payload.data}\r\n\t\telse return {\r\n\t\t\t...state,\r\n\t\t\t[payload.group]: {\r\n\t\t\t\t...state[payload.group],\r\n\t\t\t\t...payload.data\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn state\r\n}","export const SET_GAME_STATISTICS = {\r\n  START: 'SET_GAME_STATISTICS.START',\r\n  FINISHED: 'SET_GAME_STATISTICS.FINISHED',\r\n  FAILED: 'SET_GAME_STATISTICS.FAILED'\r\n};\r\n\r\nexport const RESET_GAME_STATISTICS = \"RESET_GAME_STATISTICS\";\r\n\r\nexport const GET_GAME_STATISTICS = {\r\n  START: 'GET_GAME_STATISTICS.START',\r\n  FINISHED: 'GET_GAME_STATISTICS.FINISHED',\r\n  FAILED: 'GET_GAME_STATISTICS.FAILED'\r\n};\r\n\r\n","import { SET_GAME_STATISTICS, GET_GAME_STATISTICS, RESET_GAME_STATISTICS } from \"./action-types\";\r\n\r\nconst initialState = {\r\n  statusGame: '',\r\n  level: 1,\r\n  gameStatistics: {\r\n    learnedWords: 0,\r\n    optional: {},\r\n  },\r\n  isUpdating: false,\r\n  isFetching: false,\r\n};\r\n\r\nconst gameReducer = (state = initialState, action) => {\r\n  const {\r\n    type,\r\n    ...payload\r\n  } = action;\r\n\r\n  switch (type) {\r\n    case GET_GAME_STATISTICS.START:\r\n      return {\r\n        ...state,\r\n        isFetching: true\r\n      };\r\n\r\n    case GET_GAME_STATISTICS.FINISHED:\r\n      return {\r\n        ...state,\r\n        ...payload,\r\n        isFetching: false\r\n      };\r\n\r\n    case SET_GAME_STATISTICS.START:\r\n      return {\r\n        ...state,\r\n        isUpdating: true\r\n      };\r\n\r\n    case SET_GAME_STATISTICS.FINISHED:\r\n      return {\r\n        ...state,\r\n        ...payload,\r\n        isUpdating: false\r\n      };\r\n\r\n    case RESET_GAME_STATISTICS:\r\n      return initialState;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default gameReducer;","export const VOCABULARY_MODE_DIFFICULT = \"difficult\"\r\nexport const VOCABULARY_MODE_NORMAL = \"learn\"\r\nexport const VOCABULARY_MODE_DELETED = \"delete\"\r\nexport const MODE_VOCABULARY = \"vocabulary\"\r\nexport const MODE_BOOK = \"book\"\r\nexport const WORD_HARD = \"hard\"\r\nexport const WORD_NORMAL = \"normal\"\r\nexport const MODE_DETECT_PATTERN = new RegExp(`(${MODE_BOOK}|${MODE_VOCABULARY})`)\r\n\r\nexport const TOKEN_EXPIRE_TIME = 4 //hours\r\nexport const TOKEN_START_REFRESH = 2 //hours\r\n\r\nexport const SETTINGS = {\r\n  SERVER: \"https://rss-words-3.herokuapp.com\",\r\n  AWS_STORE_URL: \"https://travel-app-24.s3.eu-north-1.amazonaws.com\",\r\n  DEFAULT_IMAGE: \"KNPXgyDVUUA4SCWSCCFjJ0c001740dbe0b705441ebf5f9f7c9af0.jpg\",\r\n  GROUPS_COUNT: 6,\r\n  PAGES_COUNT: 30,\r\n  DEFAULT_WORD_CHUNK_LENGTH: 20,\r\n}","import {\r\n  LOG_OUT,\r\n  REMOVE_PAGE_FROM_LIST,\r\n  SET_BOOK_AVAILABLE_PAGES,\r\n  SET_BOOK_BUTTONS_VISIBLE,\r\n  SET_BOOK_MODE,\r\n  SET_BOOK_TRANSLATE_VISIBLE,\r\n  SET_CURRENT_GROUP,\r\n  SET_CURRENT_PAGE,\r\n  SET_CURRENT_WORDS,\r\n  SET_VOCABULARY_CURRENT_PAGE,\r\n  SET_VOCABULARY_MODE, SET_VOCABULARY_WORDS,\r\n  SIGN_IN,\r\n} from \"./types\";\r\nimport { MODE_BOOK, SETTINGS, VOCABULARY_MODE_NORMAL } from \"../settings/settings\";\r\n\r\nfunction getInitPagesList(){\r\n  const initPages = {}\r\n  for (let i = 0; i < SETTINGS.GROUPS_COUNT; i++) {\r\n    initPages[i] = [...Object.keys(Array(SETTINGS.PAGES_COUNT).fill(0)).map(index => Number(index))]\r\n  }\r\n  return initPages\r\n}\r\n\r\nconst initialBookState = {\r\n  mode: MODE_BOOK,\r\n  isButtonsVisible: true,\r\n  isTranslateVisible: true,\r\n  savedUserSettings: {\r\n    isButtonsVisible: true,\r\n    isTranslateVisible: true,\r\n  },\r\n  currentGroup: 0,\r\n\r\n  //BOOK_MODE\r\n  currentPageIndex: 0,\r\n  pagesList: getInitPagesList(),\r\n  currentWords: [],\r\n\r\n  //VOCABULARY_MODE\r\n  vocabularyMode: VOCABULARY_MODE_NORMAL,\r\n  vocabularyWords: [],\r\n  vocabularyCurrentPage: 0,\r\n}\r\n\r\nexport default function bookReducer(state = initialBookState, {type, payload}){\r\n  switch (type) {\r\n    case SET_BOOK_AVAILABLE_PAGES: {\r\n      const {group, list} = payload\r\n      return {\r\n        ...state,\r\n        pages: {\r\n          ...state.pagesList,\r\n          [group]: list,\r\n        },\r\n      }\r\n    }\r\n    case REMOVE_PAGE_FROM_LIST: {\r\n      const {group, page} = payload\r\n      const newPagesList = [...state.pagesList[group]]\r\n\r\n      function removePage(pageIndex){\r\n        const pageToRemoveIndex = newPagesList.findIndex(pageNumber => pageNumber === Number(pageIndex))\r\n        if (pageToRemoveIndex + 1) {\r\n          newPagesList.splice(pageToRemoveIndex, 1)\r\n        }\r\n      }\r\n\r\n      if (Number.isInteger(page)) {\r\n        removePage(page)\r\n      } else if (Array.isArray(page)) {\r\n        page.forEach(singlePage => {\r\n          removePage(singlePage)\r\n        })\r\n      }\r\n      return {\r\n        ...state,\r\n        pagesList: {\r\n          ...state.pagesList,\r\n          [group]: newPagesList,\r\n        },\r\n      }\r\n    }\r\n\r\n    case SET_CURRENT_PAGE: {\r\n      const {page} = payload\r\n      if (page === state.currentPageIndex) return state\r\n      return {\r\n        ...state,\r\n        currentPageIndex: page,\r\n      }\r\n    }\r\n\r\n    case SET_CURRENT_GROUP: {\r\n      const {group} = payload\r\n      if (group === state.currentGroup) return state\r\n      return {\r\n        ...state,\r\n        currentGroup: group,\r\n      }\r\n    }\r\n\r\n    case SET_BOOK_MODE: {\r\n      const {mode} = payload\r\n      if (mode === state.mode) return state\r\n      return {...state, mode}\r\n    }\r\n\r\n    case SET_BOOK_TRANSLATE_VISIBLE: {\r\n      const {visibility} = payload\r\n      return {...state, isTranslateVisible: visibility}\r\n    }\r\n\r\n    case SET_BOOK_BUTTONS_VISIBLE: {\r\n      const {visibility} = payload\r\n      return {...state, isButtonsVisible: visibility}\r\n    }\r\n\r\n    case SET_CURRENT_WORDS: {\r\n      const {words} = payload\r\n      return {...state, currentWords: words}\r\n    }\r\n\r\n    case SET_VOCABULARY_MODE: {\r\n      const {mode} = payload\r\n      if (mode === state.vocabularyMode) return state\r\n      return {...state, vocabularyMode: mode}\r\n    }\r\n\r\n    case SET_VOCABULARY_CURRENT_PAGE: {\r\n      const {page} = payload\r\n      if (page === state.vocabularyCurrentPage) return state\r\n      return {...state, vocabularyCurrentPage: page}\r\n    }\r\n\r\n    case SET_VOCABULARY_WORDS:{\r\n      const {words} = payload\r\n      return {...state, vocabularyWords: words}\r\n    }\r\n\r\n\r\n    case LOG_OUT: {\r\n      const {isButtonsVisible, isTranslateVisible} = initialBookState\r\n      return {\r\n        ...state,\r\n        isButtonsVisible,\r\n        isTranslateVisible,\r\n        savedUserSettings: {\r\n          isButtonsVisible: state.isButtonsVisible,\r\n          isTranslateVisible: state.isTranslateVisible,\r\n        },\r\n      }\r\n    }\r\n\r\n\r\n    case SIGN_IN: {\r\n      const {isButtonsVisible, isTranslateVisible} = state.savedUserSettings\r\n      return {\r\n        ...state,\r\n        isButtonsVisible,\r\n        isTranslateVisible,\r\n      }\r\n    }\r\n\r\n    default: {\r\n      return state\r\n    }\r\n  }\r\n}","import { SET_VOCABULARY_SEARCH_MENU_OPENED, SET_VOCABULARY_SEARCH_WORD } from \"./types\";\r\n\r\nconst initState = {\r\n  searchWord: \"\",\r\n  isSearchMenuOpened: false,\r\n}\r\n\r\nexport default function vocabularySearchReducer(state = initState, action){\r\n  const {type, payload} = action\r\n  switch (type) {\r\n    case SET_VOCABULARY_SEARCH_MENU_OPENED: {\r\n      const {isOpened} = payload\r\n      return {\r\n        searchWord: \"\",\r\n        isSearchMenuOpened: isOpened\r\n      }\r\n    }\r\n    case SET_VOCABULARY_SEARCH_WORD:{\r\n      const {searchWord} = payload\r\n      return {\r\n        ...state,\r\n        searchWord\r\n      }\r\n    }\r\n    default: {\r\n      return state\r\n    }\r\n  }\r\n}","import { combineReducers } from \"redux\"\r\nimport userReducer from \"./reducer.user\"\r\nimport wordsReducer from \"./reducer.words\"\r\nimport gameReducer from \"./games/reducer\"\r\nimport bookReducer from \"./reducer.book\";\r\nimport {persistReducer} from \"redux-persist\";\r\nimport storage from 'redux-persist/lib/storage'\r\nimport localforage from \"localforage\";\r\nimport vocabularySearchReducer from \"./reducer.vocabularySearch\";\r\n\r\nconst rootPersistConfig = {\r\n  key: \"root\",\r\n  storage: localforage,\r\n  whitelist: [\"words\"],\r\n  blacklist: [\"user\"]\r\n}\r\n\r\nconst userPersistConfig = {\r\n  key: \"user\",\r\n  storage: localforage,\r\n  whitelist: [\"words\"]\r\n}\r\n\r\nconst bookPersistConfig = {\r\n  key: \"userBookConfig\",\r\n  storage,\r\n  whitelist: [\"savedUserSettings\", \"isButtonsVisible\", \"isTranslateVisible\"]\r\n}\r\n\r\nconst reducers = combineReducers({\r\n\tuser: persistReducer(userPersistConfig, userReducer),\r\n\twords: wordsReducer,\r\n\tgameWords: gameReducer,\r\n  book: persistReducer(bookPersistConfig, bookReducer),\r\n  vocabularySearch: vocabularySearchReducer\r\n})\r\n\r\nexport const rootReducer = persistReducer(rootPersistConfig, reducers)\r\n\r\n","import { applyMiddleware, compose, createStore } from \"redux\";\r\nimport { persistStore } from \"redux-persist\";\r\nimport thunk from \"redux-thunk\";\r\nimport { rootReducer } from \"./rootReducer\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst enhancers = [applyMiddleware(thunk)];\r\n\r\nexport const store = createStore(rootReducer, composeEnhancers(...enhancers));\r\nexport const persistor = persistStore(store)","import React from \"react\"\r\nimport classesCss from \"./Button.module.scss\"\r\nimport cx from \"classnames\"\r\n\r\nexport default function Button({label, className, ...props}){\r\n\treturn(\r\n\t\t<button\r\n      {...props}\r\n\t\t\tclassName={cx(classesCss.Button, className)}\r\n\t\t>\r\n\t\t\t{label}\r\n\t\t</button>\r\n\t)\r\n}","import React from \"react\"\r\nimport Button from \"./Button\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\nimport { faGithub } from \"@fortawesome/free-brands-svg-icons\"\r\nimport cx from \"classnames\";\r\nimport classesCss from \"./Button.module.scss\";\r\n\r\nexport default function GitHubButton({className, nickName, label, classes, ...props}){\r\n  return (\r\n    <a href={`https://github.com/${nickName}`}>\r\n      <Button\r\n        className={cx(className, classesCss.HardButton)}\r\n        label={\r\n          <>\r\n            <FontAwesomeIcon className={classes?.icon} icon={faGithub}/>\r\n            <span className={classes?.label}> {label}</span>\r\n          </>}\r\n        {...props}\r\n      />\r\n    </a>\r\n\r\n  )\r\n}","export const rssLogo = (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 552.85 198.67\">\r\n    <title>rs_school</title>\r\n    <g id=\"Layer_2\" data-name=\"Layer 2\">\r\n      <g id=\"Layer_1-2\" data-name=\"Layer 1\">\r\n        <path d=\"M275.36,61.37l26.29-1.65q.86,6.41,3.48,9.76,4.28,5.43,12.2,5.43,5.91,0,9.12-2.77a8.34,8.34,0,0,0,3.2-6.44,8.18,8.18,0,0,0-3-6.22q-3-2.74-14.15-5.19-18.18-4.08-25.93-10.86a21.84,21.84,0,0,1-7.81-17.26,23.44,23.44,0,0,1,4-13,26.47,26.47,0,0,1,12-9.64q8-3.51,22-3.51,17.14,0,26.14,6.38t10.71,20.28l-26.05,1.52q-1-6-4.36-8.78T314,16.65c-3.21,0-5.63.69-7.25,2.05a6.25,6.25,0,0,0-2.44,5,5,5,0,0,0,2,3.84q1.95,1.77,9.27,3.3,18.12,3.9,26,7.9t11.4,9.91a25.12,25.12,0,0,1,3.57,13.24,28.37,28.37,0,0,1-4.75,15.86,29.83,29.83,0,0,1-13.3,11q-8.55,3.75-21.54,3.75-22.81,0-31.6-8.78T275.36,61.37Z\"/>\r\n        <path d=\"M6.27,91V1.53H52.33q12.81,0,19.58,2.19a20.93,20.93,0,0,1,10.92,8.14A24.75,24.75,0,0,1,87,26.35,24.8,24.8,0,0,1,83.8,39.19,24.91,24.91,0,0,1,75.07,48a33.63,33.63,0,0,1-9.7,3.54,27.79,27.79,0,0,1,7.19,3.29A27.79,27.79,0,0,1,77,59.49,35.16,35.16,0,0,1,80.85,65L94.23,91H63L48.24,63.63q-2.81-5.31-5-6.9a11.63,11.63,0,0,0-6.78-2.07H34V91ZM34,37.76H45.68A41,41,0,0,0,53,36.54a7.3,7.3,0,0,0,4.48-2.81,8.24,8.24,0,0,0,1.74-5.18,8.23,8.23,0,0,0-2.75-6.65q-2.74-2.32-10.31-2.32H34Z\"/><path d=\"M0,167.56l26.29-1.64q.86,6.41,3.48,9.76Q34,181.11,42,181.11q5.91,0,9.12-2.78a8.34,8.34,0,0,0,3.2-6.44,8.2,8.2,0,0,0-3-6.22q-3-2.74-14.15-5.18-18.18-4.1-25.93-10.86a21.87,21.87,0,0,1-7.81-17.27,23.49,23.49,0,0,1,4-13,26.47,26.47,0,0,1,12-9.64q8-3.51,22-3.51,17.14,0,26.14,6.38t10.71,20.28l-26,1.53q-1-6-4.36-8.79t-9.19-2.74q-4.81,0-7.25,2a6.25,6.25,0,0,0-2.44,5,5,5,0,0,0,2,3.85q1.95,1.77,9.27,3.29,18.12,3.9,26,7.9t11.4,9.91a25.15,25.15,0,0,1,3.57,13.24,28.35,28.35,0,0,1-4.75,15.86,29.83,29.83,0,0,1-13.3,11q-8.55,3.75-21.54,3.75-22.81,0-31.6-8.78T0,167.56Z\"/>\r\n        <path d=\"M163,160.55l24.22,7.32a44.72,44.72,0,0,1-7.69,17,33.46,33.46,0,0,1-13,10.31q-7.78,3.47-19.8,3.47-14.58,0-23.82-4.23t-16-14.91q-6.72-10.67-6.71-27.31,0-22.18,11.8-34.11t33.4-11.92q16.91,0,26.57,6.84t14.36,21l-24.4,5.43a21,21,0,0,0-2.68-6,16,16,0,0,0-5.67-4.88,16.31,16.31,0,0,0-7.51-1.71q-9.39,0-14.39,7.56-3.8,5.61-3.79,17.61,0,14.86,4.52,20.38t12.69,5.51q7.92,0,12-4.45T163,160.55Z\"/>\r\n        <path d=\"M208.51,107.72h27.63V139h30.2V107.72h27.75v89.43H266.34V161h-30.2v36.18H208.51Z\"/>\r\n        <path d=\"M311.29,152.49q0-21.88,12.2-34.1t34-12.2q22.32,0,34.4,12T404,151.76q0,15.69-5.28,25.72a37.54,37.54,0,0,1-15.25,15.61q-10,5.58-24.86,5.58-15.12,0-25-4.82a37.59,37.59,0,0,1-16.07-15.25Q311.28,168.18,311.29,152.49Zm27.63.13q0,13.55,5,19.46t13.7,5.91q8.91,0,13.79-5.79t4.88-20.8q0-12.63-5.1-18.46t-13.82-5.82A16.78,16.78,0,0,0,344,133Q338.93,139,338.92,152.62Z\"/>\r\n        <path d=\"M392.28,152.49q0-21.88,12.2-34.1t34-12.2q22.34,0,34.41,12t12.07,33.58q0,15.69-5.27,25.72a37.6,37.6,0,0,1-15.25,15.61q-10,5.58-24.86,5.58-15.13,0-25-4.82a37.67,37.67,0,0,1-16.08-15.25Q392.28,168.18,392.28,152.49Zm27.64.13q0,13.55,5,19.46T438.64,178q8.91,0,13.79-5.79t4.88-20.8q0-12.63-5.09-18.46t-13.82-5.82A16.77,16.77,0,0,0,425,133Q419.91,139,419.92,152.62Z\"/>\r\n        <path d=\"M482.08,107.72h27.64v67.41h43.13v22H482.08Z\"/>\r\n      </g>\r\n    </g>\r\n  </svg>\r\n)","export const GAMES = {\r\n  puzzle: {\r\n    navigationImage: \"puzzle.png\",\r\n    key: \"puzzle\",\r\n    name: \"\",\r\n    greetText:\r\n      \"       ,       2 ,\" +\r\n      \"  30 .\",\r\n    description:\r\n      \"        \",\r\n  },\r\n  audiocall: {\r\n    navigationImage: \"audio2.png\",\r\n    key: \"audiocall\",\r\n    name: \"\",\r\n    greetText:\r\n      \"    .      .\",\r\n    description:\r\n      \"       ,    4   \",\r\n  },\r\n  savannah: {\r\n    navigationImage: \"savannah.png\",\r\n    key: \"savannah\",\r\n    name: \"\",\r\n    greetText:\r\n      \"    .      .\",\r\n    description:\r\n      \"     ,    ,    6 !\",\r\n  },\r\n  sprint: {\r\n    navigationImage: \"sprint.png\",\r\n    key: \"sprint\",\r\n    name: \"\",\r\n    wordsMinCount: 60,\r\n    greetText:\r\n      \"        . \" +\r\n      \"       .\",\r\n    description:\r\n      \"          \",\r\n  },\r\n};\r\n\r\nexport const GAMES_ARRAY = Object.values(GAMES);\r\n\r\nexport const TEAM = [\r\n  {\r\n    name: \"\",\r\n    github: \"\",\r\n    image: \"van.png\",\r\n    about: \"\",\r\n  },\r\n  {\r\n    name: \"\",\r\n    github: \"\",\r\n    image: \"ann.png\",\r\n    about: \"\",\r\n  },\r\n  {\r\n    name: \"\",\r\n    github: \"\",\r\n    image: \"van.png\",\r\n    about: \"\",\r\n  },\r\n  {\r\n    name: \"\",\r\n    github: \"\",\r\n    image: \"ann.png\",\r\n    about: \"\",\r\n  },\r\n];\r\n","import React from \"react\";\r\nimport classesCss from \"./MainPage.module.scss\";\r\nimport GitHubButton from \"../../components/Buttons/GitHubButton\";\r\nimport { rssLogo } from \"../../assets/logo\";\r\nimport { TEAM } from \"../../settings/data\";\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <div className={classesCss.Footer}>\r\n      <div className={classesCss.RSSData}>\r\n        <a href={\"https://rs.school\"} className={classesCss.RSSLink}>\r\n          {rssLogo}\r\n        </a>\r\n        <div className={classesCss.FooterDate}>\r\n          <span>2021 .</span>\r\n        </div>\r\n      </div>\r\n      {/*<div className={classesCss.Authors}>*/}\r\n      {/*  {*/}\r\n      {/*    TEAM.map(({github, name}) => {*/}\r\n      {/*      return (<GitHubButton nickName={github} label={name} className={classesCss.GHButton}/>)*/}\r\n      {/*    })*/}\r\n      {/*  }*/}\r\n      {/*</div>*/}\r\n    </div>\r\n  );\r\n}\r\n","export const shuffle = (array) => {\r\n  const _array = array.slice(0)\r\n  for (let i = 0; i < array.length - 1; i++) {\r\n    let randomIndex = Math.floor(Math.random() * (i + 1))\r\n\r\n    // Swapping values\r\n    let temp = _array[i]\r\n    _array[i] = _array[randomIndex]\r\n    _array[randomIndex] = temp\r\n  }\r\n\r\n  return _array\r\n}\r\n\r\n\r\nexport const getRandomNumber = (min, max) => (\r\n  Math.floor(\r\n    Math.random() * (\r\n      Math.floor(max) - Math.ceil(min) + 1\r\n    ),\r\n  ) + min\r\n)\r\n\r\nfunction toRel(objRect){\r\n\r\n  return {\r\n    right: objRect.right,\r\n    left: objRect.right - objRect.width,\r\n    top: objRect.top,\r\n    bottom: objRect.top - objRect.height,\r\n  }\r\n}\r\n\r\n\r\nexport function checkCollision(staticObj, mobileObj){\r\n  const mobileHorizontalCenter = mobileObj.right - mobileObj.width / 2\r\n  const relStatic = toRel(staticObj)\r\n\r\n  return mobileHorizontalCenter < relStatic.right\r\n    && mobileHorizontalCenter > relStatic.left\r\n    && mobileObj.top > relStatic.bottom\r\n    && mobileObj.top - mobileObj.height < relStatic.top\r\n}\r\n\r\nexport const populateStatistics = (key, {id, ...totalStatistics}, gameStatistics) => {\r\n  const savedGameStatistic = totalStatistics.optional[key] ? JSON.parse(totalStatistics.optional[key]) : []\r\n  savedGameStatistic.push(gameStatistics);\r\n  return {...totalStatistics, optional: {...totalStatistics.optional, [key]: JSON.stringify(savedGameStatistic)}};\r\n};\r\n\r\nexport const getUserData = () => {\r\n  return JSON.parse(localStorage.getItem(\"userData\")) || {};\r\n};\r\n\r\nexport function setFirstLetterToCapital(word){\r\n  return word[0].toUpperCase() + word.slice(1)\r\n}","import React from \"react\"\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons\"\r\nimport classesCss from \"./Button.module.scss\"\r\nimport Button from \"./Button\";\r\nimport cx from \"classnames\"\r\n\r\nexport default function CloseButton({label, className, ...props}){\r\n  return(\r\n    <Button\r\n      className={cx(className, classesCss.CloseButton)}\r\n      label={<FontAwesomeIcon icon={faTimes}/>}\r\n      {...props}\r\n    />\r\n  )\r\n}","import React from 'react'\r\nimport CloseButton from \"../../../components/Buttons/CloseButton\";\r\nimport classesCss from \"./Navigation.module.scss\"\r\n\r\nexport default function AuthModal({children, className, style, onClose}){\r\n\treturn(\r\n\t\t<div\r\n\t\t\tstyle={style}\r\n\t\t\tclassName={className}\r\n\t\t>\r\n      <h3>!</h3>\r\n\t\t\t{children}\r\n\t\t\t<CloseButton\r\n\t\t\t\tonClick={onClose}\r\n        className={classesCss.CloseButton}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}","import React from \"react\"\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport { faSpinner } from \"@fortawesome/free-solid-svg-icons\";\r\nimport classesCss from \"./Loading.module.scss\"\r\n\r\nexport default function LoadingSpinner(){\r\n  return(\r\n    <FontAwesomeIcon\r\n      className={classesCss.LoadingSpinner}\r\n      icon={faSpinner}\r\n    />\r\n  )\r\n}","import React from \"react\"\r\nimport cx from \"classnames\"\r\nimport LoadingSpinner from \"./LoadingSpinner\";\r\nimport classesCss from \"./Loading.module.scss\"\r\n\r\nexport default function LoadingOverlay({className}){\r\n  return(\r\n    <div className={cx(className, classesCss.LoadingOverlay)}>\r\n      <LoadingSpinner />\r\n    </div>\r\n  )\r\n}","import React, { useState } from \"react\"\r\nimport cx from \"classnames\"\r\nimport Button from \"../../../components/Buttons/Button\"\r\nimport AuthModal from \"./AuthModal\"\r\nimport classesCss from \"./Navigation.module.scss\"\r\nimport Avatar from \"@material-ui/core/Avatar\"\r\nimport { useSelector } from \"react-redux\"\r\nimport { NavLink } from \"react-router-dom\"\r\nimport { SETTINGS } from \"../../../settings/settings\";\r\nimport LoadingOverlay from \"../../../components/Loading/LoadingOverlay\";\r\n\r\n\r\nexport default function AuthBlock({children}){\r\n\r\n  const {isLogged, email, settings, onLoading} = useSelector(state => state.user)\r\n  const [modalIsOpen, setModalIsOpen] = useState(false)\r\n\r\n  return (\r\n    <div className={classesCss.AuthBlock}>\r\n      {\r\n        !isLogged\r\n          ? <Button\r\n            label={\r\n              <div\r\n                style={{backgroundImage: `url(${process.env.PUBLIC_URL}/static/hi.png)`}}>\r\n                <span>{\"\"}</span>\r\n              </div>\r\n            }\r\n            className={cx(\r\n              classesCss.BubbleButton, classesCss.LoginButton, classesCss.AuthButton,\r\n              {[classesCss.Active]: modalIsOpen && !isLogged},\r\n            )}\r\n            onClick={() => setModalIsOpen(!modalIsOpen)}\r\n          />\r\n          :\r\n          <NavLink\r\n            className={classesCss.Avatar}\r\n            to=\"/user\">\r\n            <Avatar\r\n              alt={email.toUpperCase()}\r\n              src={settings?.optional?.image ?\r\n                `${SETTINGS.AWS_STORE_URL}/${settings.optional.image}`\r\n                : `${SETTINGS.AWS_STORE_URL}/${SETTINGS.DEFAULT_IMAGE}`}\r\n            />\r\n          </NavLink>\r\n      }\r\n      <AuthModal\r\n        onClose={() => setModalIsOpen(false)}\r\n        className={cx(\r\n          classesCss.AuthModal,\r\n          {[classesCss.Active]: modalIsOpen && !isLogged},\r\n        )}\r\n      >\r\n        {onLoading ? <LoadingOverlay className={classesCss.LoadingOverlay}/> : null}\r\n        {children}\r\n      </AuthModal>\r\n    </div>\r\n  )\r\n}","import React from \"react\"\r\nimport classesCss from \"./style/Input.module.scss\"\r\n\r\nexport default function Input({blockStyle, className, dataAttr, id, label, name, ...props}) {\r\n\r\n\tconst dataProps = {}\r\n\tfor (let attrName in dataAttr) {\r\n\t\tif (dataAttr.hasOwnProperty(attrName))\r\n\t\t\tdataProps[ `data-${attrName}` ] = dataAttr[ attrName ]\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tstyle={blockStyle}\r\n\t\t\tclassName={[classesCss.InputBlock, className].join(\" \")}>\r\n\t\t\t<label htmlFor={id || `inputId${name}`}>{label}</label>\r\n\t\t\t<input\r\n\t\t\t\tid={id || `inputId${name}`}\r\n        name={name}\r\n\r\n        {...props}\r\n\t\t\t\t{...dataProps}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}","import {SETTINGS} from \"../settings/settings\";\r\n\r\nconst SERVER = SETTINGS.SERVER\r\n\r\nconst getRequestData = (token, method = \"GET\", body = {}) => {\r\n  const request = {\r\n    method: method || \"GET\",\r\n    withCredentials: true,\r\n    headers: {\r\n      \"Authorization\": `Bearer ${token}`,\r\n      \"Accept\": \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  }\r\n  if (method !== \"GET\") request.body = JSON.stringify(body)\r\n  return request\r\n}\r\n\r\nexport async function authRequest(path, user){\r\n  return await fetch(SERVER + path,{\r\n    method: \"POST\",\r\n    withCredentials: true,\r\n    headers: {\r\n      \"Accept\": \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n}\r\n\r\nexport async function userDataRequest({token, id}){\r\n  return await fetch(`${SERVER}/users/${id}`, getRequestData(token))\r\n}\r\n\r\nexport async function tokenRequest({token, id}){\r\n  return await fetch(`${SERVER}/users/${id}/tokens`, getRequestData(token))\r\n}\r\n\r\nexport async function userSettingsRequest({token, id, settings = {}, method = \"GET\"}){\r\n  return await fetch(`${SERVER}/users/${id}/settings`, getRequestData(token, method, settings))\r\n}\r\n\r\nexport async function userSettingsRequestWithImage({token, id, data}){\r\n  return await fetch(`${SERVER}/users/${id}/settings/update`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      \"Authorization\": `Bearer ${token}`,\r\n      \"Accept\": \"application/json\",\r\n    },\r\n    body: data\r\n  })\r\n}\r\n\r\nexport async function userWordsRequest({token, id, method, wordId, word = {}}){\r\n  const request = `${SERVER}/users/${id}/words${wordId? \"/\" + wordId : \"\"}`\r\n  const wordToRequest = {...word}\r\n  if(method === \"PUT\"){\r\n    delete wordToRequest.wordId\r\n    delete wordToRequest.id\r\n  }\r\n  return await fetch(request, getRequestData(token, method, wordToRequest))\r\n}\r\n\r\n\r\nexport async function wordsRequest(group, page){\r\n  return await fetch(`${SERVER}/words?page=${page}&group=${group}`)\r\n}\r\n\r\n","import { userSettingsRequest, userWordsRequest } from \"../helpers/requsts.server\"\r\nimport { checkToken } from \"./actions.auth\"\r\nimport { ADD_WORD_TO_USER, SET_USER_SETTINGS, SET_USER_WORDS } from \"./types\"\r\n\r\nconst addWordToUser = word => ({type: ADD_WORD_TO_USER, payload: word})\r\nconst serUserWords = wordSet => ({type: SET_USER_WORDS, payload: wordSet})\r\n\r\n\r\nexport function setUserSettings(settings){\r\n  try {\r\n    const localData = JSON.parse(localStorage.getItem(\"userData\"))\r\n    localStorage.setItem(\"userData\", JSON.stringify({\r\n      ...localData,\r\n      settings: {\r\n        ...localData.settings,\r\n        ...settings,\r\n        optional: {\r\n          ...localData.settings.optional,\r\n          ...settings.optional,\r\n        },\r\n      },\r\n    }))\r\n  } catch (e) {\r\n  }\r\n  return {type: SET_USER_SETTINGS, payload: settings}\r\n}\r\n\r\nexport function getUserWords(){\r\n  return async (dispatch, getState) => {\r\n    const token = await dispatch(checkToken())\r\n    if (token) {\r\n      const {id} = getState().user\r\n      const rawRes = await userWordsRequest({token, id, method: \"GET\"})\r\n      if (rawRes.ok) {\r\n        const wordSet = await rawRes.json()\r\n        dispatch(serUserWords(wordSet))\r\n        return wordSet\r\n      }\r\n    } else {\r\n      console.log(\"token expired\")\r\n    }\r\n  }\r\n}\r\n\r\nexport function addUserWord(word, data = {}){\r\n\r\n  const optionalPattern = {\r\n    group: word.group,\r\n    page: word.page,\r\n    successCounter: 0,\r\n    failCounter: 0,\r\n    deleted: false,\r\n  }\r\n\r\n  return async (dispatch, getState) => {\r\n    const token = await dispatch(checkToken())\r\n    if (token) {\r\n      const {id} = getState().user\r\n      const userWord = {\r\n        ...data,\r\n        optional: {\r\n          ...optionalPattern,\r\n          ...data.optional,\r\n        },\r\n      }\r\n      const rawRes = await userWordsRequest({\r\n        token,\r\n        id,\r\n        method: \"POST\",\r\n        wordId: word.id,\r\n        word: userWord,\r\n      })\r\n      if (rawRes.ok) {\r\n        const res = await rawRes.json()\r\n        dispatch(addWordToUser(res))\r\n        return res\r\n      }\r\n    } else {\r\n      console.log(\"token expired\")\r\n    }\r\n  }\r\n}\r\n\r\nexport function updateExistingUserWord(word){\r\n  return async (dispatch, getState) => {\r\n    const token = await dispatch(checkToken())\r\n    if (token) {\r\n      const {id} = getState().user\r\n      const rawRes = await userWordsRequest({\r\n        token,\r\n        id,\r\n        wordId: word.wordId,\r\n        word: word,\r\n        method: \"PUT\",\r\n      })\r\n      if (rawRes.ok) {\r\n        const res = await rawRes.json()\r\n        dispatch(addWordToUser(res))\r\n        return res\r\n      }\r\n    } else {\r\n      console.log(\"token expired\")\r\n    }\r\n  }\r\n}\r\n\r\nexport function updateUserSettings(settings){\r\n  return async (dispatch, getState) => {\r\n    const token = await dispatch(checkToken())\r\n    if (token) {\r\n      const {id, settings: currentSettings} = getState().user\r\n      const updatedSettings = {\r\n        ...currentSettings,\r\n        ...settings,\r\n        optional: {\r\n          ...currentSettings.optional,\r\n          ...settings.optional,\r\n        },\r\n      }\r\n      const rawRes = await userSettingsRequest({token, id, method: \"POST\", updatedSettings})\r\n      if (rawRes.ok) {\r\n        const res = await rawRes.json()\r\n        dispatch(setUserSettings(res))\r\n      }\r\n    } else {\r\n      console.log(\"token expired\")\r\n    }\r\n  }\r\n}\r\n","import { wordsRequest } from \"../helpers/requsts.server\"\r\nimport { ADD_WORDS_CHUNK, ADD_WORDS_GROUP } from \"./types\"\r\n\r\nconst addWordsChunk = wordsChunk => ({type: ADD_WORDS_CHUNK, payload: wordsChunk})\r\nconst addWordsGroup = wordsGroup => ({type: ADD_WORDS_GROUP, payload: wordsGroup})\r\n\r\nexport function syncUserWords(){\r\n\treturn async (dispatch, getState) => {\r\n\t\tconst {user, words} = getState()\r\n\t\tfor (let groupIndex in user.words) {\r\n\t\t\tif (user.words.hasOwnProperty(groupIndex)) {\r\n\t\t\t\tconst pages = []\r\n\t\t\t\tfor (let pageIndex in user.words[groupIndex]) {\r\n\t\t\t\t\tif (user.words[groupIndex].hasOwnProperty(pageIndex)\r\n\t\t\t\t\t\t&& (!words[groupIndex] || !words[groupIndex][pageIndex]?.length)) pages.push(pageIndex)\r\n\t\t\t\t}\r\n\t\t\t\tdispatch(getWords(groupIndex, pages))\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function getWords(group = 0, page = 0){\r\n\treturn async dispatch => {\r\n\t\tif (Array.isArray(page)) {\r\n\t\t\tconst promiseQueue = []\r\n\t\t\tpage.forEach((pageNum) => {\r\n\t\t\t\tpromiseQueue.push(wordsRequest(group, pageNum))\r\n\t\t\t})\r\n\r\n\t\t\tconst rawRes = await Promise.all(promiseQueue)\r\n\t\t\tconst res = await Promise.all(rawRes.map((rawResPage) => {\r\n\t\t\t\treturn rawResPage.json()\r\n\t\t\t}))\r\n\t\t\tconst data = {}\r\n\t\t\tres.forEach((resPage) => {\r\n\t\t\t\tdata[resPage[0].page] = resPage\r\n\t\t\t})\r\n\t\t\tdispatch(addWordsGroup({data, group}))\r\n      return data\r\n\t\t} else {\r\n\t\t\ttry {\r\n\t\t\t\tconst rawRes = await wordsRequest(group, page)\r\n\t\t\t\tconst data = await rawRes.json()\r\n\t\t\t\tdispatch(addWordsChunk({data, group, page}))\r\n\t\t\t\treturn data\r\n\t\t\t} catch (e) {\r\n\t\t\t\treturn (e)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}","import moment from \"moment\"\r\nimport { getUserWords } from \"./actions.user\"\r\nimport { syncUserWords } from \"./actions.words\"\r\nimport { authRequest, tokenRequest, userDataRequest, userSettingsRequest } from \"../helpers/requsts.server\"\r\nimport { LOADING, LOG_OUT, SIGN_IN } from \"./types\"\r\nimport { TOKEN_EXPIRE_TIME, TOKEN_START_REFRESH } from \"../settings/settings\"\r\n\r\nconst setLoading = status => ({type: LOADING, payload: status ?? true})\r\nconst setUser = userData => ({type: SIGN_IN, payload: userData})\r\nconst unsetUser = () => ({type: LOG_OUT})\r\n\r\n\r\nconst getNextExpireTime = () => moment().add(TOKEN_EXPIRE_TIME, \"hours\").toISOString()\r\n\r\n\r\nexport function createUser(user){\r\n  return async dispatch => {\r\n    dispatch(setLoading())\r\n    const rawRes = await authRequest(\"/users\", user)\r\n    if (rawRes.ok) {\r\n      dispatch(signIn(user, true))\r\n    } else {\r\n      dispatch(setLoading(false))\r\n    }\r\n  }\r\n}\r\n\r\nasync function getUserSettings(data, callsCount = 0){\r\n  try{\r\n    const userExistingSettings = await userSettingsRequest(data)\r\n    if(userExistingSettings.ok) {\r\n      const c = await userExistingSettings.json()\r\n      console.log(c)\r\n      return c\r\n    }\r\n    const userNewSettings = await userSettingsRequest({...data, method:\"PUT\", settings:{optional:{}}})\r\n    if(userNewSettings.ok && callsCount < 3) return await getUserSettings(data, callsCount++)\r\n    else return {}\r\n  } catch(e){\r\n    if(callsCount) console.log(e)\r\n  }\r\n\r\n}\r\n//onLoading - when call from another action and don't need to set onLoading one more time\r\nexport function signIn(user, onLoading = false){\r\n  return async (dispatch) => {\r\n    if (!onLoading) dispatch(setLoading())\r\n    const rawRes = await authRequest(\"/signin\", user)\r\n    if (rawRes.ok) {\r\n      try {\r\n        const userAuthData = await rawRes.json()\r\n        const userRawData = await userDataRequest({token: userAuthData.token, id: userAuthData.userId})\r\n        const userData = await userRawData.json()\r\n        const userSettings = await getUserSettings({token: userAuthData.token, id: userAuthData.userId})\r\n        userAuthData.tokenExpire = getNextExpireTime()\r\n        const fullUserData = {...userAuthData, ...userData, settings: userSettings, words: {}}\r\n        dispatch(setUser(fullUserData))\r\n        await dispatch(getUserWords())\r\n        await dispatch(syncUserWords())\r\n        localStorage.setItem(\"userData\", JSON.stringify(fullUserData))\r\n      } catch (e) {\r\n        console.log(\"Error during authentication\", e)\r\n      }\r\n    }\r\n    dispatch(setLoading(false))\r\n  }\r\n}\r\n\r\nexport function logOut(){\r\n  return dispatch => {\r\n    try {\r\n      localStorage.setItem(\"userData\", \"{}\")\r\n    } catch (e) {\r\n    }\r\n    dispatch(unsetUser())\r\n  }\r\n}\r\n\r\nexport function checkToken(){\r\n  return async (dispatch, getState) => {\r\n    const {token, id, tokenExpire, refreshToken} = getState().user\r\n    const timeToStartRefresh = moment(tokenExpire).subtract(TOKEN_START_REFRESH, \"hours\")\r\n    if (moment().isBefore(tokenExpire)) {\r\n      if (moment().isAfter(timeToStartRefresh)) {\r\n        const rawRes = await tokenRequest({token: refreshToken, id})\r\n        const res = await rawRes.json()\r\n        const updateUserData = {\r\n          ...res,\r\n          tokenExpire: getNextExpireTime(),\r\n        }\r\n        localStorage.setItem(\"userData\", JSON.stringify({\r\n          ...JSON.parse(localStorage.getItem(\"userData\")),\r\n          ...updateUserData,\r\n        }))\r\n        dispatch(setUser(updateUserData))\r\n        return updateUserData.token\r\n      }\r\n      return token\r\n    }\r\n    return false\r\n  }\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport Button from \"../../../components/Buttons/Button\";\r\nimport Input from \"../../../components/Forms/Input/Input\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { createUser, signIn } from \"../../../redux/actions.auth\";\r\nimport classesCss from \"./Navigation.module.scss\";\r\n\r\nconst AuthForm = () => {\r\n  const [form, setForm] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const [error, setError] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(false);\r\n  const [buttonPressed, setButtonPressed] = useState(false);\r\n\r\n  const dispatch = useDispatch();\r\n  const { onLoading } = useSelector((state) => state.user);\r\n\r\n  const changeHandler = (event) => {\r\n    setForm({ ...form, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (buttonPressed && !onLoading) {\r\n      setError(true);\r\n      setErrorMessage(\" Email  !\");\r\n    }\r\n  }, [onLoading]);\r\n\r\n  const login = (mode) => {\r\n    const validEmail = /^([a-z0-9_-]+\\.)*[a-z0-9_-]+@[a-z0-9_-]+(\\.[a-z0-9_-]+)*\\.[a-z]{2,6}$/;\r\n    if (!validEmail.test(form.email)) {\r\n      setError(true);\r\n      setErrorMessage(\" Email\");\r\n    } else if (form.password.length < 8) {\r\n      setError(true);\r\n      setErrorMessage(\"   - 8 \");\r\n    } else {\r\n      if (mode === \"login\") {\r\n        dispatch(signIn(form));\r\n      } else {\r\n        dispatch(createUser(form));\r\n      }\r\n      setButtonPressed(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classesCss.AuthForm}>\r\n      <Input\r\n        autoComplete={\"off\"}\r\n        className={classesCss.AuthInput}\r\n        type={\"text\"}\r\n        name={\"email\"}\r\n        label={`Email: `}\r\n        onChange={changeHandler}\r\n      />\r\n      <Input\r\n        autoComplete={\"off\"}\r\n        className={classesCss.AuthInput}\r\n        type={\"password\"}\r\n        name={\"password\"}\r\n        label={\" \"}\r\n        onChange={changeHandler}\r\n        minLength={8}\r\n      />\r\n      {error && <div>{errorMessage}</div>}\r\n      <div className={classesCss.AuthButtonSet}>\r\n        <Button\r\n          onClick={() => login(\"login\")}\r\n          disabled={onLoading}\r\n          label={\"\"}\r\n          className={[classesCss.SignInButton].join(\" \")}\r\n        />\r\n\r\n        <Button\r\n          onClick={() => login(\"register\")}\r\n          disabled={onLoading}\r\n          label={\"\"}\r\n          className={[classesCss.SignUpButton].join(\" \")}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AuthForm;\r\n","import React from \"react\";\r\nimport Button from \"./Button\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport classesCss from \"../../pages/MainPage/Navigation/Navigation.module.scss\";\r\nimport cx from \"classnames\";\r\nimport { MODE_BOOK } from \"../../settings/settings\";\r\n\r\nexport default function BookButton({ className, label }) {\r\n  return (\r\n    <NavLink to={`/${MODE_BOOK}/1/1`}>\r\n      <Button\r\n        label={\r\n          <div style={{backgroundImage: `url(${process.env.PUBLIC_URL}/static/books.png)`}}>\r\n            <span>{label || \"\"}</span>\r\n          </div>\r\n          }\r\n\r\n        className={cx(classesCss.BubbleButton, className)}\r\n      />\r\n    </NavLink>\r\n  );\r\n}\r\n","import React from \"react\"\r\nimport Button from \"./Button\";\r\nimport { Link } from \"react-router-dom\";\r\nimport classesCss from \"./Button.module.scss\"\r\nimport cx from \"classnames\"\r\n\r\nexport default function GameButton({gameCallValues, game, className, classes = {}}){\r\n\r\n  return (\r\n    <Link\r\n      className={classes?.link}\r\n      to={{pathname: `/games/${game.key}`, state: gameCallValues}}>\r\n      <Button\r\n        className={cx(classesCss.GameButton, className)}\r\n        label={\r\n          <div\r\n            style={{backgroundImage: `url(${process.env.PUBLIC_URL}/static/${game.navigationImage})`}}>\r\n          <span className={classes?.label}>\r\n            {game.name}\r\n          </span>\r\n          </div>\r\n        }\r\n      />\r\n    </Link>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport cx from \"classnames\"\r\nimport { setFirstLetterToCapital } from \"../../../helpers/gameUtils\";\r\nimport AuthBlock from \"./AuthBlock\";\r\nimport AuthForm from \"./AuthForm\";\r\nimport BookButton from \"../../../components/Buttons/BookButton\";\r\nimport GameButton from \"../../../components/Buttons/GameButton\";\r\nimport classesCss from \"./Navigation.module.scss\";\r\nimport { GAMES_ARRAY } from \"../../../settings/data\";\r\n\r\n\r\nexport default function NavigationBar({className}) {\r\n\r\n  return (\r\n    <div className={cx(classesCss.Navigation, className)}>\r\n      <AuthBlock><AuthForm/></AuthBlock>\r\n      <BookButton className={cx(classesCss.BookButton)}/>\r\n      {\r\n        GAMES_ARRAY.map(game => {\r\n          return(\r\n            <GameButton\r\n              key={game.name}\r\n              game={game}\r\n              className={cx(\r\n                classesCss.BubbleButton,\r\n                classesCss.GameButton,\r\n                classesCss[setFirstLetterToCapital(game.key)])}\r\n            />)\r\n        })\r\n      }\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\"\r\nimport Button from \"./Button\";\r\nimport cx from \"classnames\"\r\nimport classesCss from \"./Button.module.scss\"\r\n\r\nexport default function LearnMoreButton({className}){\r\n\r\n  return(\r\n    <Button\r\n      label={\" \"}\r\n      className={cx(classesCss.TransparentButton, className)}\r\n    />\r\n  )\r\n}","import React, { useState } from \"react\";\r\nimport classesCss from \"./MainPage.module.scss\";\r\nimport cx from \"classnames\";\r\nimport Button from \"../../components/Buttons/Button\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faAngleLeft, faAngleRight } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport LearnMoreButton from \"../../components/Buttons/LearnMoreButton\";\r\n\r\nconst slideCount = 1;\r\nexport default function DescriptionBlock() {\r\n  const [currentSlide, setCurrentSlide] = useState(0);\r\n\r\n  return (\r\n    <div className={classesCss.DescriptionBlock}>\r\n      <div className={classesCss.SlideBlock}>\r\n        <div\r\n          className={cx(classesCss.Slide, {\r\n            [classesCss.Active]: currentSlide === 0,\r\n          })}\r\n        >\r\n          <h2>RSLang</h2>\r\n          <Link\r\n            className={classesCss.LearnMoreLink}\r\n            to={{ pathname: \"/about\" }}\r\n          >\r\n            <LearnMoreButton />\r\n          </Link>\r\n          <p>\r\n                  !  \r\n            -    .    ,\r\n                .     \r\n             .\r\n          </p>\r\n        </div>\r\n        {/*<div className={cx(*/}\r\n        {/*  classesCss.Slide,*/}\r\n        {/*  {[classesCss.Active]: currentSlide === 1},*/}\r\n        {/*)}>*/}\r\n        {/*  <h2> </h2>*/}\r\n        {/*  <Link className={classesCss.LearnMoreLink} to={{pathname:\"/about\", hash:\"team\"}}>*/}\r\n        {/*    <LearnMoreButton />*/}\r\n        {/*  </Link>*/}\r\n        {/*  <p>*/}\r\n        {/*     , ,    -   js     Rolling Scopes school  React       .*/}\r\n        {/*  </p>*/}\r\n        {/*</div>*/}\r\n      </div>\r\n      {/*<div className={classesCss.NavigationBlock}>*/}\r\n      {/*  <div className={classesCss.Pagination}>*/}\r\n      {/*    {Array(slideCount)*/}\r\n      {/*      .fill(null)*/}\r\n      {/*      .map((el, index) => {*/}\r\n      {/*        return (*/}\r\n      {/*          <Button*/}\r\n      {/*            key={\"paginationMainPageButton\" + index}*/}\r\n      {/*            className={cx(classesCss.PaginationButton, {*/}\r\n      {/*              [classesCss.Active]: index === currentSlide,*/}\r\n      {/*            })}*/}\r\n      {/*            onClick={() => setCurrentSlide(index)}*/}\r\n      {/*          />*/}\r\n      {/*        );*/}\r\n      {/*      })}*/}\r\n      {/*  </div>*/}\r\n      {/*  <div className={classesCss.ButtonBlock}>*/}\r\n      {/*    <Button*/}\r\n      {/*      className={classesCss.NavigationButton}*/}\r\n      {/*      label={<FontAwesomeIcon icon={faAngleLeft} />}*/}\r\n      {/*      onClick={*/}\r\n      {/*        currentSlide - 1 >= 0*/}\r\n      {/*          ? () => setCurrentSlide(currentSlide - 1)*/}\r\n      {/*          : () => setCurrentSlide(slideCount - 1)*/}\r\n      {/*      }*/}\r\n      {/*    />*/}\r\n      {/*    <Button*/}\r\n      {/*      className={classesCss.NavigationButton}*/}\r\n      {/*      label={<FontAwesomeIcon icon={faAngleRight} />}*/}\r\n      {/*      onClick={*/}\r\n      {/*        currentSlide + 1 < slideCount*/}\r\n      {/*          ? () => setCurrentSlide(currentSlide + 1)*/}\r\n      {/*          : () => setCurrentSlide(0)*/}\r\n      {/*      }*/}\r\n      {/*    />*/}\r\n      {/*  </div>*/}\r\n      {/*</div>*/}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\"\r\nimport classesCss from \"./MainPage.module.scss\"\r\nimport Footer from \"./Footer\";\r\nimport NavigationBar from \"./Navigation/NavigationBar\";\r\nimport DescriptionBlock from \"./DescriptionBlock\";\r\n\r\nconst girlStyle = {\r\n  backgroundImage: `url(${process.env.PUBLIC_URL}/static/girl.png)`,\r\n}\r\n\r\nexport default function MainPage(){\r\n\r\n  return (\r\n    <div className={classesCss.MainPage}>\r\n      <div className={classesCss.Bg}>\r\n        <NavigationBar className={classesCss.NavigationZIndex} />\r\n        <div className={classesCss.Girl}>\r\n          <div style={girlStyle}/>\r\n        </div>\r\n        <div className={classesCss.Wave} />\r\n        <DescriptionBlock />\r\n        <Footer  />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import {\r\n  REMOVE_PAGE_FROM_LIST,\r\n  SET_BOOK_BUTTONS_VISIBLE,\r\n  SET_BOOK_MODE, SET_BOOK_TRANSLATE_VISIBLE,\r\n  SET_CURRENT_GROUP,\r\n  SET_CURRENT_PAGE, SET_VOCABULARY_CURRENT_PAGE, SET_CURRENT_WORDS, SET_VOCABULARY_MODE, SET_VOCABULARY_WORDS\r\n} from \"./types\";\r\n\r\nexport const removePagesFromPageList = (group, page) => ({type: REMOVE_PAGE_FROM_LIST, payload:{group, page}})\r\nexport const setCurrentPage = page => ({type: SET_CURRENT_PAGE, payload:{page}})\r\nexport const setCurrentGroup = group => ({type: SET_CURRENT_GROUP, payload:{group}})\r\nexport const setCurrentWords = words => ({type: SET_CURRENT_WORDS, payload:{words}})\r\nexport const setBookMode = mode => ({type: SET_BOOK_MODE, payload:{mode}})\r\nexport const setButtonsVisible = visibility => ({type: SET_BOOK_BUTTONS_VISIBLE, payload:{visibility}})\r\nexport const setTranslateVisible = visibility => ({type: SET_BOOK_TRANSLATE_VISIBLE, payload:{visibility}})\r\nexport const setVocabularyMode = mode => ({type: SET_VOCABULARY_MODE, payload: {mode}})\r\nexport const setVocabularyCurrentPage = page => ({type: SET_VOCABULARY_CURRENT_PAGE, payload:{page}})\r\nexport const setVocabularyWords = words => ({type: SET_VOCABULARY_WORDS, payload:{words}})","import { useState, useEffect, useCallback } from \"react\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { getWords } from \"../redux/actions.words\"\r\n\r\nconst initialRequest = {\r\n\tgroup: null,\r\n\tpage: null,\r\n}\r\n\r\n//Usage\r\n//const {currentWords, getWordsChunk, onLoading} = useWords()\r\n\r\nexport function useWords(){\r\n\tconst dispatch = useDispatch()\r\n\tconst words = useSelector(state => state.words)\r\n\tconst [currentWords, setCurrentWords] = useState(null)\r\n\tconst [currentRequest, setCurrentRequest] = useState(initialRequest)\r\n\tconst [onLoading, setOnLoading] = useState(false)\r\n\r\n\tconst getWordsChunk = useCallback((group, page) => {\r\n\t\tif (words[group] && words[group][page]) {\r\n\t\t\tsetCurrentWords(words[group][page])\r\n\t\t\tsetOnLoading(false)\r\n\t\t\treturn words[group][page]\r\n\r\n\t\t} else {\r\n\t\t\tsetCurrentRequest({group, page})\r\n\t\t\tsetOnLoading(true)\r\n\t\t\treturn dispatch(getWords(group, page))\r\n\t\t}\r\n\t}, [dispatch, words])\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tif (words[currentRequest.group]\r\n\t\t\t&& words[currentRequest.group][currentRequest.page]\r\n\t\t\t&& currentRequest.page !== null\r\n\t\t\t&& currentRequest.group !== null) {\r\n\t\t\tsetCurrentWords(words[currentRequest.group][currentRequest.page])\r\n\t\t\tsetCurrentRequest(initialRequest)\r\n\t\t}\r\n\t}, [words, currentRequest.group, currentRequest.page])\r\n\r\n\treturn {currentWords, getWordsChunk, onLoading}\r\n}\r\n\r\nconst initialGroupRequest = {\r\n\tgroup: null,\r\n}\r\n\r\n\r\n//Usage\r\n//const {currentWordsGroup, getWordsGroup, onGroupLoading} = useWordsGroup()\r\n\r\nexport function useWordsGroup(){\r\n\tconst dispatch = useDispatch()\r\n\tconst words = useSelector(state => state.words)\r\n\tconst [onGroupLoading, setGroupLoading] = useState(false)\r\n\tconst [currentRequest, setCurrentRequest] = useState(initialGroupRequest)\r\n\tconst [currentWordsGroup, setCurrentWordsGroup] = useState(null)\r\n\r\n\tconst getWordsGroup = useCallback(async (group) => {\r\n\t\tif (!words[group] || Object.keys(words[group]).length < 30) {\r\n\t\t\tsetGroupLoading(true)\r\n\t\t\tconst requestPages = []\r\n\t\t\tfor (let i = 0; i < 30; i++) {\r\n\t\t\t\tif (!words[group] || !(i in words[group])) requestPages.push(i)\r\n\t\t\t}\r\n\t\t\tsetCurrentRequest({group})\r\n      return await dispatch(getWords(group, requestPages))\r\n\t\t}\r\n    setCurrentWordsGroup(words[group])\r\n    return words[group]\r\n\t}, [words, dispatch])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (words[currentRequest.group]\r\n\t\t\t&& Object.keys(words[currentRequest.group]).length >= 30\r\n\t\t\t&& currentRequest.group !== null) {\r\n\t\t\tsetGroupLoading(false)\r\n\t\t\tsetCurrentWordsGroup(words[currentRequest.group])\r\n\t\t\tsetCurrentRequest(initialGroupRequest)\r\n\t\t}\r\n\t}, [words, currentRequest.group])\r\n\r\n\treturn {currentWordsGroup, getWordsGroup, onGroupLoading}\r\n}\r\n","import React, { useMemo } from \"react\"\r\nimport Button from \"./Button\";\r\nimport classesCss from \"./Button.module.scss\"\r\nimport cx from \"classnames\"\r\n\r\n\r\n\r\n\r\nexport default function SoundButton({file, className, ...props}){\r\n\r\n  const pronounce = useMemo(() => {\r\n    return new Audio(file)\r\n  }, [file])\r\n\r\n  return (\r\n    <Button\r\n      onClick={() => pronounce.play()}\r\n      className={cx(className, classesCss.SoundButton)}\r\n      label={\"volume_up\"}\r\n      {...props}\r\n    />\r\n  )\r\n};","import React from \"react\"\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faBolt } from \"@fortawesome/free-solid-svg-icons\"\r\nimport classesCss from \"./Button.module.scss\"\r\nimport Button from \"./Button\";\r\nimport cx from \"classnames\"\r\n\r\nexport default function HardButton({label, className, ...props}){\r\n  return(\r\n    <Button\r\n      className={cx(className, classesCss.HardButton)}\r\n      label={<FontAwesomeIcon icon={faBolt}/>}\r\n      {...props}\r\n    />\r\n  )\r\n}","import { getRandomNumber } from \"./gameUtils\"\r\n\r\nexport function createRandomChunkFromGroup(group, length = 20){\r\n\tconst chunk = []\r\n\tconst groupLength = Object.keys(group).length\r\n\twhile (chunk.length < length) {\r\n\t\tconst randChunk = group[getRandomNumber(0, groupLength - 1)]\r\n\t\tconst randomWord = randChunk[getRandomNumber(0, randChunk.length - 1)]\r\n\t\tif (chunk.findIndex(word => word.id === randomWord.id) === -1) {\r\n\t\t\tchunk.push({...randomWord})\r\n\t\t}\r\n\t}\r\n\treturn chunk\r\n}\r\n\r\nexport function getUserWordsChunk(chunk, userChunk, {difficulty, deleted} = {}){\r\n\tif (userChunk.length > 0) {\r\n\t\tlet filteredWords = [...userChunk]\r\n\t\tif (typeof deleted === \"boolean\") {\r\n\t\t\tfilteredWords = filteredWords.filter(({optional}) => Boolean(optional.deleted) === deleted)\r\n\t\t}\r\n\t\tif (difficulty) {\r\n\t\t\tfilteredWords = filteredWords.filter((word) => word.difficulty === difficulty)\r\n\t\t}\r\n\t\treturn chunk.map(el => {\r\n\t\t\tconst userWord = filteredWords.find(({wordId}) => wordId === el.id)\r\n\t\t\tif (userWord) {\r\n\t\t\t\treturn {...el, difficulty: userWord.difficulty, optional: userWord.optional, userWord:true}\r\n\t\t\t}\r\n\t\t\treturn el\r\n\t\t}).filter(el => el.userWord)\r\n\t}\r\n\treturn []\r\n}\r\n\r\nexport function getUserWordsGroup(group, userGroup, {difficulty, deleted} = {}){\r\n\tconst crossedGroup = {}\r\n\tif (userGroup) {\r\n\t\tfor (let page in userGroup) {\r\n\t\t\tif (userGroup.hasOwnProperty(page)) {\r\n\t\t\t\tcrossedGroup[page] = getUserWordsChunk(group[page], userGroup[page], {difficulty, deleted})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn crossedGroup\r\n}\r\n","import { useDispatch, useSelector } from \"react-redux\"\r\nimport { useCallback, useState, useEffect } from \"react\"\r\nimport { addUserWord, updateExistingUserWord } from \"../redux/actions.user\"\r\nimport {\r\n\tgetUserWordsGroup as getUserWordsGroupHelper,\r\n\tgetUserWordsChunk as getUserWordsChunkHelper } from \"../helpers/utils.words\"\r\nimport {useWords, useWordsGroup} from \"./hooks.words\"\r\n\r\n\r\n\r\n//Usage\r\n// const { update, updatedWord, onError } = useUserWordUpdate()\r\n// update(word, data)\r\n// word - word from book\r\n// data = {\r\n//  difficulty: weak | normal | hard,\r\n//\tsuccessCounter: Number,\r\n//\tfailCounter: Number,\r\n//  succeed: boolean\r\n// }\r\n//\r\n\r\nexport function useUserWordUpdate(){\r\n\tconst user = useSelector(store => store.user)\r\n\tconst dispatch = useDispatch()\r\n\tconst [updatedWord, setUpdatedWord] = useState(null)\r\n\tconst [onError, setOnError] = useState(null)\r\n\r\n\tconst update = useCallback(async (word, data = {}) => {\r\n\r\n    const {difficulty, succeed, failed, ...optional} = data\r\n\r\n    if(typeof succeed === \"boolean\"){\r\n      optional.successCounter = Number(succeed)\r\n      optional.failCounter = Number(!succeed)\r\n    }\r\n\r\n\t\tif (user.words[word.group] && user.words[word.group][word.page]) {\r\n\t\t\tconst currentWord = user.words[word.group][word.page].find(userWord => userWord.wordId === word.id)\r\n\t\t\tif (currentWord) {\r\n        if(currentWord.optional?.successCounter && optional.successCounter >= 0){\r\n          optional.successCounter = currentWord.optional.successCounter + optional.successCounter\r\n        }\r\n        if(currentWord.optional?.failCounter  && optional.failCounter >= 0){\r\n          optional.failCounter = currentWord.optional.failCounter + optional.failCounter\r\n        }\r\n\r\n\t\t\t\tconst wordForUpdate = {\r\n\t\t\t\t\t...currentWord,\r\n\t\t\t\t\tdifficulty: difficulty || currentWord.difficulty || \"normal\",\r\n\t\t\t\t\toptional: {\r\n\t\t\t\t\t\t...currentWord.optional,\r\n\t\t\t\t\t\t...optional,\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t\treturn dispatch(updateExistingUserWord(wordForUpdate)).then( updatedWord => {\r\n\t\t\t\t\tsetUpdatedWord(updatedWord)\r\n          return updatedWord\r\n\t\t\t\t}).catch(e => {\r\n\t\t\t\t\tsetOnError({word: wordForUpdate, e})\r\n\t\t\t\t\treturn wordForUpdate\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn dispatch(addUserWord(word, {difficulty: difficulty || \"normal\", optional})).then((word) => {\r\n\t\t\tsetUpdatedWord(word)\r\n      return word\r\n\t\t}).catch(e => setOnError({word, e}))\r\n\t}, [user, dispatch, updatedWord])\r\n\treturn { update, updatedWord, onError }\r\n}\r\n\r\n\r\n//Usage\r\n//const {currentUserWords, getUserWordsChunk, onLoading} = useUserWords()\r\n\r\nexport function useUserWords(){\r\n\tconst user = useSelector(store => store.user)\r\n\tconst words = useSelector(store => store.words)\r\n\r\n\tconst {getWordsChunk} = useWords()\r\n\tconst [onLoading, setOnLoading] = useState(false)\r\n\tconst [currentUserWords, setCurrentUserWords] = useState(null)\r\n \tconst [subscription, setSubscription] = useState(null)\r\n\r\n\tconst getUserWordsChunk = useCallback((group, page, filters = {}) => {\r\n\t  if(user?.isLogged){\r\n      if(user.words[group] && user.words[group][page]){\r\n        if(words && words[group] && words[group][page]){\r\n          const chunk = getUserWordsChunkHelper(words[group][page], user.words[group][page], filters)\r\n          setCurrentUserWords(chunk)\r\n          return chunk\r\n        } else {\r\n          setOnLoading(true)\r\n          return getWordsChunk(group, page).then((resWords) => {\r\n            setCurrentUserWords(\r\n              getUserWordsChunkHelper(resWords, user.words[group][page], filters)\r\n            )\r\n            return resWords\r\n          })\r\n        }\r\n      } else {\r\n        setSubscription({group, page, filters})\r\n        return false\r\n      }\r\n    } else {\r\n\t    console.log(\"User is not logged in\")\r\n    }\r\n\t}, [user.words, words, getWordsChunk, user.isLogged])\r\n\r\n\tuseEffect(() => {\r\n    if(subscription && user.words[subscription.group] && user.words[subscription.group][subscription.page]){\r\n      const {group, page, filters} = subscription\r\n      getUserWordsChunk(group, page, filters)\r\n      setSubscription(null)\r\n    }\r\n\t}, [user.words, subscription, getUserWordsChunk])\r\n\r\n\tuseEffect(() => {\r\n\t\tif(onLoading && currentUserWords){\r\n\t\t\tsetOnLoading(false)\r\n\t\t}\r\n\t}, [currentUserWords, onLoading])\r\n\r\nreturn {currentUserWords, getUserWordsChunk, onLoading}\r\n}\r\n\r\n//Usage\r\n//const {getUserWordsGroup, onLoading, currentUserWordsGroup} = useUserWordsGroup()\r\nexport function useUserWordsGroup(){\r\n\tconst user = useSelector(store => store.user)\r\n\tconst words = useSelector(store => store.words)\r\n\tconst {getWordsGroup} = useWordsGroup()\r\n\tconst [currentUserWordsGroup, setCurrentUserWordsGroup] = useState(null)\r\n\tconst [onLoading, setOnLoading] = useState(false)\r\n\tconst [subscription, setSubscription] = useState(null)\r\n\r\n\r\n\tconst getUserWordsGroup = useCallback((group, filters) => {\r\n\t\tif(user.words[group]){\r\n\t\t\tif(words && words[group]){\r\n\t\t\t\tconst userGroup = getUserWordsGroupHelper(words[group], user.words[group], filters)\r\n\t\t\t\tsetCurrentUserWordsGroup(userGroup)\r\n\t\t\t\treturn userGroup\r\n\t\t\t} else {\r\n\t\t\t\tsetOnLoading(true)\r\n\t\t\t\treturn getWordsGroup(group).then((resGroup) => {\r\n\t\t\t\t\tsetCurrentUserWordsGroup(\r\n\t\t\t\t\t\tgetUserWordsGroupHelper(resGroup, user.words[group], filters)\r\n\t\t\t\t\t)\r\n          return resGroup\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetSubscription({group, filters})\r\n\t\t\treturn false\r\n\t\t}\r\n\t}, [getWordsGroup, user.words, words])\r\n\r\n\tuseEffect(() => {\r\n\t\tif(subscription && user.words[subscription.group]){\r\n\t\t  const {group, filters} = subscription\r\n      setSubscription(null)\r\n      getUserWordsGroup(group, filters)\r\n\t\t}\r\n\t}, [user.words, subscription])\r\n\r\n\tuseEffect(() => {\r\n\t\tif(onLoading && currentUserWordsGroup){\r\n\t\t\tsetOnLoading(false)\r\n\t\t}\r\n\t}, [currentUserWordsGroup, onLoading])\r\n\r\n\treturn {getUserWordsGroup, onLoading, currentUserWordsGroup}\r\n}","import React from \"react\";\r\nimport HardButton from \"../Buttons/HardButton\";\r\nimport classesCss from \"./WordCard.module.scss\";\r\nimport cx from \"classnames\";\r\nimport { useUserWordUpdate } from \"../../hooks/hooks.user\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Button from \"../Buttons/Button\";\r\nimport {\r\n  MODE_VOCABULARY,\r\n  VOCABULARY_MODE_DELETED,\r\n  VOCABULARY_MODE_NORMAL,\r\n  WORD_HARD,\r\n  WORD_NORMAL,\r\n} from \"../../settings/settings\";\r\n\r\nexport default function ButtonsBlock({cardInfo}){\r\n\r\n  const {update} = useUserWordUpdate();\r\n  const {successCounter, failCounter} = cardInfo?.optional ? cardInfo.optional : {};\r\n  const {isButtonsVisible, vocabularyMode, mode} = useSelector(store => store.book)\r\n\r\n\r\n  return (\r\n    <div className={classesCss.ButtonBlock}>\r\n      {\r\n        (() => {\r\n          if (isButtonsVisible || (mode === MODE_VOCABULARY && vocabularyMode !== VOCABULARY_MODE_NORMAL)) {\r\n            return (\r\n              <>\r\n                {\r\n                  !(mode === MODE_VOCABULARY && vocabularyMode === VOCABULARY_MODE_DELETED) ?\r\n                    <HardButton\r\n                      className={cx(\r\n                        classesCss.Button,\r\n                        classesCss.HardButton,\r\n                        {[classesCss.Active]: cardInfo.difficulty === WORD_HARD},\r\n                      )}\r\n                      onClick={\r\n                        cardInfo.difficulty === WORD_HARD ?\r\n                          () => update(cardInfo, {difficulty: WORD_NORMAL})\r\n                          : () => update(cardInfo, {difficulty: WORD_HARD})\r\n                      }\r\n                    /> : null\r\n                }\r\n\r\n                <Button\r\n                  className={cx(\r\n                    classesCss.Button,\r\n                    classesCss.Icon,\r\n                    classesCss.DeleteButton,\r\n                    {[classesCss.Active]:cardInfo.optional?.deleted},\r\n                  )}\r\n                  onClick={\r\n                    cardInfo.optional?.deleted ?\r\n                      () => update(cardInfo, {deleted: false})\r\n                      : () => update(cardInfo, {deleted: true})\r\n                  }\r\n                />\r\n              </>\r\n            )\r\n          }\r\n        })()\r\n      }\r\n      {successCounter + failCounter ? (\r\n        <div className={classesCss.StatsCounters}>\r\n          <span className={classesCss.SuccessCounter}>{successCounter}</span>/\r\n          <span className={classesCss.TotalCounter}>\r\n            {successCounter + failCounter}\r\n          </span>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport classesCss from \"./WordCard.module.scss\";\r\nimport { MODE_VOCABULARY, SETTINGS, VOCABULARY_MODE_DIFFICULT, WORD_HARD } from \"../../settings/settings\";\r\nimport SoundButton from \"../Buttons/SoundButton\";\r\nimport FastAverageColor from \"fast-average-color\";\r\nimport ButtonsBlock from \"./ButtonsBlock\";\r\nimport cx from \"classnames\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router\";\r\n\r\nconst fac = new FastAverageColor();\r\n\r\nexport default function WordCard({cardInfo}){\r\n  const {\r\n    optional,\r\n    word,\r\n    image,\r\n    audio,\r\n    audioMeaning,\r\n    audioExample,\r\n    textMeaning,\r\n    textExample,\r\n    transcription,\r\n    wordTranslate,\r\n    textMeaningTranslate,\r\n    textExampleTranslate,\r\n  } = cardInfo;\r\n\r\n  const [averageColorData, setAverageColorData] = useState(null);\r\n  const [failCounter, setFailedCounter] = useState(0);\r\n  const [successCounter, setSuccessCounter] = useState(0);\r\n  const {isLogged} = useSelector(store => store.user);\r\n  const {isTranslateVisible, mode, vocabularyMode} = useSelector(store => store.book)\r\n\r\n  const {sectionVocabulary} = useParams();\r\n\r\n  let notification;\r\n  if (optional?.difficulty === WORD_HARD) {\r\n    notification = \"notification_important\";\r\n  } else {\r\n    notification = \"\";\r\n  }\r\n\r\n  const audioPlayer = new Audio();\r\n  audioPlayer.volume = 0.5;\r\n\r\n  function playAudio(url, phase){\r\n    audioPlayer.src = `${SETTINGS.SERVER}/${url}`;\r\n    audioPlayer.load();\r\n    audioPlayer.play();\r\n\r\n    let nextPhase;\r\n    let nextAudio;\r\n\r\n    if (phase === undefined) {\r\n      nextPhase = \"second\";\r\n      nextAudio = audioMeaning;\r\n    }\r\n\r\n    if (phase === \"second\") {\r\n      nextPhase = \"third\";\r\n      nextAudio = audioExample;\r\n    }\r\n\r\n    if (phase === \"third\") {\r\n      return;\r\n    }\r\n\r\n    let playNextAudio = function(){\r\n      audioPlayer.removeEventListener(\"ended\", playNextAudio);\r\n      playAudio(nextAudio, nextPhase);\r\n    };\r\n    audioPlayer.addEventListener(\"ended\", playNextAudio);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (cardInfo.optional) {\r\n      setFailedCounter(cardInfo.optional.failCounter);\r\n      setSuccessCounter(cardInfo.optional.successCounter);\r\n    }\r\n  }, []);\r\n\r\n  if (!averageColorData) {\r\n    fac\r\n    .getColorAsync(`${SETTINGS.SERVER}/${image}`)\r\n    .then((color) => {\r\n      setAverageColorData({\r\n        color: color.rgb,\r\n        isLight: color.isLight,\r\n      });\r\n    })\r\n    .catch((e) => {\r\n      console.log(e);\r\n    });\r\n  }\r\n\r\n  const isWordHard = cardInfo.difficulty === WORD_HARD\r\n  const isHardMode = mode === MODE_VOCABULARY && vocabularyMode === VOCABULARY_MODE_DIFFICULT\r\n  const isWordDeleted = cardInfo.optional?.deleted\r\n  const isShowHardStyle = isWordHard && !isHardMode && !isWordDeleted\r\n  return (\r\n    <div\r\n      style={!isShowHardStyle && !isWordDeleted ? {background: averageColorData?.color || \"white\"} : null}\r\n      className={cx(\r\n        classesCss.Card,\r\n        {\r\n          [classesCss.Hard]: isShowHardStyle,\r\n          [classesCss.Deleted]: isWordDeleted,\r\n        },\r\n      )\r\n      }\r\n    >\r\n      <div\r\n        style={{\r\n          backgroundImage: `${isWordDeleted ? \"linear-gradient(black, black),\" : \"\"}\r\n                                  url(${SETTINGS.SERVER}/${image})`,\r\n        }}\r\n        className={cx(classesCss.HeaderBlock)}\r\n      >\r\n        <div\r\n          className={classesCss.Overlay}\r\n          style={!isShowHardStyle && !isWordDeleted ? {\r\n            background:\r\n              `linear-gradient(transparent, ${averageColorData?.color})` ||\r\n              \"transparent\",\r\n          } : null}\r\n        >\r\n          {isLogged && (\r\n            <ButtonsBlock\r\n              audio={audio}\r\n              cardInfo={cardInfo}\r\n              successCounter={successCounter}\r\n              failCounter={failCounter}\r\n              notification={notification}\r\n              sectionVocabulary={sectionVocabulary}\r\n            />\r\n          )}\r\n          <div className={cx(classesCss.WordBlock)}>\r\n            <div className={classesCss.PrimaryBlock}>\r\n              <h3>{word}</h3>\r\n            </div>\r\n            <div className={classesCss.SecondaryBlock}>\r\n              {isTranslateVisible && (<div>{wordTranslate}</div>)}\r\n              <div>{transcription}</div>\r\n              <SoundButton\r\n                onClick={() => playAudio(audio)}\r\n                file={`${SETTINGS.SERVER}/${audio}`}\r\n                className={cx(classesCss.SoundButton, classesCss.Button)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className={classesCss.CardContent}>\r\n        <div className={classesCss.WordBlock}>\r\n          <div dangerouslySetInnerHTML={{__html: textMeaning}}/>\r\n          <div\r\n            dangerouslySetInnerHTML={{__html: textExample}}\r\n            className={classesCss.Example}\r\n          />\r\n        </div>\r\n        {isTranslateVisible && (\r\n          <div className={classesCss.WordBlock}>\r\n            <div>{textMeaningTranslate}</div>\r\n            <div className={classesCss.Example}>{textExampleTranslate}</div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { SETTINGS } from \"../settings/settings\";\r\n\r\nexport function checkGroup(group){\r\n  if (group < SETTINGS.GROUPS_COUNT) return group\r\n  return 0\r\n}\r\n\r\nexport function checkPage(page){\r\n  if (page < SETTINGS.PAGES_COUNT) return page\r\n  return 0\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport { useWords } from \"../../hooks/hooks.words\";\r\nimport WordCard from \"../../components/WordCard/WordCard.js\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { useUserWords } from \"../../hooks/hooks.user\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport cx from \"classnames\";\r\nimport { checkGroup, checkPage } from \"../../helpers/utils.checkers\";\r\nimport {\r\n  removePagesFromPageList,\r\n  setCurrentGroup,\r\n  setCurrentPage,\r\n  setCurrentWords,\r\n} from \"../../redux/actions.book\";\r\nimport { MODE_BOOK, WORD_HARD } from \"../../settings/settings\";\r\nimport classesCss from \"./BookPage.module.scss\";\r\n\r\nexport default function BookContent({ setTotalValues, setTotalPagesCount }) {\r\n  const [isPagesFirstDeleteComplete, setPageFirstDeleteComplete] = useState(\r\n    false\r\n  );\r\n  const { currentWords, getWordsChunk } = useWords();\r\n  const { currentUserWords, getUserWordsChunk } = useUserWords();\r\n  const { isLogged, words: userWords } = useSelector((state) => state.user);\r\n  const {\r\n    currentWords: wordsToRender,\r\n    pagesList,\r\n    currentPageIndex,\r\n  } = useSelector((state) => state.book);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const history = useHistory();\r\n  const { group: urlGroup, page: urlPage = 1 } = useParams();\r\n  const group = checkGroup(urlGroup - 1);\r\n  const page = checkPage(urlPage - 1);\r\n\r\n\r\n  useEffect(() => {\r\n    function findUserWord(word) {\r\n      const userWord = currentUserWords.find(\r\n        (userWord) => userWord.id === word.id\r\n      );\r\n      if (userWord) return userWord;\r\n      return word;\r\n    }\r\n\r\n    if (currentWords?.length) {\r\n      if (isLogged && currentUserWords?.length) {\r\n        dispatch(\r\n          setCurrentWords(currentWords.map((word) => findUserWord(word)))\r\n        );\r\n      } else {\r\n        dispatch(setCurrentWords([...currentWords]));\r\n      }\r\n    }\r\n  }, [currentWords, currentUserWords, isLogged, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (group !== undefined && page !== undefined) {\r\n      getWordsChunk(group, page);\r\n      if (isLogged) getUserWordsChunk(group, page);\r\n    }\r\n  }, [group, page, getWordsChunk, getUserWordsChunk, isLogged]);\r\n\r\n  useEffect(() => {\r\n    if (wordsToRender) {\r\n      const totals = {\r\n        success: 0,\r\n        fail: 0,\r\n        learned: 0,\r\n      };\r\n      wordsToRender.forEach(({ optional, difficulty }) => {\r\n        if (\r\n          (optional?.successCounter + optional?.failCounter ||\r\n            difficulty === WORD_HARD) &&\r\n          !optional?.deleted\r\n        ) {\r\n          totals.success += optional.successCounter || 0;\r\n          totals.fail += optional.failCounter || 0;\r\n          totals.learned += 1;\r\n        }\r\n      });\r\n      setTotalValues(totals);\r\n    }\r\n  }, [wordsToRender, setTotalValues]);\r\n\r\n  useEffect(() => {\r\n    if (\r\n      isLogged &&\r\n      !isPagesFirstDeleteComplete &&\r\n      group !== undefined &&\r\n      userWords &&\r\n      userWords[group]\r\n    ) {\r\n      const pagesToRemove = Object.keys(userWords[group]).filter(\r\n        (pageIndex) => {\r\n          return (\r\n            userWords[group].hasOwnProperty(pageIndex) &&\r\n            userWords[group][pageIndex].length === 20 &&\r\n            userWords[group][pageIndex].every(\r\n              ({ optional }) => optional?.deleted\r\n            )\r\n          );\r\n        }\r\n      );\r\n      setPageFirstDeleteComplete(true);\r\n      if (pagesToRemove.length)\r\n        dispatch(removePagesFromPageList(group, pagesToRemove));\r\n    }\r\n  }, [group, userWords, dispatch, isPagesFirstDeleteComplete, isLogged]);\r\n\r\n  useEffect(() => {\r\n    if (\r\n      isLogged &&\r\n      isPagesFirstDeleteComplete &&\r\n      userWords[group] &&\r\n      userWords[group][page]?.length === 20 &&\r\n      !userWords[group][page].some(({ optional }) => !optional?.deleted)\r\n    ) {\r\n      dispatch(removePagesFromPageList(group, page));\r\n    }\r\n  }, [userWords, group, page, isPagesFirstDeleteComplete, dispatch, isLogged]);\r\n\r\n  useEffect(() => {\r\n    setPageFirstDeleteComplete(false);\r\n    dispatch(setCurrentGroup(group));\r\n  }, [group, dispatch]);\r\n\r\n  useEffect(() => {\r\n    const currentExistingPageIndex = pagesList[group].findIndex(\r\n      (existingPage) => existingPage === Number(page)\r\n    );\r\n    setTotalPagesCount(pagesList[group].length);\r\n    if (currentExistingPageIndex + 1) {\r\n      dispatch(setCurrentPage(currentExistingPageIndex));\r\n    } else {\r\n      const newPage = pagesList[group].reduce((prev, nextPage) => {\r\n        return Math.abs(nextPage - page) > Math.abs(prev - page)\r\n          ? prev\r\n          : nextPage;\r\n      });\r\n      history.push(`/${MODE_BOOK}/${group + 1}/${newPage + 1}`);\r\n    }\r\n  }, [\r\n    pagesList,\r\n    page,\r\n    dispatch,\r\n    group,\r\n    history,\r\n    currentPageIndex,\r\n    setTotalPagesCount,\r\n  ]);\r\n\r\n  return (\r\n    <div className={cx(classesCss.BookContent)}>\r\n      {wordsToRender?.length\r\n        ? wordsToRender.map((word) => {\r\n            if (!word.optional?.deleted) {\r\n              return (\r\n                <WordCard\r\n                  className={cx({\r\n                    [classesCss.DifficultWord]: word.difficulty === WORD_HARD,\r\n                  })}\r\n                  key={word.id}\r\n                  cardInfo={word}\r\n                />\r\n              );\r\n            }\r\n            return null;\r\n          })\r\n        : null}\r\n    </div>\r\n  );\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\"\r\nimport classesCss from \"../BookPage.module.scss\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { MODE_BOOK } from \"../../../settings/settings\";\r\n\r\nexport default function PaginationInput({totalPagesCount, currentPageIndex}){\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [value, setValue] = useState(totalPagesCount !== 0 ? currentPageIndex + 1 : 0)\r\n  const {currentGroup, vocabularyMode, mode, pagesList} = useSelector((store) => store.book);\r\n  const history = useHistory()\r\n\r\n\r\n  function onChangedHandler(e){\r\n    if (Number(e.target.value) <= totalPagesCount) setValue(e.target.value)\r\n  }\r\n\r\n  const deactivateEditMode = () => {\r\n    if(value - 1 !== currentPageIndex){\r\n      const nextPage = mode === MODE_BOOK ? pagesList[currentGroup][value - 1] + 1 : value\r\n      history.push({\r\n        pathname: `/${mode}/${currentGroup + 1}/${nextPage}`,\r\n        state: {vocabularyMode},\r\n      })\r\n    }\r\n    setEditMode(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (editMode) return\r\n\r\n    if (totalPagesCount !== 0) {\r\n      if (value !== currentPageIndex + 1) setValue(currentPageIndex + 1)\r\n    } else {\r\n      setValue(0)\r\n    }\r\n  }, [totalPagesCount, currentPageIndex, value, editMode])\r\n\r\n  return (\r\n    <div className={classesCss.PageCounter}>\r\n      {editMode ?\r\n        <input\r\n          className={classesCss.SelectedInput}\r\n          value={value}\r\n          onChange={onChangedHandler}\r\n          autoFocus={true}\r\n          onBlur={deactivateEditMode}\r\n        />\r\n        :\r\n        <span onClick={() => setEditMode(true)}>\r\n        {`${value} / ${totalPagesCount}`}\r\n        </span>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport classesCss from \"../BookPage.module.scss\";\r\nimport Button from \"../../../components/Buttons/Button\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faAngleDoubleLeft,\r\n  faAngleDoubleRight,\r\n  faAngleLeft,\r\n  faAngleRight,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PaginationInput from \"./PagintaionInput\";\r\nimport { MODE_VOCABULARY } from \"../../../settings/settings\";\r\n\r\nconst paginationButtons = {\r\n  leftEnd: faAngleDoubleLeft,\r\n  left: faAngleLeft,\r\n  right: faAngleRight,\r\n  rightEnd: faAngleDoubleRight,\r\n};\r\n\r\nexport default function Pagination({ totalPagesCount }) {\r\n  const {\r\n    vocabularyCurrentPage,\r\n    currentPageIndex,\r\n    pagesList,\r\n    currentGroup,\r\n    mode,\r\n    vocabularyMode,\r\n  } = useSelector((store) => store.book);\r\n\r\n  const currentPageList = pagesList[currentGroup];\r\n  const pathBase = `/${mode}/${currentGroup + 1}/`;\r\n\r\n  function getNextPage(direction) {\r\n    if (\r\n      currentPageIndex + direction >= 0 &&\r\n      currentPageIndex + direction < totalPagesCount\r\n    ) {\r\n      return currentPageList[currentPageIndex + direction] + 1;\r\n    }\r\n    return currentPageList[currentPageIndex] + 1;\r\n  }\r\n\r\n  function getNextVocabularyPage(direction) {\r\n    if (\r\n      vocabularyCurrentPage + direction >= 0 &&\r\n      vocabularyCurrentPage + direction < totalPagesCount\r\n    ) {\r\n      return vocabularyCurrentPage + direction + 1;\r\n    }\r\n    return vocabularyCurrentPage + 1;\r\n  }\r\n\r\n  function getPaginationButtonsValues() {\r\n    if (mode === MODE_VOCABULARY) {\r\n      return {\r\n        leftEnd: { pathname: pathBase + 1, state: { vocabularyMode } },\r\n        left: {\r\n          pathname: pathBase + getNextVocabularyPage(-1),\r\n          state: { vocabularyMode },\r\n        },\r\n        right: {\r\n          pathname: pathBase + getNextVocabularyPage(1),\r\n          state: { vocabularyMode },\r\n        },\r\n        rightEnd: {\r\n          pathname: pathBase + totalPagesCount,\r\n          state: { vocabularyMode },\r\n        },\r\n      };\r\n    }\r\n    return {\r\n      leftEnd: pathBase + (currentPageList[0] + 1),\r\n      left: pathBase + getNextPage(-1),\r\n      right: pathBase + getNextPage(1),\r\n      rightEnd: pathBase + (currentPageList[currentPageList.length - 1] + 1),\r\n    };\r\n  }\r\n\r\n  const paginationGoTo = getPaginationButtonsValues();\r\n\r\n  return (\r\n    <div className={classesCss.Pagination}>\r\n      <Link to={paginationGoTo.leftEnd}>\r\n        <Button\r\n          className={classesCss.PaginationButton}\r\n          label={<FontAwesomeIcon icon={paginationButtons.leftEnd} />}\r\n        />\r\n      </Link>\r\n\r\n      <Link to={paginationGoTo.left}>\r\n        <Button\r\n          className={classesCss.PaginationButton}\r\n          label={<FontAwesomeIcon icon={paginationButtons.left} />}\r\n        />\r\n      </Link>\r\n\r\n      <PaginationInput\r\n        totalPagesCount={\r\n          mode === MODE_VOCABULARY\r\n            ? totalPagesCount\r\n            : pagesList[currentGroup].length\r\n        }\r\n        currentPageIndex={\r\n          mode === MODE_VOCABULARY ? vocabularyCurrentPage : currentPageIndex\r\n        }\r\n      />\r\n\r\n      <Link to={paginationGoTo.right}>\r\n        <Button\r\n          className={classesCss.PaginationButton}\r\n          label={<FontAwesomeIcon icon={paginationButtons.right} />}\r\n        />\r\n      </Link>\r\n\r\n      <Link to={paginationGoTo.rightEnd}>\r\n        <Button\r\n          className={classesCss.PaginationButton}\r\n          label={<FontAwesomeIcon icon={paginationButtons.rightEnd} />}\r\n        />\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport cx from \"classnames\";\r\nimport classesCss from \"../BookPage.module.scss\";\r\nimport levelStyles from \"../../../styles/LevelStyles.module.scss\";\r\nimport Button from \"../../../components/Buttons/Button\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nexport default function GroupMenu({className}) {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const { currentGroup, mode, vocabularyMode } = useSelector((store) => store.book);\r\n\r\n  return (\r\n    <div className={cx(classesCss.GroupMenu, className)}>\r\n      <Button\r\n        className={cx(\r\n          classesCss.GroupMenuToggle,\r\n          levelStyles[`Level${currentGroup + 1}`]\r\n        )}\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        label={currentGroup + 1}\r\n      />\r\n\r\n      <div\r\n        className={cx(classesCss.PopUpMenu, { [classesCss.Active]: isOpen })}\r\n      >\r\n        {new Array(6).fill(null).map((group, index) => {\r\n          return (\r\n            <NavLink\r\n              key={\"group\" + index}\r\n              to={{pathname:`/${mode}/${index + 1}/1`, state:{vocabularyMode}}}\r\n              className={cx(\r\n                classesCss.BookLink,\r\n                levelStyles[`Level${index + 1}`]\r\n              )}\r\n              activeClassName={classesCss.Active}\r\n              isActive={(match, location) => {\r\n                const [, urlGroup] = location.pathname.match(\r\n                  /\\/([0-9])\\/[0-9]*/\r\n                );\r\n                return Number(urlGroup) === index + 1;\r\n              }}\r\n            >\r\n              {index + 1}\r\n            </NavLink>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport classesCss from \"../BookPage.module.scss\";\r\nimport Button from \"../../../components/Buttons/Button\";\r\nimport { GAMES_ARRAY } from \"../../../settings/data\";\r\nimport GameButton from \"../../../components/Buttons/GameButton\";\r\nimport cx from \"classnames\";\r\nimport { setFirstLetterToCapital } from \"../../../helpers/gameUtils\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { MODE_VOCABULARY } from \"../../../settings/settings\";\r\n\r\nexport default function GameMenu({className}){\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const {currentWords, mode, vocabularyCurrentPage, vocabularyWords, currentGroup} = useSelector(store => store.book)\r\n\r\n  const wordsToTransmit = (function(){\r\n    if(mode === MODE_VOCABULARY) {\r\n      if(vocabularyWords) return vocabularyWords[vocabularyCurrentPage]\r\n      return []\r\n    }\r\n    return currentWords.filter(({optional}) => !optional?.deleted)\r\n  })()\r\n\r\n  return (\r\n    <div className={cx(classesCss.GameMenu, className)}>\r\n      <Button\r\n        className={cx(classesCss.NavigationLink, classesCss.GameMenuToggler)}\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        label={\"\"}\r\n      />\r\n      <div\r\n        className={cx(classesCss.PopUpMenu, {[classesCss.Active]: isOpen})}\r\n      >\r\n        {GAMES_ARRAY.map((game) => {\r\n          return (\r\n            <GameButton\r\n              gameCallValues={{\r\n                words: wordsToTransmit,\r\n                group: currentGroup,\r\n                fullWordsSet: mode === MODE_VOCABULARY? vocabularyWords? vocabularyWords.flat() : null : null\r\n              }}\r\n              game={game}\r\n              key={game.key}\r\n              className={classesCss.GameLink}\r\n              classes={{\r\n                label: classesCss.GameLabel,\r\n                link: cx(\r\n                  classesCss.GameLinkWrap,\r\n                  classesCss[setFirstLetterToCapital(game.key)],\r\n                ),\r\n              }}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\"\r\nimport cx from \"classnames\"\r\nimport { MODE_BOOK, MODE_VOCABULARY } from \"../../../settings/settings\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport classesCss from \"../BookPage.module.scss\";\r\n\r\nexport default function ModeToggle({mode, currentGroup, className}){\r\n\r\n  return (\r\n    <>\r\n      {\r\n        mode === MODE_VOCABULARY ? (\r\n          <NavLink\r\n            className={cx(classesCss.NavigationLink, className)}\r\n            to={`/${MODE_BOOK}/${currentGroup + 1}/1`}\r\n          >\r\n            \r\n          </NavLink>\r\n        ) : (\r\n          <NavLink\r\n            className={cx(classesCss.NavigationLink, className)}\r\n            to={{pathname: `/${MODE_VOCABULARY}/${currentGroup + 1}/1`}}\r\n          >\r\n            \r\n          </NavLink>\r\n        )}\r\n    </>\r\n  )\r\n}","import React from \"react\"\r\nimport cx from \"classnames\"\r\nimport classesCss from \"../../pages/BookPage/BookPage.module.scss\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faHome } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n\r\nexport default function HomeLink({className}){\r\n  return(\r\n    <NavLink\r\n      className={cx(classesCss.NavigationButton, className)}\r\n      to={\"/\"}\r\n    >\r\n      <FontAwesomeIcon icon={faHome}/>\r\n    </NavLink>\r\n  )\r\n}","import React from \"react\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCog } from \"@fortawesome/free-solid-svg-icons\";\r\nimport cx from \"classnames\";\r\nimport classesCss from \"../../pages/BookPage/BookPage.module.scss\";\r\nimport Button from \"./Button\";\r\n\r\nexport default function SettingsButton({className, ...props}){\r\n  return (\r\n    <Button\r\n      label={<FontAwesomeIcon icon={faCog}/>}\r\n      className={cx(classesCss.NavigationButton, className)}\r\n      {...props}\r\n    />\r\n  )\r\n}","import React from \"react\"\r\n\r\nexport default function TotalValuesDisplay({totalValues: {learned,success,fail}}){\r\n  return(\r\n    <div>\r\n      <div> : {learned}</div>\r\n      <div>\r\n        : {success}/{success + fail}\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from \"react\"\r\nimport cx from \"classnames\"\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {faChevronCircleUp} from \"@fortawesome/free-solid-svg-icons\";\r\nimport Button from \"./Button\";\r\nimport classesCss from \"./Button.module.scss\"\r\n\r\nexport default function PopUpMenuButton({active, className, ...props}){\r\n  return(\r\n    <Button\r\n      className={cx(classesCss.PopUpMenuButton, className, {[classesCss.Active]: active})}\r\n      label={\r\n        <FontAwesomeIcon icon={faChevronCircleUp} />\r\n      }\r\n      {...props}\r\n    />\r\n  )\r\n}","import React from \"react\"\r\nimport cx from \"classnames\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport Button from \"./Button\";\r\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\r\nimport classesCss from \"./Button.module.scss\";\r\n\r\n\r\nexport default function SearchButton({className, active, ...props}){\r\n  return (\r\n    <Button\r\n      label={<FontAwesomeIcon icon={faSearch}/>}\r\n      className={cx(classesCss.SearchButton, className, {[classesCss.Active]: active})}\r\n      {...props}\r\n    />\r\n  )\r\n}","import { SET_VOCABULARY_SEARCH_MENU_OPENED, SET_VOCABULARY_SEARCH_WORD } from \"./types\";\r\n\r\n\r\nexport const setVocabularySearchMenuOpened = isOpened => ({type:SET_VOCABULARY_SEARCH_MENU_OPENED, payload:{isOpened}})\r\nexport const setVocabularySearchWord = searchWord => ({type:SET_VOCABULARY_SEARCH_WORD, payload:{searchWord: searchWord}})","import React from \"react\"\r\nimport classesCss from \"../BookPage.module.scss\";\r\nimport SearchButton from \"../../../components/Buttons/SearchButton\";\r\nimport cx from \"classnames\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setVocabularySearchMenuOpened, setVocabularySearchWord } from \"../../../redux/actions.vocabularySearch\";\r\n\r\nexport default function SearchMenu({className}){\r\n  const dispatch = useDispatch()\r\n  const {searchWord, isSearchMenuOpened: isOpen} = useSelector(({vocabularySearch}) => vocabularySearch)\r\n\r\n  function menuToggleHandler(){\r\n    dispatch(setVocabularySearchMenuOpened(!isOpen))\r\n    if(isOpen) dispatch(setVocabularySearchWord(\"\"))\r\n  }\r\n\r\n  function searchWordHandler({target:{value}}){\r\n    dispatch(setVocabularySearchWord(value))\r\n  }\r\n\r\n  return(\r\n    <div className={cx(classesCss.SearchMenu, className)}>\r\n      <SearchButton\r\n        onClick={menuToggleHandler}\r\n        active={isOpen}\r\n      />\r\n      <div\r\n        className={cx(classesCss.PopUpMenu, { [classesCss.Active]: isOpen })}\r\n      >\r\n        <input\r\n          value={searchWord}\r\n          onChange={searchWordHandler}\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}","import React, {useState} from \"react\";\r\nimport cx from \"classnames\";\r\nimport classesCss from \"../BookPage.module.scss\";\r\nimport Pagination from \"./Pagination\";\r\nimport GroupMenu from \"./GroupMenu\";\r\nimport { useSelector } from \"react-redux\";\r\nimport GameMenu from \"./GameMenu\";\r\nimport { MODE_BOOK, MODE_VOCABULARY, VOCABULARY_MODE_DELETED, VOCABULARY_MODE_NORMAL } from \"../../../settings/settings\";\r\nimport ModeToggle from \"./ModeToggle\";\r\nimport HomeLink from \"../../../components/Buttons/HomeLink\";\r\nimport SettingsButton from \"../../../components/Buttons/SettingsButton\";\r\nimport TotalValuesDisplay from \"./TotalValuesDisplay\";\r\nimport PopUpMenuButton from \"../../../components/Buttons/PopUpMenuButton\";\r\nimport SearchMenu from \"./SearchMenu\";\r\n\r\nexport default function BookMenu({settingsOn, totalPagesCount, totalValues}){\r\n  const {isLogged} = useSelector(({user}) => user);\r\n  const {currentGroup, mode, vocabularyMode} = useSelector(({book}) => book);\r\n  const [isSmallMenuOpened, setSmallMenuOpened] = useState(false)\r\n\r\n  const isGameMenuVisible =\r\n    mode === MODE_BOOK\r\n    || (mode === MODE_VOCABULARY && vocabularyMode !== VOCABULARY_MODE_DELETED)\r\n\r\n\r\n  return (\r\n    <div className={classesCss.BookMenu}>\r\n\r\n      <div className={cx(\r\n        classesCss.SmallWidthMenu,\r\n        {[classesCss.ShowWithSmallWidth]: isLogged},\r\n      )}>\r\n        <PopUpMenuButton\r\n          className={classesCss.ShowWithSmallWidth}\r\n          onClick={() => setSmallMenuOpened(!isSmallMenuOpened)}\r\n          active={isSmallMenuOpened}\r\n        />\r\n        <div className={cx(classesCss.PopUpMenu, {[classesCss.Active]: isSmallMenuOpened})}>\r\n          <HomeLink/>\r\n          <SettingsButton onClick={settingsOn}/>\r\n          <SearchMenu />\r\n          <ModeToggle mode={mode} currentGroup={currentGroup}/>\r\n          {isGameMenuVisible ? <GameMenu/> : null}\r\n          <GroupMenu/>\r\n        </div>\r\n      </div>\r\n\r\n\r\n      <HomeLink className={cx({[classesCss.HideWithSmallWidth]: isLogged})}/>\r\n\r\n      {isLogged?\r\n        <SettingsButton onClick={settingsOn} className={classesCss.HideWithSmallWidth}/>\r\n        : null}\r\n\r\n      {isLogged && mode === MODE_VOCABULARY?\r\n        <SearchMenu  className={classesCss.HideWithSmallWidth}/>\r\n        : null}\r\n\r\n      {isLogged?\r\n        <ModeToggle mode={mode} currentGroup={currentGroup} className={classesCss.HideWithSmallWidth}/>\r\n        : null}\r\n\r\n      {isGameMenuVisible ?\r\n        <GameMenu className={cx({[classesCss.HideWithSmallWidth]: isLogged})}/>\r\n        : null}\r\n\r\n      <Pagination totalPagesCount={totalPagesCount}/>\r\n\r\n      {isLogged && !(mode === MODE_VOCABULARY && vocabularyMode !== VOCABULARY_MODE_NORMAL) ?\r\n        <TotalValuesDisplay totalValues={totalValues}/> : null\r\n      }\r\n\r\n      <GroupMenu className={cx({[classesCss.HideWithSmallWidth]: isLogged})}/>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport classesCss from \"./BookPage.module.scss\";\r\nimport cx from \"classnames\";\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport ToggleButton from '@material-ui/lab/ToggleButton';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  setButtonsVisible,\r\n  setTranslateVisible,\r\n} from \"../../redux/actions.book\";\r\nimport CloseButton from \"../../components/Buttons/CloseButton\";\r\n\r\nexport default function BookSettings({ settingsOff }) {\r\n\r\n  const { isTranslateVisible, isButtonsVisible } = useSelector((store) => store.book);\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className={classesCss.SettingsBlock} onClick={settingsOff}>\r\n      <div className={classesCss.SettingsContent} onClick={event => {event.stopPropagation()}}>\r\n        <CloseButton className={classesCss.SettingsCloseButton} onClick={settingsOff}/>\r\n        <h3></h3>\r\n        <div className={classesCss.SettingButtonBlock}>\r\n          <ToggleButton\r\n            className={classesCss.SettingButton}\r\n            classes={{\r\n              selected:classesCss.Selected,\r\n              disabled:classesCss.Disabled\r\n            }}\r\n            value=\"check\"\r\n            selected={isTranslateVisible}\r\n            onChange={() => dispatch(setTranslateVisible(!isTranslateVisible))}\r\n          >\r\n            <CheckIcon />\r\n          </ToggleButton>\r\n          <span className={classesCss.SettingButtonText}></span>\r\n        </div>\r\n        <div className={classesCss.SettingButtonBlock}>\r\n          <ToggleButton\r\n            className={classesCss.SettingButton}\r\n            classes={{\r\n              selected:classesCss.Selected,\r\n              disabled:classesCss.Disabled\r\n            }}\r\n            value=\"check\"\r\n            selected={isButtonsVisible}\r\n            onChange={() => dispatch(setButtonsVisible(!isButtonsVisible))}\r\n          >\r\n            <CheckIcon />\r\n          </ToggleButton>\r\n          <span className={classesCss.SettingButtonText}>  </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\"\r\nimport classesCss from \"./BookPage.module.scss\";\r\n\r\nexport default function BookDisclaimerEmpty(){\r\n  return(\r\n    <div className={classesCss.DisclaimerBlock}>\r\n      <div\r\n        className={classesCss.Image}\r\n        style={{backgroundImage: `url(${process.env.PUBLIC_URL}/static/nothing.png)`,}}\r\n      />\r\n      <div className={classesCss.Text}><span>   </span></div>\r\n    </div>\r\n  )\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { NavLink, useHistory, useLocation, useParams } from \"react-router-dom\";\r\nimport cx from \"classnames\";\r\nimport { checkGroup, checkPage } from \"../../helpers/utils.checkers\";\r\nimport { useUserWordsGroup } from \"../../hooks/hooks.user\";\r\nimport {\r\n  setCurrentGroup,\r\n  setVocabularyCurrentPage,\r\n  setVocabularyMode,\r\n  setVocabularyWords,\r\n} from \"../../redux/actions.book\";\r\nimport WordCard from \"../../components/WordCard/WordCard\";\r\nimport BookDisclaimerEmpty from \"./BookDisclaimerEmpty\";\r\nimport {\r\n  MODE_VOCABULARY,\r\n  SETTINGS,\r\n  VOCABULARY_MODE_DELETED,\r\n  VOCABULARY_MODE_DIFFICULT,\r\n  VOCABULARY_MODE_NORMAL,\r\n  WORD_HARD,\r\n} from \"../../settings/settings\";\r\nimport classesCss from \"./BookPage.module.scss\";\r\n\r\nconst VOCABULARY_SECTIONS = [\r\n  {\r\n    mode: VOCABULARY_MODE_NORMAL,\r\n    label: \"\",\r\n  },\r\n  {\r\n    mode: VOCABULARY_MODE_DIFFICULT,\r\n    label: \"\",\r\n  },\r\n  {\r\n    mode: VOCABULARY_MODE_DELETED,\r\n    label: \"\",\r\n  },\r\n];\r\n\r\nconst maxWordsInPage = SETTINGS.DEFAULT_WORD_CHUNK_LENGTH;\r\n\r\nexport default function VocabularyContent({\r\n  setTotalPagesCount,\r\n  setTotalValues,\r\n}) {\r\n  const { getUserWordsGroup, currentUserWordsGroup } = useUserWordsGroup();\r\n  const [wordsToRender, setWordsToRender] = useState(null);\r\n  const [searchWordSet, setSearchWordSet] = useState(null);\r\n  const { words: userWords } = useSelector(({ user }) => user);\r\n  const { searchWord, isSearchMenuOpened } = useSelector(\r\n    ({ vocabularySearch }) => vocabularySearch\r\n  );\r\n  const dispatch = useDispatch();\r\n\r\n  const history = useHistory();\r\n  const { state } = useLocation();\r\n  const urlVocabularyMode = state\r\n    ? state.vocabularyMode\r\n    : VOCABULARY_MODE_NORMAL;\r\n  const { group: urlGroup, page: urlPage = 1 } = useParams();\r\n  const group = checkGroup(urlGroup - 1);\r\n  const page = checkPage(urlPage - 1);\r\n\r\n  function getVocabularyUrl(mode) {\r\n    return {\r\n      pathname: `/${MODE_VOCABULARY}/${group + 1}/1`,\r\n      state: { vocabularyMode: mode },\r\n    };\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (searchWord) {\r\n      const filteredWords = wordsToRender.flat().filter((word) => {\r\n        return (\r\n          word.word.search(searchWord) + 1 ||\r\n          word.wordTranslate.search(searchWord) + 1\r\n        );\r\n      });\r\n      setSearchWordSet(filteredWords);\r\n      return;\r\n    }\r\n    if (isSearchMenuOpened) setSearchWordSet(null);\r\n  }, [searchWord, wordsToRender, isSearchMenuOpened]);\r\n\r\n  useEffect(() => {\r\n    if (!isSearchMenuOpened) setSearchWordSet(null);\r\n  }, [isSearchMenuOpened]);\r\n\r\n  useEffect(() => {\r\n    if (userWords[group] && Object.keys(userWords[group]))\r\n      getUserWordsGroup(group);\r\n  }, [userWords, group, getUserWordsGroup]);\r\n\r\n  useEffect(() => {\r\n    if (currentUserWordsGroup) {\r\n      const userFlatWords = Object.values(currentUserWordsGroup)\r\n        .flat()\r\n        .filter(({ optional, difficulty }) => {\r\n          const isDifficultyHard = difficulty === WORD_HARD;\r\n          if (urlVocabularyMode === VOCABULARY_MODE_DIFFICULT)\r\n            return isDifficultyHard && !optional.deleted;\r\n          if (urlVocabularyMode === VOCABULARY_MODE_DELETED)\r\n            return optional.deleted;\r\n          return (\r\n            (isDifficultyHard ||\r\n              optional.failCounter + optional.successCounter) &&\r\n            !optional.deleted\r\n          );\r\n        });\r\n      const pagesNumber = Math.ceil(userFlatWords.length / maxWordsInPage);\r\n      const slicedUserWords = Array(pagesNumber)\r\n        .fill(null)\r\n        .map((el, index) => {\r\n          return userFlatWords.slice(\r\n            index * maxWordsInPage,\r\n            maxWordsInPage * (index + 1)\r\n          );\r\n        });\r\n      setWordsToRender(slicedUserWords);\r\n      setTotalPagesCount(pagesNumber);\r\n    }\r\n  }, [currentUserWordsGroup, urlVocabularyMode, setTotalPagesCount]);\r\n\r\n  useEffect(() => {\r\n    dispatch(setCurrentGroup(group));\r\n  }, [group, dispatch]);\r\n\r\n  useEffect(() => {\r\n    dispatch(setVocabularyCurrentPage(page));\r\n  }, [page, dispatch]);\r\n\r\n  useEffect(() => {\r\n    dispatch(setVocabularyMode(urlVocabularyMode));\r\n  }, [urlVocabularyMode, dispatch]);\r\n\r\n  useEffect(() => {\r\n    dispatch(setVocabularyWords(wordsToRender));\r\n  }, [wordsToRender, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (wordsToRender?.[page]) {\r\n      const totals = {\r\n        success: 0,\r\n        fail: 0,\r\n        learned: 0,\r\n      };\r\n      wordsToRender?.[page]?.forEach(({ optional, difficulty }) => {\r\n        if (\r\n          (optional?.successCounter + optional?.failCounter ||\r\n            difficulty === WORD_HARD) &&\r\n          !optional?.deleted\r\n        ) {\r\n          totals.success += optional.successCounter || 0;\r\n          totals.fail += optional.failCounter || 0;\r\n          totals.learned += 1;\r\n        }\r\n      });\r\n      setTotalValues(totals);\r\n    }\r\n  }, [wordsToRender, setTotalValues, page]);\r\n\r\n  useEffect(() => {\r\n    if (wordsToRender?.length && wordsToRender.length < urlPage) {\r\n      history.push({\r\n        pathname: `/${MODE_VOCABULARY}/${group + 1}/${wordsToRender?.length}`,\r\n        state: urlVocabularyMode,\r\n      });\r\n    }\r\n  }, [wordsToRender, urlPage, history, group, urlVocabularyMode]);\r\n\r\n  return (\r\n    <>\r\n      <div className={cx(classesCss.VocabularyHeader)}>\r\n        {VOCABULARY_SECTIONS.map((section) => (\r\n          <NavLink\r\n            key={section.label + section.mode}\r\n            className={cx(classesCss.VocabularySection, {\r\n              [classesCss.Active]: urlVocabularyMode === section.mode,\r\n            })}\r\n            to={getVocabularyUrl(section.mode)}\r\n          >\r\n            {section.label}\r\n          </NavLink>\r\n        ))}\r\n      </div>\r\n      <div className={classesCss.BookContent}>\r\n        {(() => {\r\n          if (searchWordSet) {\r\n            if (searchWordSet.length) {\r\n              return searchWordSet.map((word) => {\r\n                return <WordCard key={word.id} cardInfo={word} />;\r\n              });\r\n            }\r\n            return <BookDisclaimerEmpty />;\r\n          }\r\n          if (wordsToRender?.length && wordsToRender[page]?.length) {\r\n            return wordsToRender[page].map((word) => {\r\n              return <WordCard key={word.id} cardInfo={word} />;\r\n            });\r\n          }\r\n          return <BookDisclaimerEmpty />;\r\n        })()}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Route, useLocation } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport cx from \"classnames\";\r\nimport { setBookMode } from \"../../redux/actions.book\";\r\nimport BookContent from \"./BookContent\";\r\nimport BookMenu from \"./Menu/BookMenu\";\r\nimport BookSettings from \"./BookSettings\";\r\nimport VocabularyContent from \"./VocabularyContent\";\r\nimport {\r\n  MODE_DETECT_PATTERN,\r\n  MODE_BOOK,\r\n  MODE_VOCABULARY,\r\n} from \"../../settings/settings\";\r\nimport classesCss from \"./BookPage.module.scss\";\r\nimport levelStyles from \"../../styles/LevelStyles.module.scss\";\r\n\r\nexport default function BookPage() {\r\n  const [isSettingsVisible, setSettingsVisible] = useState(false);\r\n  const [totalPagesCount, setTotalPagesCount] = useState();\r\n  const [totalValues, setTotalValues] = useState({\r\n    success: 0,\r\n    fail: 0,\r\n    learned: 0,\r\n  });\r\n  const { pathname } = useLocation();\r\n  const { currentGroup } = useSelector(({ book }) => book);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    const [, urlMode] = pathname.match(MODE_DETECT_PATTERN);\r\n    dispatch(setBookMode(urlMode));\r\n  }, [pathname, dispatch]);\r\n\r\n  return (\r\n    <div\r\n      className={cx(\r\n        classesCss.BookPage,\r\n        levelStyles[`Level${currentGroup + 1}`]\r\n      )}\r\n    >\r\n      <Route path={`/${MODE_BOOK}/:group/:page`}>\r\n        <BookContent\r\n          setTotalPagesCount={setTotalPagesCount}\r\n          setTotalValues={setTotalValues}\r\n        />\r\n      </Route>\r\n      <Route path={`/${MODE_VOCABULARY}/:group/:page`}>\r\n        <VocabularyContent\r\n          setTotalPagesCount={setTotalPagesCount}\r\n          setTotalValues={setTotalValues}\r\n        />\r\n      </Route>\r\n      <BookMenu\r\n        totalPagesCount={totalPagesCount}\r\n        totalValues={totalValues}\r\n        settingsOn={() => setSettingsVisible(true)}\r\n      />\r\n      {isSettingsVisible ? (\r\n        <BookSettings settingsOff={() => setSettingsVisible(false)} />\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport cx from \"classnames\";\r\nimport classesCss from \"./Button.module.scss\"\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default function CloseLink({className}){\r\n    return (\r\n        <Link\r\n          to=\"/\"\r\n          className={cx(classesCss.CloseLinkButton, className)}>\r\n          <CloseIcon className={classesCss.Icon}/>\r\n        </Link>\r\n    );\r\n};\r\n\r\n","import React from \"react\"\r\nimport cx from \"classnames\"\r\nimport classesCss from \"./AboutCard.module.scss\";\r\n\r\nexport default function AboutCard({image, head, text, className, cardImageRound, cardImageBottomRound, ...props}){\r\n  return (\r\n    <div className={cx(\r\n      classesCss.Card,\r\n      className,\r\n      {\r\n        [classesCss.CardImageBottomRound]: cardImageBottomRound,\r\n        [classesCss.CardImageRound]: cardImageRound,\r\n      },\r\n    )} {...props}>\r\n      <div className={classesCss.CardImage}>\r\n        <div style={{backgroundImage: `url(${process.env.PUBLIC_URL}/static/${image})`}}/>\r\n      </div>\r\n      <div className={classesCss.CardText}>\r\n        <header>\r\n          <h3>{head}</h3>\r\n        </header>\r\n        <p>\r\n          {text}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport CloseLink from \"../../components/Buttons/CloseLink\";\r\nimport AboutCard from \"../../components/AboutCard/AboutCard\";\r\nimport { GAMES_ARRAY } from \"../../settings/data\";\r\nimport classesCss from \"./GamesPage.module.scss\";\r\n\r\nexport default function GamesPage(){\r\n\r\n  const {state} = useLocation()\r\n\r\n  return (\r\n    <div className={classesCss.GamesPage}>\r\n      <CloseLink className={classesCss.CloseLink}/>\r\n      {\r\n        GAMES_ARRAY.map(({navigationImage, name, description, key}) => {\r\n          return (\r\n            <Link to={{pathname: `/games/${key}`, state}}>\r\n              <AboutCard\r\n                className={classesCss.GameCard}\r\n                key={\"aboutgame\" + name}\r\n                image={navigationImage}\r\n                head={name}\r\n                text={description}\r\n              />\r\n            </Link>\r\n          )\r\n        })\r\n      }\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport NotificationsActiveIcon from '@material-ui/icons/NotificationsActive';\r\nimport NotificationsOffIcon from '@material-ui/icons/NotificationsOff';\r\n\r\nconst SoundButton = (props) => {\r\n    const {onClick, isEnabled} = props;\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <>\r\n            <button onClick={onClick} className={classes.button}>\r\n                {isEnabled && <NotificationsActiveIcon className={classes.icon}/>}\r\n                {!isEnabled && <NotificationsOffIcon className={classes.icon}/>}\r\n            </button>\r\n        </>\r\n    )\r\n};\r\nconst useStyles = makeStyles({\r\n    button: {\r\n        background: 'transparent',\r\n        border: 0,\r\n        outline: 'none',\r\n        cursor: 'pointer',\r\n        listStyle: 'none',\r\n        transition: 'all 0.5s ease-out',\r\n        \"&:active\": {\r\n            transform: 'scale(0.8)',\r\n        },\r\n    },\r\n    icon: {\r\n        color: '#ffffff',\r\n        fontSize: '35px',\r\n    },\r\n});\r\nexport default SoundButton;\r\n","export default __webpack_public_path__ + \"static/media/correct.23d0e138.mp3\";","export default __webpack_public_path__ + \"static/media/error.88bbaea7.mp3\";","import React, {useState, useCallback} from 'react';\r\nimport cx from \"classnames\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport FullscreenIcon from '@material-ui/icons/Fullscreen';\r\n\r\nconst FullScreenButton = ({className}) => {\r\n    const classes = useStyles();\r\n    const [fullScreenEnabled, setFullScreenEnabled] = useState(false);\r\n\r\n    const handleFullScreen = useCallback(() => {\r\n        if (fullScreenEnabled) {\r\n            document.exitFullscreen();\r\n        } else {\r\n            document.documentElement.requestFullscreen();\r\n        }\r\n        setFullScreenEnabled(!fullScreenEnabled);\r\n    }, [fullScreenEnabled]);\r\n\r\n    return (\r\n        <button\r\n            className={cx(classes.fullScreenBtn, className)}\r\n            onClick={handleFullScreen}\r\n            type=\"button\"\r\n        >\r\n            <FullscreenIcon className={classes.icon}/>\r\n        </button>\r\n    )\r\n};\r\nconst useStyles = makeStyles({\r\n    fullScreenBtn: {\r\n        background: 'transparent',\r\n        border: 0,\r\n        outline: 'none',\r\n        cursor: 'pointer',\r\n        listStyle: 'none',\r\n        transition: 'all 0.5s ease-out',\r\n        \"&:active\": {\r\n            transform: 'scale(0.8)',\r\n        },\r\n    },\r\n    icon: {\r\n        color: '#ffffff',\r\n        fontSize: '35px',\r\n    },\r\n\r\n});\r\nexport default FullScreenButton;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport classNames from \"classnames\";\r\n\r\nconst Button = (props) => {\r\n    const {label, onClick, classes, children} = props;\r\n    const innerClasses = useStyles();\r\n\r\n    return (\r\n        <button onClick={onClick} className={classNames(innerClasses.button, classes.button)}>\r\n            {label}\r\n          <div>{children}</div>\r\n        </button>\r\n    );\r\n};\r\nconst useStyles = makeStyles({\r\n    button: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        width: '150px',\r\n        height: '40px',\r\n        fontSize: '16px',\r\n        fontWeight: '700',\r\n        color: '#ffffff',\r\n        backgroundColor: '#00a098',\r\n        border: 'none',\r\n        borderRadius: '5px',\r\n        outline: 'none',\r\n        transition: 'all .8s easy',\r\n        marginTop: '20px',\r\n        cursor: 'pointer',\r\n        \"&:hover\": {\r\n            backgroundColor: '#45ae8a',\r\n            transition: 'all .8s easy',\r\n        },\r\n    }\r\n});\r\nexport default Button;\r\n","export default __webpack_public_path__ + \"static/media/branch.44f4c58f.png\";","export default __webpack_public_path__ + \"static/media/photo_2021-04-09_11-20-47.2d7e1c32.jpg\";","import React, { useState, useEffect } from 'react';\r\n\r\nconst Timer = (props) => {\r\n  const { isActive, onCountdownFinish, initialTime } = props;\r\n  const [value, setValue] = useState(initialTime);\r\n\r\n  useEffect(() => {\r\n    const timerID = setTimeout(() => {\r\n      if (value > 0 && isActive) {\r\n        setValue(value - 1);\r\n      }\r\n    }, 1000);\r\n    return () => clearTimeout(timerID);\r\n  }, [value, isActive]);\r\n\r\n  useEffect(() => {\r\n    if (value <= 0) {\r\n      onCountdownFinish();\r\n    }\r\n  }, [onCountdownFinish, value]);\r\n\r\n  return (\r\n    <>\r\n      {value}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Timer;\r\n\r\n\r\n","import React, {useState, useCallback, useEffect, useMemo} from 'react';\r\nimport {createStyles, Grid, makeStyles} from \"@material-ui/core\";\r\nimport SoundButton from \"../common/SoundButton\";\r\nimport correctSound from \"../../../assets/audio/correct.mp3\";\r\nimport errorSound from \"../../../assets/audio/error.mp3\";\r\nimport FullScreenButton from \"../common/FullScreenButton\";\r\nimport Button from \"../common/Button\";\r\nimport ArrowLeftIcon from \"@material-ui/icons/ArrowLeft\";\r\nimport ArrowRightIcon from \"@material-ui/icons/ArrowRight\";\r\nimport NotificationsActiveIcon from \"@material-ui/icons/NotificationsActive\";\r\nimport WbIncandescentIcon from '@material-ui/icons/WbIncandescent';\r\nimport branch from \"../../../assets/images/branch.png\";\r\nimport parrot1 from \"../../../assets/images/parrot1.png\";\r\nimport parrot2 from \"../../../assets/images/parrot2.png\";\r\nimport parrot3 from \"../../../assets/images/parrot3.png\";\r\nimport parrot4 from \"../../../assets/images/parrot4.png\";\r\nimport {SETTINGS} from \"../../../settings/settings\";\r\nimport {getRandomNumber, shuffle} from \"../../../helpers/gameUtils\";\r\nimport background from \"../../../assets/images/photo_2021-04-09_11-20-47.jpg\";\r\nimport classNames from \"classnames\";\r\nimport Timer from \"./Timer\";\r\n\r\nconst NUMBER_OF_MARKS = 3;\r\n\r\nconst NUMBER_OF_PARROTS = 4;\r\n\r\nconst MULTIPLIER = {\r\n  1: 10,\r\n  2: 20,\r\n  3: 40,\r\n  4: 80\r\n};\r\n\r\nconst Marks = (props) => {\r\n  const { count = 0 } = props;\r\n\r\n  const marks = useMemo(() => {\r\n    return [\r\n      ...(new Array(count).fill(true)),\r\n      ...(new Array(NUMBER_OF_MARKS - count).fill(false))\r\n    ];\r\n  },[count]);\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Grid container justify=\"space-evenly\" alignItems=\"center\">\r\n      {marks.map((mark, index) => (\r\n        <Grid item key={index}>\r\n          {mark && (<WbIncandescentIcon className={classes.trueMark} />)}\r\n          {!mark && (<WbIncandescentIcon className={classes.falseMark} />)}\r\n        </Grid>\r\n      ))}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nconst Parrots = (props) => {\r\n  const { count = 1 } = props;\r\n\r\n  const parrots = useMemo(() => {\r\n    return [\r\n      ...(new Array(count).fill(true)),\r\n      ...(new Array(NUMBER_OF_PARROTS - count).fill(false))\r\n    ];\r\n  }, [count]);\r\n\r\n  const classes = useStyles();\r\n\r\n  const parrotsSrc = [parrot1, parrot2, parrot3, parrot4];\r\n\r\n  return (\r\n    <Grid container justify=\"center\" alignItems=\"center\" className={classes.parrotsContainer}>\r\n      {parrots.map((isVisible, index) => (\r\n          <img key={index} src={parrotsSrc[index]} alt=\"parrot\"\r\n               className={classNames({\r\n                 [classes.hidden]: !isVisible,\r\n                 [classes.parrot]: isVisible,\r\n               })}\r\n          />\r\n      ))}\r\n      <img src={branch} alt=\"branch\" className={classes.branch}/>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nconst Sprint = (props) => {\r\n  const {words, onLoading, onWordSelect, onGameEnd} = props;\r\n\r\n  const [score, setScore] = useState(0);\r\n  const [rate, setRate] = useState(1);\r\n  const [marksCombo, setMarksCombo] = useState(0);\r\n  const [soundOn, setSoundOn] = useState(false);\r\n  const [wordCounter, setWordCounter] = useState(0);\r\n  const [currentTranslation, setCurrentTranslation] = useState(\"\");\r\n\r\n  const classes = useStyles();\r\n\r\n  const currentChunk = useMemo(() => {\r\n    if (words?.length > 0) {\r\n      return [...words]\r\n    }\r\n    return null\r\n  }, [words]);\r\n\r\n  const playAudio = useCallback((n) => () => {\r\n    const audioPath = `${SETTINGS.SERVER}`;\r\n    const pronounce = new Audio(`${audioPath}/${currentChunk[n].audio}`);\r\n    pronounce.play();\r\n  }, [currentChunk]);\r\n\r\n  const setWordTranslation = useCallback((words, correctWordTranslation) => {\r\n    const arrOfTranslations = [];\r\n    arrOfTranslations.push(correctWordTranslation);\r\n    const translation = words[getRandomNumber(0, words.length - 1)].wordTranslate;\r\n    arrOfTranslations.push(translation);\r\n    shuffle(arrOfTranslations);\r\n    const randomTranslation = arrOfTranslations[getRandomNumber(0, arrOfTranslations.length - 1)];\r\n    setCurrentTranslation(randomTranslation);\r\n    return randomTranslation;\r\n  },[]);\r\n\r\n  const randomTranslation = useMemo(() => {\r\n      return currentChunk && wordCounter !== currentChunk.length ? setWordTranslation(currentChunk, currentChunk[wordCounter].wordTranslate) : null;\r\n  },[currentChunk, wordCounter, setWordTranslation]);\r\n\r\n  const changeScore = useCallback((correctAnswer, hasCombo) => {\r\n    if (correctAnswer) {\r\n      let calculatedScore = score + MULTIPLIER[rate];\r\n\r\n      if (hasCombo && rate < NUMBER_OF_PARROTS) {\r\n        calculatedScore = calculatedScore + MULTIPLIER[rate + 1];\r\n      } else if (hasCombo && rate === NUMBER_OF_PARROTS) {\r\n        calculatedScore = calculatedScore + MULTIPLIER[rate];\r\n      }\r\n      setScore(calculatedScore);\r\n    }\r\n  }, [rate, score]);\r\n\r\n  const handleChangeSound = useCallback(() => {\r\n    setSoundOn(!soundOn);\r\n  }, [soundOn]);\r\n\r\n  const changeParrots = useCallback((correctAnswer) => {\r\n      if (correctAnswer && rate < 4) {\r\n        setRate(rate + 1);\r\n      }\r\n      if (!correctAnswer && rate > 1) {\r\n        setRate(rate - 1);\r\n      }\r\n    }, [rate],\r\n  );\r\n\r\n  const changeMark = useCallback((correctAnswer) => {\r\n      if (correctAnswer) {\r\n        let count =  marksCombo === 3 ? 3 : marksCombo + 1;\r\n        setMarksCombo(count);\r\n        if (count >= 3) {\r\n          setTimeout(() => {\r\n            setMarksCombo(0);\r\n            changeParrots(true);\r\n          }, 500);\r\n        }\r\n        marksCombo === 2 ? changeScore(correctAnswer, true) : changeScore(correctAnswer);\r\n      } else {\r\n        setMarksCombo(0);\r\n        changeParrots(false);\r\n      }\r\n    }, [changeScore, changeParrots, marksCombo],\r\n  );\r\n\r\n  const handleClick = useCallback((correctAnswer) => () => {\r\n    const isCorrect = (\r\n        correctAnswer && currentChunk[wordCounter]?.wordTranslate === currentTranslation\r\n      ) || (\r\n        !correctAnswer && currentChunk[wordCounter]?.wordTranslate !== currentTranslation\r\n    );\r\n\r\n    onWordSelect(currentChunk[wordCounter], {succeed: isCorrect, failed: !isCorrect});\r\n    changeMark(isCorrect);\r\n    playSound(isCorrect, soundOn);\r\n\r\n    setWordCounter(wordCounter + 1);\r\n    if (wordCounter === currentChunk.length-1) {\r\n      onGameEnd(wordCounter);\r\n    }\r\n  },[onWordSelect, changeMark, soundOn, currentTranslation, currentChunk, wordCounter, onGameEnd]);\r\n\r\n  const handleKeyPress = useCallback((e) => {\r\n    e.preventDefault();\r\n    if (e.key === \"ArrowRight\") {\r\n      handleClick(true)();\r\n    }\r\n    if (e.key === \"ArrowLeft\") {\r\n      handleClick(false)();\r\n    }\r\n  }, [handleClick]);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"keyup\", handleKeyPress);\r\n    return () => {\r\n      document.removeEventListener(\"keyup\", handleKeyPress);\r\n    }\r\n  }, [handleKeyPress]);\r\n\r\n  return (\r\n    <>\r\n      {(onLoading || !currentChunk) ? (\r\n        <Grid container justify=\"center\" alignItems=\"center\"></Grid>\r\n      ) : (\r\n        <Grid container justify=\"center\" alignItems=\"center\" direction=\"column\" className={classes.container}>\r\n          <Grid item container justify=\"flex-start\" className={classes.gameIcons}>\r\n            <SoundButton onClick={handleChangeSound} isEnabled={soundOn}/>\r\n            <FullScreenButton/>\r\n          </Grid>\r\n\r\n          <Grid container justify=\"center\" alignItems=\"center\" direction=\"column\" className={classes.gameContainer}>\r\n            <Grid container justify=\"space-between\" className={classes.dataContainer}>\r\n              <Grid container justify=\"center\" alignItems=\"center\" className={classes.timerContainer}>\r\n                <Timer isActive={true} initialTime={60} onCountdownFinish={() => onGameEnd(wordCounter)} />\r\n              </Grid>\r\n              <Grid container justify=\"center\" alignItems=\"center\" className={classes.score}>\r\n                {score}\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container justify=\"space-between\" alignItems=\"flex-start\" direction=\"column\" className={classes.game}>\r\n\r\n              <Marks count={marksCombo}/>\r\n              <Parrots count={rate}/>\r\n\r\n              <Grid container justify=\"center\" alignItems=\"center\" direction=\"column\" className={classes.wordsContainer}>\r\n                <button onClick={playAudio(wordCounter)} className={classes.audioButton}>\r\n                  <NotificationsActiveIcon/>\r\n                </button>\r\n                <Grid container justify=\"center\" alignItems=\"center\">\r\n                  <p className={classes.enWord}>{currentChunk[wordCounter]?.word}</p>\r\n                </Grid>\r\n                <Grid container justify=\"center\" alignItems=\"center\">\r\n                  <p className={classes.ruWord}>{randomTranslation}</p>\r\n                </Grid>\r\n              </Grid>\r\n\r\n              <Grid container justify=\"space-around\" alignItems=\"center\" className={classes.buttonsContainer}>\r\n                <Button label={\" \"} onClick={handleClick(false)} classes={{button: classes.buttonFalse}}>\r\n                  <ArrowLeftIcon className={classes.buttonIcon}/>\r\n                </Button>\r\n                <Button label={\"\"} onClick={handleClick(true)} classes={{button: classes.buttonTrue}}>\r\n                  <ArrowRightIcon className={classes.buttonIcon}/>\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>)}\r\n      <audio id=\"correctSound\" src={correctSound}/>\r\n      <audio id=\"errorSound\" src={errorSound}/>\r\n    </>\r\n  );\r\n};\r\n\r\n\r\nconst playSound = (isCorrect, soundOn) => {\r\n  const correctSound = document.querySelector(\"#correctSound\");\r\n  const errorSound = document.querySelector(\"#errorSound\");\r\n  if (soundOn) {\r\n    isCorrect ? correctSound.play() : errorSound.play();\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n  container: {\r\n    height: '100vh',\r\n    position: 'relative',\r\n    background: `linear-gradient(#9a733933, #8d8dad30),url(${background})`,\r\n    backgroundSize: 'cover',\r\n    backgroundRepeat: 'no-repeat',\r\n    width: '100vw',\r\n  },\r\n  gameIcons: {\r\n    position: 'absolute',\r\n    top: '15px',\r\n  },\r\n  dataContainer: {\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      maxWidth: '250px',\r\n    },\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      maxWidth: '180px',\r\n    },\r\n    maxWidth: '600px',\r\n    marginBottom: '5px',\r\n  },\r\n  timerContainer: {\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      fontSize: '30px',\r\n    },\r\n    fontSize: '45px',\r\n    lineHeight: '40px',\r\n    textAlign: 'center',\r\n    color: '#ffffff',\r\n    border: '2px solid #e7b78f',\r\n    borderRadius: '50%',\r\n    width: '70px',\r\n    height: '70px',\r\n    padding: '10px',\r\n  },\r\n  score: {\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      fontSize: '30px',\r\n    },\r\n    fontSize: '45px',\r\n    lineHeight: '40px',\r\n    textAlign: 'center',\r\n    color: '#ffffff',\r\n    width: '70px',\r\n    height: '70px',\r\n    padding: '10px',\r\n  },\r\n  gameContainer: {},\r\n  game: {\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      maxWidth: '500px',\r\n    },\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      maxWidth: '400px',\r\n    },\r\n    height: '450px',\r\n    maxWidth: '600px',\r\n    background: 'rgb(80 80 80 / 65%)',\r\n    borderRadius: '40px',\r\n    padding: '10px',\r\n  },\r\n  trueMark: {\r\n    color: '#ffeb3b',\r\n    fontSize: '30px',\r\n  },\r\n  falseMark: {\r\n    color: '#ffffff',\r\n    fontSize: '30px',\r\n  },\r\n  wordsContainer: {\r\n    \"& button svg\": {\r\n      zIndex: 1,\r\n    },\r\n  },\r\n  enWord: {\r\n    fontWeight: 'bold',\r\n    fontSize: '40px',\r\n    lineHeight: '22px',\r\n    color: '#FFFFFF',\r\n  },\r\n  ruWord: {\r\n    fontSize: '30px',\r\n    lineHeight: '22px',\r\n    color: '#FFFFFF',\r\n    marginTop: '9px',\r\n  },\r\n  parrotsContainer: {\r\n    position: 'relative',\r\n  },\r\n  parrot: {\r\n    animation: `$bubble 0.3s linear`,\r\n  },\r\n  hidden: {\r\n    visibility: 'hidden',\r\n  },\r\n  branch: {\r\n    position: 'absolute',\r\n    top: '-2px',\r\n    transform: 'rotate(29deg)',\r\n    width: '270px',\r\n    height: '150px',\r\n  },\r\n  buttonsContainer: {\r\n    \"& button\": {\r\n      [theme.breakpoints.down(\"xs\")]: {\r\n        width: '120px',\r\n        height: '35px',\r\n      },\r\n    }\r\n  },\r\n  buttonFalse: {\r\n    backgroundColor: '#e79666',\r\n    flexDirection: 'row-reverse',\r\n    \"&:hover\": {\r\n      backgroundColor: '#efaf8a',\r\n    },\r\n  },\r\n  buttonTrue: {\r\n    backgroundColor: '#4cca78',\r\n    \"&:hover\": {\r\n      backgroundColor: '#60d488',\r\n    },\r\n  },\r\n  buttonIcon: {\r\n    display: 'flex',\r\n  },\r\n  audioButton: {\r\n    display: 'contents',\r\n    cursor: 'pointer',\r\n    \"& svg\": {\r\n      color: '#ffffff',\r\n    }\r\n  },\r\n  '@keyframes bubble': {\r\n    '0%': {\r\n      transform: 'scale(0.5)',\r\n    },\r\n    '30%': {\r\n      transform: 'scale(0.7)',\r\n    },\r\n    '70%': {\r\n      transform: 'scale(0.9)',\r\n    },\r\n    '100%': {\r\n      transform: 'scale(1)',\r\n    }\r\n  },\r\n  '@keyframes bubbleBack': {\r\n    '0%': {\r\n      transform: 'scale(1)',\r\n    },\r\n    '30%': {\r\n      transform: 'scale(0.9)',\r\n    },\r\n    '70%': {\r\n      transform: 'scale(0.7)',\r\n    },\r\n    '85%': {\r\n      transform: 'scale(0.5)',\r\n    },\r\n    '100%': {\r\n      transform: 'scale(0.2)',\r\n    }\r\n  },\r\n  }),\r\n);\r\n\r\nexport default Sprint;\r\n\r\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React, {useEffect} from 'react';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\r\n\r\nconst MAX_LIVES_COUNT = 5;\r\n\r\nconst Lives = (props) => {\r\n    const { livesCount, gameOver} = props;\r\n    const classes = useStyles();\r\n\r\n    useEffect(() => {\r\n        if (livesCount <= 0) {\r\n            gameOver();\r\n        }\r\n    }, [gameOver, livesCount]);\r\n\r\n    return (\r\n        <Grid container justify=\"center\" alignItems=\"center\" className={classes.container}>\r\n            {(new Array(livesCount).fill(1)).map((item, index) => {\r\n               return <FavoriteIcon key={`active-${index}`}/>\r\n            })}\r\n            {(new Array(MAX_LIVES_COUNT - livesCount).fill(1)).map((item, index) => {\r\n               return <FavoriteBorderIcon key={`inactive-${index}`}/>\r\n            })}\r\n        </Grid>\r\n    );\r\n};\r\nconst useStyles = makeStyles({\r\n    container: {\r\n        width: '135px',\r\n        \"& svg\": {\r\n            color: '#e45731',\r\n        }\r\n    },\r\n});\r\nexport default Lives;\r\n","import React, {useState, useCallback, useEffect, useMemo} from 'react';\r\nimport {getRandomNumber,shuffle} from '../../../helpers/gameUtils';\r\nimport {Grid} from \"@material-ui/core\";\r\nimport classNames from \"classnames\";\r\nimport { SETTINGS } from \"../../../settings/settings\";\r\nimport Lives from \"../common/Lives\";\r\nimport SoundButton from \"../common/SoundButton\";\r\nimport correctSound from \"../../../assets/audio/correct.mp3\";\r\nimport errorSound from \"../../../assets/audio/error.mp3\";\r\nimport FullScreenButton from \"../common/FullScreenButton\";\r\nimport classesCss from \"./AudioCallGame.module.scss\";\r\n\r\n\r\nconst NUMBER_OF_WORDS = 20;\r\n\r\nexport default function AudioCall(props) {\r\n\r\n  const {words, onLoading, onWordSelect, onGameEnd} = props;\r\n  const [answer, setAnswer] = useState('');\r\n  const [arrOfWords, setArrOfWords] = useState([]);\r\n  const [btnClicked, setBtnClicked] = useState(false);\r\n  const [livesCount, setLivesCount] = useState(5);\r\n\r\n  const [soundOn, setSoundOn] = useState(false);\r\n  const [word, setWord] = useState('');\r\n  const [wordAudio, setWordAudio] = useState('');\r\n  const [wordTranslation, setWordTranslation] = useState('');\r\n  const [wordCounter, setWordCounter] = useState(0);\r\n  const [currentSeries, setCurrentSeries] = useState(0);\r\n    const audioPlayer = new Audio();\r\n    audioPlayer.volume = 0.1;\r\n\r\n    const classes = {};\r\n\r\n    const currentChunk = useMemo(() => {\r\n      if (words?.length > 0) {\r\n        return [...words]\r\n      }\r\n      return null\r\n    }, [words]);\r\n\r\n\r\n\r\n    useEffect(() => {\r\n      if (currentChunk !== null && currentChunk.length && livesCount && wordCounter < NUMBER_OF_WORDS) {\r\n          const f1 = (wordCounter) => {\r\n              const newWordTranslation = currentChunk[wordCounter].wordTranslate;\r\n              setWord(currentChunk[wordCounter].word);\r\n              const previousWordAudioURL = wordAudio;\r\n              setWordAudio(currentChunk[wordCounter].audio);\r\n              setWordTranslation(newWordTranslation);\r\n              setArrOfWords(setWordsTranslation(currentChunk, newWordTranslation));\r\n                              if (previousWordAudioURL !== currentChunk[wordCounter].audio && currentChunk[wordCounter].audio) {\r\n                  playAudio(`${SETTINGS.SERVER}/${currentChunk[wordCounter].audio}`);\r\n          };\r\n        }\r\n         f1(wordCounter);\r\n      }\r\n\r\n      if (wordCounter === NUMBER_OF_WORDS) {\r\n        onGameEnd();\r\n      }\r\n  }, [livesCount, wordCounter, currentChunk]);\r\n\r\n  function playAudio(url) {\r\n      audioPlayer.src = url;\r\n      audioPlayer.load();\r\n      audioPlayer.play();\r\n\r\n  }\r\n\r\n    // const updateStats = useCallback((isCorrect) => {\r\n    //     setStatisticsArr([...statisticsArr, {\r\n    //         'word': word,\r\n    //         'id': wordID,\r\n    //         'audio': wordAudio,\r\n    //         'transcription': wordTranscription,\r\n    //         'translation': wordTranslation,\r\n    //         'isCorrect': isCorrect,\r\n    //     }]);\r\n    // }, [word, wordID, wordAudio, wordTranscription, wordTranslation, statisticsArr]);\r\n\r\n    useEffect(() => {\r\n      const timer = setTimeout(() => {\r\n          if (livesCount && currentChunk && currentChunk.length && !btnClicked) {\r\n              setLivesCount(livesCount - 1);\r\n              playSound(false, soundOn);\r\n              setWordCounter(wordCounter + 1);\r\n\r\n              onWordSelect(currentChunk[wordCounter], {failed: true});\r\n          }\r\n      }, 6000);\r\n        console.log(currentChunk)\r\n      return () => {\r\n          clearTimeout(timer);\r\n      };\r\n  }, [onWordSelect, currentChunk, livesCount, btnClicked, soundOn, wordCounter]);\r\n\r\n    const handleChangeSound = useCallback(() => {\r\n        setSoundOn(!soundOn);\r\n    },[soundOn]);\r\n\r\n    const checkAnswer = useCallback((wordActive, answerActive) => {\r\n      let correct = wordActive === answerActive;\r\n      setAnswer(correct);\r\n      setWordCounter(wordCounter + 1);\r\n\r\n      if (correct) {\r\n        // setSnakeSize(snakeSize + 0.02);\r\n        setCurrentSeries(currentSeries + 1);\r\n        //currentChunk[wordCounter] = {...currentChunk[wordCounter], status:\"succeed\"}\r\n        onWordSelect(currentChunk[wordCounter], {succeed: true});\r\n        playSound(true, soundOn);\r\n      } else {\r\n        setLivesCount(livesCount - 1);\r\n        playSound(false, soundOn);\r\n        //currentChunk[wordCounter] = {...currentChunk[wordCounter], status:\"succeed\"}\r\n        onWordSelect(currentChunk[wordCounter], {failed: true});\r\n\r\n      }\r\n  }, [currentChunk, onWordSelect, word, livesCount, currentSeries, wordCounter, soundOn]);\r\n\r\n    const handleWordClick = useCallback((itemWord) => () => {\r\n        setBtnClicked(true);\r\n        setWord(\"\");\r\n        setTimeout(() => {\r\n            setBtnClicked(false);\r\n            checkAnswer(itemWord, wordTranslation);\r\n            setTimeout(() => {\r\n                setAnswer(false);\r\n                setBtnClicked(false);\r\n            }, 500);\r\n        }, 350);\r\n    },[checkAnswer, wordTranslation]);\r\n\r\n    return (\r\n        <div className={classesCss.AudioCall}>\r\n          {onLoading ? <Grid container justify=\"center\" alignItems=\"center\"></Grid> : (\r\n            <Grid className={classesCss.containerGames}>\r\n                {/* {isGameOver && (\r\n                    <Statistics\r\n                        statisticsArr={statisticsArr}\r\n                        rightAnswers={currentGameStatistics.rightAnswers}\r\n                        wrongAnswers={currentGameStatistics.wrongAnswers}\r\n                    />)} */}\r\n\r\n                <Grid container justify=\"space-between\" alignItems=\"center\">\r\n                    <Grid item container justify=\"center\" className={classesCss.gameIcons}>\r\n                    <Lives livesCount={livesCount} gameOver={() => onGameEnd(wordCounter - 1)}/>\r\n                      <SoundButton onClick={handleChangeSound} isEnabled={soundOn}/>\r\n                      <FullScreenButton/>\r\n                    </Grid>\r\n                </Grid>)\r\n\r\n                <Grid container\r\n                      direction=\"column\"\r\n                      justify=\"space-between\"\r\n                      alignItems=\"center\"\r\n                      className={classesCss.gameContainer}>\r\n\r\n\r\n                        <h3 onClick ={()  => {\r\n                          playAudio(`${SETTINGS.SERVER}/${currentChunk[wordCounter].audio}`)\r\n                          // console.log(wordAudio)\r\n                        }\r\n                        } className={classesCss.wordAudio}>campaign</h3>\r\n\r\n                    <Grid container justify=\"space-evenly\" alignItems=\"center\" className={classesCss.listWords}>\r\n                        {\r\n                            arrOfWords.map((itemWord) => (\r\n                                <button\r\n                                    key={itemWord}\r\n                                    onClick={handleWordClick(itemWord)}\r\n                                    className={classNames({\r\n                                        [classesCss.wordButton]: true,\r\n                                        [classesCss.bubble]: true,\r\n                                        [classesCss.wordButtonRight]: btnClicked && itemWord === wordTranslation,\r\n                                    })}\r\n                                >\r\n                                    {itemWord}\r\n                                </button>\r\n                            ))\r\n                        }\r\n                    </Grid>\r\n\r\n                </Grid>)\r\n        </Grid>)}\r\n            <audio id=\"correctSound\" src={correctSound}/>\r\n            <audio id=\"errorSound\" src={errorSound}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst setWordsTranslation = (words, newWordTranslation) => {\r\n    const arrOfTranslations = [];\r\n    arrOfTranslations.push(newWordTranslation);\r\n\r\n    while (arrOfTranslations.length < 4) {\r\n        const translation = words[getRandomNumber(0, words.length - 1)].wordTranslate;\r\n        if (!arrOfTranslations.includes(translation)) {\r\n            arrOfTranslations.push(translation);\r\n        }\r\n    }\r\n    return shuffle(arrOfTranslations);\r\n};\r\n\r\nconst playSound = (isCorrect, soundOn) => {\r\n    const correctSound = document.querySelector(\"#correctSound\");\r\n    const errorSound = document.querySelector(\"#errorSound\");\r\n    if (soundOn) {\r\n        isCorrect ? correctSound.play() : errorSound.play();\r\n    }\r\n};\r\n","export default __webpack_public_path__ + \"static/media/snake.313dd7c8.svg\";","export default __webpack_public_path__ + \"static/media/2.43a3b8b5.jpg\";","import React, {useState, useCallback, useEffect, useMemo} from 'react';\r\nimport {getRandomNumber, shuffle} from '../../../helpers/gameUtils';\r\nimport {createStyles, Grid, makeStyles} from \"@material-ui/core\";\r\nimport snake from \"../../../assets/images/snake.svg\"\r\nimport classNames from \"classnames\";\r\nimport background from \"../../../assets/images/2.jpg\";\r\nimport Lives from \"../common/Lives\";\r\nimport SoundButton from \"../common/SoundButton\";\r\nimport correctSound from \"../../../assets/audio/correct.mp3\";\r\nimport errorSound from \"../../../assets/audio/error.mp3\";\r\nimport FullScreenButton from \"../common/FullScreenButton\";\r\n\r\nconst NUMBER_OF_WORDS = 20;\r\n\r\nconst Savannah = (props) => {\r\n    const {words, onLoading, onWordSelect, onGameEnd} = props;\r\n    const [answer, setAnswer] = useState('');\r\n    const [arrOfWords, setArrOfWords] = useState([]);\r\n    const [btnClicked, setBtnClicked] = useState(false);\r\n    const [livesCount, setLivesCount] = useState(5);\r\n\r\n    const [soundOn, setSoundOn] = useState(false);\r\n    const [word, setWord] = useState('');\r\n    const [wordTranslation, setWordTranslation] = useState('');\r\n    const [wordCounter, setWordCounter] = useState(0);\r\n    const [snakeSize, setSnakeSize] = useState(0.6);\r\n    const [currentSeries, setCurrentSeries] = useState(0);\r\n\r\n    const classes = useStyles({snakeSize});\r\n\r\n  const currentChunk = useMemo(() => {\r\n    if (words?.length > 0) {\r\n      return [...words]\r\n    }\r\n    return null\r\n  }, [words]);\r\n\r\n    useEffect(() => {\r\n        if (currentChunk !== null && currentChunk.length && livesCount && wordCounter < NUMBER_OF_WORDS) {\r\n            const f1 = (wordCounter) => {\r\n                const newWordTranslation = currentChunk[wordCounter].wordTranslate;\r\n                setWord(currentChunk[wordCounter].word);\r\n                setWordTranslation(newWordTranslation);\r\n                setArrOfWords(setWordsTranslation(currentChunk, newWordTranslation));\r\n            };\r\n\r\n           f1(wordCounter);\r\n        }\r\n\r\n        if (wordCounter === NUMBER_OF_WORDS) {\r\n          onGameEnd();\r\n        }\r\n    }, [livesCount, wordCounter, currentChunk]);\r\n\r\n\r\n    useEffect(() => {\r\n        const timer = setTimeout(() => {\r\n            if (livesCount && currentChunk && currentChunk.length && !btnClicked) {\r\n                setLivesCount(livesCount - 1);\r\n                playSound(false, soundOn);\r\n                setWordCounter(wordCounter + 1);\r\n              onWordSelect(currentChunk[wordCounter], {failed: true});\r\n            }\r\n        }, 6800);\r\n\r\n        return () => {\r\n            clearTimeout(timer);\r\n        };\r\n    }, [onWordSelect, currentChunk, livesCount, btnClicked, soundOn, wordCounter]);\r\n\r\n    const handleChangeSound = useCallback(() => {\r\n        setSoundOn(!soundOn);\r\n    },[soundOn]);\r\n\r\n    const checkAnswer = useCallback((wordActive, answerActive) => {\r\n        let correct = wordActive === answerActive;\r\n        setAnswer(correct);\r\n        setWordCounter(wordCounter + 1);\r\n\r\n        if (correct) {\r\n          setSnakeSize(snakeSize + 0.02);\r\n          setCurrentSeries(currentSeries + 1);\r\n          onWordSelect(currentChunk[wordCounter], {succeed: true});\r\n          playSound(true, soundOn);\r\n        } else {\r\n          setLivesCount(livesCount - 1);\r\n          playSound(false, soundOn);\r\n          onWordSelect(currentChunk[wordCounter], {failed: true});\r\n        }\r\n    }, [currentChunk, onWordSelect, word, livesCount, currentSeries, wordCounter, soundOn, snakeSize]);\r\n\r\n    const handleWordClick = useCallback((itemWord) => () => {\r\n        setBtnClicked(true);\r\n        setWord(\"\");\r\n        setTimeout(() => {\r\n            setBtnClicked(false);\r\n            checkAnswer(itemWord, wordTranslation);\r\n            setTimeout(() => {\r\n                setAnswer(false);\r\n                setBtnClicked(false);\r\n            }, 500);\r\n        }, 350);\r\n    },[checkAnswer, wordTranslation]);\r\n\r\n    return (\r\n        <>\r\n          {onLoading ? <Grid container justify=\"center\" alignItems=\"center\"></Grid> : (\r\n            <Grid className={classes.container}>\r\n\r\n                <Grid container justify=\"space-between\" alignItems=\"center\">\r\n                    <Grid item container justify=\"center\" className={classes.gameIcons}>\r\n                      <Lives livesCount={livesCount} gameOver={() => onGameEnd(wordCounter - 1)}/>\r\n                      <SoundButton onClick={handleChangeSound} isEnabled={soundOn}/>\r\n                      <FullScreenButton/>\r\n                    </Grid>\r\n                </Grid>\r\n\r\n                <Grid container\r\n                      direction=\"column\"\r\n                      justify=\"space-between\"\r\n                      alignItems=\"center\"\r\n                      className={classes.gameContainer}>\r\n\r\n                    <div\r\n                        className={classNames({\r\n                            [classes.wrapperFalling]: true,\r\n                            [classes.animation]: !btnClicked,\r\n                            [classes.noAnimation]: btnClicked,\r\n                        })}\r\n                    >\r\n                        <h3 className={classes.fallingWord} >\r\n                            {word}\r\n                        </h3>\r\n                    </div>\r\n                    <Grid container justify=\"space-evenly\" alignItems=\"center\" className={classes.listWords}>\r\n                        {\r\n                            arrOfWords.map((itemWord) => (\r\n                                <button\r\n                                    key={itemWord}\r\n                                    onClick={handleWordClick(itemWord)}\r\n                                    className={classNames({\r\n                                        [classes.wordButton]: true,\r\n                                        [classes.bubble]: true,\r\n                                        [classes.wordButtonRight]: btnClicked && itemWord === wordTranslation,\r\n                                    })}\r\n                                >\r\n                                    {itemWord}\r\n                                </button>\r\n                            ))\r\n                        }\r\n                    </Grid>\r\n\r\n                    <img\r\n                        className={classNames({\r\n                            [classes.snake]: true,\r\n                            [classes.snakeCorrectAnswer]: answer,\r\n                        })}\r\n                        src={snake}\r\n                        alt=\"snake\"\r\n                    />\r\n                </Grid>\r\n        </Grid>)}\r\n            <audio id=\"correctSound\" src={correctSound}/>\r\n            <audio id=\"errorSound\" src={errorSound}/>\r\n        </>\r\n    );\r\n};\r\n\r\nconst setWordsTranslation = (words, newWordTranslation) => {\r\n    const arrOfTranslations = [];\r\n    arrOfTranslations.push(newWordTranslation);\r\n\r\n    while (arrOfTranslations.length < 4) {\r\n        const translation = words[getRandomNumber(0, words.length - 1)].wordTranslate;\r\n        if (!arrOfTranslations.includes(translation)) {\r\n            arrOfTranslations.push(translation);\r\n        }\r\n    }\r\n    return shuffle(arrOfTranslations);\r\n};\r\n\r\nconst playSound = (isCorrect, soundOn) => {\r\n    const correctSound = document.querySelector(\"#correctSound\");\r\n    const errorSound = document.querySelector(\"#errorSound\");\r\n    if (soundOn) {\r\n        isCorrect ? correctSound.play() : errorSound.play();\r\n    }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    container: {\r\n        height: '100vh',\r\n        position: 'relative',\r\n        background: `linear-gradient(#399a7233, #8dada730),url(${background})`,\r\n        backgroundSize: 'cover',\r\n        backgroundRepeat: 'no-repeat',\r\n        width: '100vw',\r\n    },\r\n    snake: ({ snakeSize }) => ({\r\n        width: '64px',\r\n        transform: `scale(${snakeSize})`\r\n    }),\r\n    gameIcons: {\r\n      position: 'absolute',\r\n      top: '15px',\r\n    },\r\n    gameContainer: {\r\n        height: 'calc(100vh - 30px)',\r\n    },\r\n    fallingWord: {\r\n        fontSize: '35px',\r\n        textAlign: 'center',\r\n    },\r\n    wrapperFalling: {\r\n        position: 'absolute',\r\n    },\r\n    animation: {\r\n        animation: `$falling 7s infinite`,\r\n    },\r\n    noAnimation: {\r\n     animation: 'unset',\r\n    },\r\n    listWords: {\r\n        position: 'relative',\r\n        top: '50%',\r\n    },\r\n    wordButton: {\r\n        [theme.breakpoints.down(\"xs\")]: {\r\n          height: '90px',\r\n          width: '90px',\r\n        },\r\n        position: 'relative',\r\n        display: 'inline-block',\r\n        height: '120px',\r\n        width: '120px',\r\n        wordBreak: 'break-word',\r\n        borderRadius: '50%',\r\n        outline: 'none',\r\n        cursor: 'pointer',\r\n        border: 0,\r\n        \"&:before\":{\r\n            content: `\"\"`,\r\n            position: 'absolute',\r\n            top: '1%',\r\n            left: '5%',\r\n            width: '90%',\r\n            height: '90%',\r\n            borderRadius: '100%',\r\n            filter: 'blur(5px)',\r\n            zIndex: 2,\r\n            background: 'radial-gradient(circle at top, white, rgba(255, 255, 255, 0) 58%)',\r\n        },\r\n        \"&:after\":{\r\n            content: `\"\"`,\r\n            position: 'absolute',\r\n            top: '5%',\r\n            left: '10%',\r\n            width: '80%',\r\n            height: '80%',\r\n            borderRadius: '100%',\r\n            filter: 'blur(1px)',\r\n            zIndex: 2,\r\n            transform: 'rotateZ(-30deg)',\r\n        },\r\n    },\r\n    wordButtonRight: {\r\n        animation: `$bubble 0.3s linear`,\r\n        background: 'radial-gradient(circle at bottom, #81e8f6, #76deef 10%, #055194 80%, #062745 100%)',\r\n    },\r\n    bubble: {\r\n        background: 'radial-gradient(circle at 50% 55%, rgba(240, 245, 255, 0.9), rgba(240, 245, 255, 0.9) 40%, rgba(225, 238, 255, 0.8) 60%, rgba(43, 130, 255, 0.4))',\r\n        \"&:before\":{\r\n            filter: 'blur(0)',\r\n            height: '80%',\r\n            width: '40%',\r\n            background: 'radial-gradient(circle at 130% 130%, rgba(255, 255, 255, 0) 0, rgba(255, 255, 255, 0) 46%, rgba(255, 255, 255, 0.8) 50%, rgba(255, 255, 255, 0.8) 58%, rgba(255, 255, 255, 0) 60%, rgba(255, 255, 255, 0) 100%)',\r\n            transform: 'translateX(131%) translateY(58%) rotateZ(168deg) rotateX(10deg)',\r\n        },\r\n        \"&:after\":{\r\n            display: 'block',\r\n            background: 'radial-gradient(circle at 50% 80%, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0) 74%, white 80%, white 84%, rgba(255, 255, 255, 0) 100%)',\r\n        },\r\n    },\r\n\r\n    snakeCorrectAnswer: {\r\n        animation: `$snakeCorrectAnimation 5s infinite, $shake 2.5s linear infinite`,\r\n    },\r\n    '@keyframes shake': {\r\n        '0%': { transform: 'translate(1px, 1px) rotate(0deg)', },\r\n        '10%': { transform: 'translate(-1px, -2px) rotate(-1deg)', },\r\n        '30%': { transform: 'translate(3px, 2px) rotate(0deg)', },\r\n        '50%': { transform: 'translate(-1px, 2px) rotate(-1deg)', },\r\n        '70%': { transform: 'translate(3px, 1px) rotate(-1deg)', },\r\n        '90%': { transform: 'translate(1px, 2px) rotate(0deg)', },\r\n    },\r\n    '@keyframes falling': {\r\n        '0%': {\r\n            top: '10%',\r\n            opacity: 0.9,\r\n        },\r\n        '100%': {\r\n            top: '60%',\r\n            opacity: 0.1,\r\n        },\r\n    },\r\n    '@keyframes snakeCorrectAnimation': {\r\n        \"20%\": {\r\n            filter: 'hue-rotate(70deg)',\r\n        }\r\n    },\r\n    '@keyframes bubble': {\r\n        '0%': {\r\n            transform: 'scale(1)',\r\n        },\r\n\r\n        '30%': {\r\n            transform: 'scale(0.7)',\r\n        },\r\n        '50%': {\r\n            transform: 'scale(0.6)',\r\n        },\r\n        '70%': {\r\n            transform: 'scale(0.7)',\r\n        },\r\n\r\n        '100%': {\r\n            transform: 'scale(1)',\r\n        }\r\n    }\r\n  }),\r\n);\r\n\r\nexport default Savannah;\r\n\r\n","import {RESET_GAME_STATISTICS} from \"./action-types\";\r\n\r\nexport const setGameStatistics = (type, gameStatistics) => ({\r\n  type,\r\n  gameStatistics,\r\n});\r\n\r\nexport const getGameStatistics = (type, gameStatistics) => ({\r\n  type,\r\n  gameStatistics,\r\n});\r\n\r\nexport const resetGameStatistics = () => ({\r\n  type: RESET_GAME_STATISTICS,\r\n});","import {getGameStatistics, setGameStatistics} from \"./actions\";\r\nimport {GET_GAME_STATISTICS, SET_GAME_STATISTICS} from \"./action-types\";\r\nimport {getUserData} from \"../../helpers/gameUtils\";\r\n\r\nconst server = \"https://rss-words-3.herokuapp.com\";\r\n\r\nexport const addStatisticsThunk = (id, gameStatistics) => (dispatch) => {\r\n  const token =  getUserData()?.token;\r\n  dispatch(setGameStatistics(SET_GAME_STATISTICS.START));\r\n  fetch(`${server}/users/${id}/statistics`, {\r\n    method: \"PUT\",\r\n    withCredentials: true,\r\n    headers: {\r\n      'Authorization': `Bearer ${token}`,\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(gameStatistics),\r\n  })\r\n    .then(res => res.json())\r\n    .then(res => {\r\n      // add success\r\n      dispatch(setGameStatistics(SET_GAME_STATISTICS.FINISHED, res));\r\n    })\r\n    .catch(res => {\r\n      //add failing\r\n      dispatch(setGameStatistics(SET_GAME_STATISTICS.FAILED));\r\n    });\r\n};\r\n\r\nexport const getStatisticsThunk = (id) => (dispatch) => {\r\n  const token =  getUserData()?.token;\r\n  dispatch(getGameStatistics(GET_GAME_STATISTICS.START));\r\n  fetch(`${server}/users/${id}/statistics`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      'Authorization': `Bearer ${token}`,\r\n      'Accept': 'application/json',\r\n    }\r\n  })\r\n    .then(res => res.json())\r\n    .then(res => {\r\n      // add success\r\n      dispatch(getGameStatistics(GET_GAME_STATISTICS.FINISHED, res));\r\n    })\r\n    .catch(res => {\r\n      //add failing\r\n      dispatch(getGameStatistics(GET_GAME_STATISTICS.FAILED));\r\n    });\r\n};","import { createSelector } from 'reselect';\r\n\r\nexport const gameSelector = (state) => {\r\n    return state.gameWords;\r\n};\r\n\r\nexport const statisticsSelector = createSelector(\r\n  gameSelector,\r\n  ({ gameStatistics }) => {\r\n      return gameStatistics;\r\n  },\r\n);\r\n","import React from 'react';\r\nimport {createStyles, makeStyles} from \"@material-ui/core\";\r\nimport classesCss from \"./StatisticPage.module.scss\"\r\n\r\nconst StatisticsGameCard = (props) => {\r\n  const { learnedWords, rightAnswersPercent, bestSeries, gameTitle } = props;\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <table className={classesCss.StatisticTable}>\r\n      <thead>\r\n      <tr>\r\n        <th className={classes.title}>{gameTitle}</th>\r\n      </tr>\r\n      </thead>\r\n\r\n      <tbody>\r\n      <tr className={classes.line}>\r\n        <td>  :</td>\r\n        <td>{learnedWords}</td>\r\n      </tr>\r\n\r\n      <tr className={classes.line}>\r\n        <td>  :</td>\r\n        <td>{rightAnswersPercent}%</td>\r\n      </tr>\r\n\r\n      <tr className={classes.line}>\r\n        <td> :</td>\r\n        <td>{bestSeries}</td>\r\n      </tr>\r\n      </tbody>\r\n\r\n    </table>\r\n  );\r\n};\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    title: {\r\n      color: '#e45731',\r\n      fontSize: '18px',\r\n      lineHeight: '30px',\r\n    },\r\n    line: {\r\n      lineHeight: '25px',\r\n      \"& td:last-child\": {\r\n        fontSize: '20px',\r\n        color: '#567df4',\r\n      }\r\n    },\r\n  }),\r\n);\r\nexport default StatisticsGameCard;\r\n","import React, { useMemo } from 'react';\r\nimport {Line} from 'react-chartjs-2';\r\nimport classesCss from \"./StatisticPage.module.scss\"\r\n\r\nconst options = { responsive: true, maintainAspectRatio: false };\r\n\r\nconst BarChart = (props) => {\r\n  const { data, label } = props;\r\n\r\n  const dataBar = useMemo(() => ({\r\n    labels: data?.map(({ t }) => (\r\n      t.toLocaleDateString({}, {\r\n        day: '2-digit', month: '2-digit', year: '2-digit',\r\n      }))),\r\n    datasets: [\r\n      {\r\n        label,\r\n        backgroundColor: '#567DF4',\r\n        borderColor: '#6979F8',\r\n        borderWidth: 1,\r\n        data,\r\n      },\r\n    ],\r\n  }), [data]);\r\n\r\n  return (\r\n    <div className={classesCss.Chart}>\r\n      {data?.length && (\r\n        <Line\r\n          data={dataBar}\r\n          options={options}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BarChart;\r\n","import React, { useCallback, useEffect, useMemo, useState } from \"react\";\r\nimport { createStyles, makeStyles } from \"@material-ui/core\";\r\nimport { getStatisticsThunk } from \"../../redux/games/thunk.statistics\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { statisticsSelector } from \"../../redux/games/selectors\";\r\nimport StatisticsGameCard from \"./StatisticsGameCard\";\r\nimport BarChart from \"./BarChart\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\r\nimport Radio from \"@material-ui/core/Radio\";\r\nimport { getUserData } from \"../../helpers/gameUtils\";\r\nimport { resetGameStatistics } from \"../../redux/games/actions\";\r\nimport classesCss from \"./StatisticPage.module.scss\"\r\nimport cx from \"classnames\"\r\n\r\nconst StatisticsPage = () => {\r\n  const dispatch = useDispatch();\r\n  const classes = useStyles();\r\n  const allStatistics = useSelector(statisticsSelector);\r\n\r\n  const statistics = useMemo(() => {\r\n    if (allStatistics.optional) {\r\n      return parseStatistics(allStatistics);\r\n    }\r\n  }, [allStatistics]);\r\n\r\n  const TOTAL = useMemo(() => {\r\n    const todayStatistics = statistics ? getByGameStatistics(statistics, true) : null;\r\n    return {\r\n      totalLearnedWords: todayStatistics?.totalLearnedWords || 0,\r\n      rightAnswersPercentToday: todayStatistics?.rightAnswersPercent || 0,\r\n    }\r\n  }, [statistics]);\r\n\r\n  const GAMES = useMemo(() => {\r\n    const defaults = {\r\n      bestSeries: 0,\r\n      rightAnswers: 0,\r\n      rightAnswersPercent: 0,\r\n      wordCounter: 0,\r\n    };\r\n    const allStatistics = getByGameStatistics(statistics, false);\r\n    const todayStatistics = getByGameStatistics(statistics, true);\r\n    const defaultGamesData = {\r\n      savannah: {key: \"savannah\", translation: \"\"},\r\n      audiocall: {key: \"audiocall\", translation: \"\"},\r\n      puzzle: {key: \"puzzle\", translation: \"\"},\r\n      sprint: {key: \"sprint\", translation: \"\"},\r\n    };\r\n    if (statistics) {\r\n      Object.keys(defaultGamesData).forEach((key) => {\r\n        defaultGamesData[key] = {\r\n          ...defaultGamesData[key],\r\n          todayStatistics: todayStatistics[key] || defaults,\r\n          allStatistics: allStatistics[key] || defaults,\r\n        };\r\n      });\r\n    }\r\n    return defaultGamesData;\r\n  }, [statistics]);\r\n\r\n  const [value, setValue] = useState(GAMES.savannah.key);\r\n\r\n  const userId = useMemo(() => getUserData()?.id, []);\r\n\r\n  useEffect(() => {\r\n    dispatch(getStatisticsThunk(userId));\r\n    return () => {\r\n      dispatch(resetGameStatistics());\r\n    }\r\n  }, [dispatch, userId]);\r\n\r\n  const barData = useMemo(() => {\r\n    if (statistics) {\r\n      return longTermStat(statistics);\r\n    }\r\n  }, [statistics]);\r\n\r\n  const barDataDelta = useMemo(() => {\r\n    if (statistics) {\r\n      return longTermDeltaStat(statistics);\r\n    }\r\n  }, [statistics]);\r\n\r\n  const handleChange = useCallback((event) => {\r\n    setValue(event.target.value);\r\n  }, []);\r\n\r\n  return (\r\n    <div className={classesCss.StatisticPage}>\r\n      <h2 className={classesCss.Title}></h2>\r\n\r\n      <div className={classesCss.DayStatistic}>\r\n        <div className={classesCss.GamesStatistic}>\r\n          <div className={classesCss.ToggleBlock}>\r\n            <RadioGroup value={value} onChange={handleChange}>\r\n              <FormControlLabel value=\"end\"\r\n                                control={<Radio value={GAMES.savannah.key}\r\n                                                classes={{root: classes.root, checked: classes.checked}}/>}\r\n                                label=\"\"/>\r\n              <FormControlLabel value=\"end\"\r\n                                control={<Radio value={GAMES.audiocall.key}\r\n                                                classes={{root: classes.root, checked: classes.checked}}/>}\r\n                                label=\"\"/>\r\n              <FormControlLabel value=\"end\"\r\n                                control={<Radio value={GAMES.puzzle.key}\r\n                                                classes={{root: classes.root, checked: classes.checked}}/>}\r\n                                label=\"\"/>\r\n              <FormControlLabel value=\"end\"\r\n                                control={<Radio value={GAMES.sprint.key}\r\n                                                classes={{root: classes.root, checked: classes.checked}}/>}\r\n                                label=\"\"/>\r\n            </RadioGroup>\r\n          </div>\r\n          <div className={classesCss.Statistic}>\r\n            {Object.keys(GAMES || {}).map((key) => {\r\n              const gameStatistics = GAMES[key];\r\n              return key === value ? (\r\n                <StatisticsGameCard\r\n                  key={key}\r\n                  gameTitle={gameStatistics.name}\r\n                  learnedWords={gameStatistics.todayStatistics.wordCounter}\r\n                  rightAnswersPercent={gameStatistics.todayStatistics.rightAnswersPercent}\r\n                  bestSeries={gameStatistics.todayStatistics.bestSeries}\r\n                />\r\n              ) : null;\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        <div className={cx(classesCss.StatisticStrings)}>\r\n          <div>\r\n            <span>     : </span>\r\n            <span className={classesCss.Value}>{TOTAL?.totalLearnedWords}</span>\r\n          </div>\r\n          <div>\r\n            <span>    : </span>\r\n            <span className={classesCss.Value}>{TOTAL?.rightAnswersPercentToday}%</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className={classesCss.TotalStatistic}>\r\n\r\n        <div className={cx(classesCss.StatisticBlock, classesCss.Graphics)}>\r\n          <BarChart data={barData} label={'     '}/>\r\n          <BarChart data={barDataDelta} label={'  '}/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst parseStatistics = (allStatistics) => {\r\n  return Object.keys(allStatistics.optional).reduce((res, key) => {\r\n    res.optional[key] = JSON.parse(allStatistics.optional[key]);\r\n    return res;\r\n  }, {...allStatistics});\r\n};\r\n\r\nconst isTodayDate = (date) => {\r\n  const today = new Date();\r\n  today.setHours(0, 0, 0, 0);\r\n  date.setHours(0, 0, 0, 0);\r\n  return today.toString() === date.toString();\r\n};\r\n\r\nconst getGameStatistics = (entries, singleDay = false) => {\r\n  const gameTotalStatistics = entries.reduce((gameResult, entry) => {\r\n    const createdOn = new Date(entry.createdOn);\r\n\r\n    if ((singleDay && isTodayDate(createdOn)) || !singleDay) {\r\n      gameResult.wordCounter = gameResult.wordCounter + entry.wordCounter;\r\n      gameResult.rightAnswers = gameResult.rightAnswers + entry.rightAnswers;\r\n      gameResult.wrongAnswers = gameResult.wrongAnswers + entry.wrongAnswers;\r\n      if (gameResult.bestSeries < entry.bestSeries) {\r\n        gameResult.bestSeries = entry.bestSeries;\r\n      }\r\n    }\r\n\r\n    return gameResult;\r\n  }, {wordCounter: 0, rightAnswers: 0, wrongAnswers: 0, bestSeries: 0});\r\n\r\n  gameTotalStatistics.rightAnswersPercent =\r\n    Math.round(gameTotalStatistics.rightAnswers ? (gameTotalStatistics.rightAnswers * 100 / (gameTotalStatistics.rightAnswers + gameTotalStatistics.wrongAnswers)) : 0);\r\n  return gameTotalStatistics;\r\n};\r\n\r\nconst getTotalStatistics = (byGameStatistics) => {\r\n  const totalStatistics = Object.keys(byGameStatistics).reduce((res, key) => {\r\n    const gameStatistics = byGameStatistics[key];\r\n    res.totalLearnedWords = res.totalLearnedWords + gameStatistics.wordCounter;\r\n    res.rightAnswers = res.rightAnswers + gameStatistics.rightAnswers;\r\n    res.wrongAnswers = res.wrongAnswers + gameStatistics.wrongAnswers;\r\n    return res;\r\n  }, {totalLearnedWords: 0, wrongAnswers: 0, rightAnswers: 0});\r\n\r\n  totalStatistics.rightAnswersPercent =\r\n    Math.round(totalStatistics.rightAnswers * 100 / (totalStatistics.wrongAnswers + totalStatistics.rightAnswers));\r\n\r\n  return totalStatistics;\r\n};\r\n\r\nconst getByGameStatistics = (statistics, singleDay = false) => {\r\n  const byGameStatistics = Object.keys(statistics.optional).reduce((res, key) => {\r\n    // array of finished games for certain game type eg savannah.\r\n    const gameStatisticsEntries = statistics.optional[key];\r\n    res[key] = getGameStatistics(gameStatisticsEntries, singleDay);\r\n    return res;\r\n  }, {});\r\n\r\n  const totalStatistics = getTotalStatistics(byGameStatistics);\r\n\r\n  return {...byGameStatistics, ...totalStatistics};\r\n};\r\n\r\nconst getLongTermStatObj = (statistics) => {\r\n  return Object.keys(statistics.optional).reduce((res, key) => {\r\n    // array of finished games for certain game type eg savannah.\r\n    const gameStatisticsEntries = statistics.optional[key];\r\n    gameStatisticsEntries.forEach((entry) => {\r\n      const createdOn = new Date(entry.createdOn);\r\n      createdOn.setHours(0, 0, 0, 0);\r\n      const key = createdOn.getTime();\r\n      //     \r\n      if (res[key]) {\r\n        res[key] = res[key] + entry.wordCounter;\r\n      } else {\r\n        res[key] = entry.wordCounter;\r\n      }\r\n    });\r\n    return res;\r\n  }, {});\r\n};\r\n\r\nconst longTermStat = (statistics) => {\r\n  const longTermStatObj = getLongTermStatObj(statistics);\r\n  return Object.keys(longTermStatObj).map((key) => ({t: new Date(+key), y: longTermStatObj[key]}));\r\n};\r\n\r\nconst longTermDeltaStat = (statistics) => {\r\n  const longTermStatObj = getLongTermStatObj(statistics);\r\n  const keys = Object.keys(longTermStatObj);\r\n  const deltaValuesArr = Object.values(longTermStatObj).reduce((res, item, index) => {\r\n    if (index === 0) {\r\n      res.push(Object.values(longTermStatObj)[0]);\r\n    } else {\r\n      res.push(res[index - 1] + item);\r\n    }\r\n    return res;\r\n  }, []);\r\n  return deltaValuesArr.map((item, index) => ({t: new Date(+keys[index]), y: item}));\r\n};\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    dayStatistics: {\r\n      color: \"#ffffff\",\r\n      marginBottom: \"25px\",\r\n      \"& span\": {\r\n        fontSize: \"20px\",\r\n        color: \"#567df4\",\r\n      },\r\n    },\r\n    graphics: {\r\n      lineHeight: \"35px\",\r\n    },\r\n    root: {\r\n      color: \"#f38c71\",\r\n      \"&$checked\": {\r\n        color: \"#e45731\",\r\n      },\r\n    },\r\n  }),\r\n);\r\n\r\nexport default StatisticsPage;\r\n","import React from \"react\"\r\nimport classesCss from \"../PuzzleGame.module.scss\"\r\nimport cx from \"classnames\"\r\n\r\nexport default function PuzzleCell({word: {text, visible}, hovered}){\r\n\r\n  const style = {}\r\n  if (!visible) style.width = `${text.length * 20}px`\r\n\r\n  const classes = cx(\r\n    {\r\n      [classesCss.Hovered]: hovered,\r\n      [classesCss.Selected]: visible,\r\n    },\r\n    classesCss.PuzzlePiece,\r\n    classesCss.PuzzleCell)\r\n\r\n  return (\r\n      <div\r\n        style={style}\r\n        className={classes}\r\n      >\r\n        {visible ? text : null}\r\n      </div>\r\n  )\r\n}","import React from \"react\"\r\nimport classesCss from '../PuzzleGame.module.scss'\r\n\r\nexport default function Symbol({symbol}){\r\n\treturn(\r\n\t\t<div className={classesCss.Symbol}><span>{symbol} </span></div>\r\n\t)\r\n}","import React, {useState} from \"react\"\r\nimport classesCss from '../PuzzleGame.module.scss'\r\nimport {motion} from \"framer-motion\"\r\nimport cx from \"classnames\"\r\n\r\nexport default function PuzzleCard({word, index, onClickWordSelect, onDragWordSelect, onDrag}){\r\n\r\n\tconst [onDragFlag, setOnDragFlag] = useState(false)\r\n\r\n\treturn (\r\n\t\t<motion.div\r\n\t\t\tdrag\r\n\t\t\tdragConstraints={{\r\n\t\t\t\ttop: 0,\r\n\t\t\t\tleft: 0,\r\n\t\t\t\tright: 0,\r\n\t\t\t\tbottom: 0,\r\n\t\t\t}}\r\n\t\t\tdragElastic={1}\r\n\t\t\tonClick={() => {\r\n\t\t\t\tif(!onDragFlag){\r\n\t\t\t\t\tonClickWordSelect(index)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetOnDragFlag(false)\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t\tonDrag={onDrag}\r\n\t\t\tonDragStart={() => setOnDragFlag(true)}\r\n\t\t\tonDragEnd={() => onDragWordSelect(index)}\r\n\t\t\tclassName={cx(classesCss.PuzzlePiece, classesCss.PuzzleCard)}\r\n\t\t>\r\n\t\t\t{word.text}\r\n\t\t</motion.div>\r\n\t)\r\n}","import { useEffect, useState } from \"react\"\r\n\r\n\r\nexport function useTimer(generateFn, checkInterval = 50, condition = true, dependencies = []){\r\n  useEffect(() => {\r\n    if (condition) {\r\n      const generatorTimer = setInterval(() => {\r\n        generateFn()\r\n      }, checkInterval)\r\n      return (() => clearInterval(generatorTimer))\r\n    }\r\n  }, [...dependencies, generateFn])\r\n}\r\n\r\n\r\nconst defaultFnList = {\r\n  onGenerate(){\r\n  },\r\n  onWillGenerate(){\r\n  },\r\n  onTic(){\r\n  },\r\n  onPause(){\r\n  },\r\n  onPlay(){\r\n  },\r\n  onReset(){\r\n  },\r\n  onToggle(){\r\n  },\r\n  onSoftReset(){\r\n  }\r\n}\r\n\r\nexport const useTimerGenerator = (fnList, generationTime, ticTime, condition = true) => {\r\n  const fnListCopy = {...fnList}\r\n  for(let fn in fnListCopy)\r\n    if(fnListCopy.hasOwnProperty(fn) && typeof fnListCopy[fn] !== \"function\") delete fnListCopy[fn]\r\n  fnList = {...defaultFnList, ...fnListCopy}\r\n\r\n  const [timeToNextGen, setTimeToNextGen] = useState(generationTime)\r\n  const [walkCondition, setWalkCondition] = useState(true)\r\n\r\n  useTimer(() => {\r\n    let willFurtherGenerate = true\r\n    if(timeToNextGen <= 0 && condition){\r\n      willFurtherGenerate = fnList.onWillGenerate()\r\n    }\r\n    if (timeToNextGen <= 0 && condition && (willFurtherGenerate ?? true)) {\r\n      setTimeToNextGen(generationTime)\r\n      fnList.onGenerate()\r\n    } else {\r\n      setTimeToNextGen(timeToNextGen - ticTime)\r\n      fnList.onTic()\r\n    }\r\n  }, ticTime, condition && walkCondition, [timeToNextGen, condition, fnList])\r\n\r\n  return {\r\n    reset: () => {\r\n      if(timeToNextGen > 0){\r\n        setTimeToNextGen(0)\r\n        if(!walkCondition) setWalkCondition(true)\r\n        fnList.onReset()\r\n      }\r\n    },\r\n    softReset:()=>{\r\n      setTimeToNextGen(generationTime)\r\n      if(!walkCondition) setWalkCondition(true)\r\n      fnList.onSoftReset()\r\n    },\r\n    pause: () => {\r\n      if (walkCondition) {\r\n        setWalkCondition(false)\r\n        fnList.onPause()\r\n      }\r\n    },\r\n    play: () => {\r\n      if (!walkCondition) {\r\n        setWalkCondition(true)\r\n        fnList.onPlay()\r\n      }\r\n    },\r\n    toggle: () => {\r\n      setWalkCondition(!walkCondition)\r\n      fnList.onToggle()\r\n    },\r\n    getTimeToNextGen: () => {\r\n      return timeToNextGen\r\n    },\r\n  }\r\n}\r\n\r\n","import React, { useEffect, useRef, useState } from \"react\"\r\nimport classesCss from \"./PuzzleGame.module.scss\"\r\nimport PuzzleCell from \"./components/PuzzleCell\"\r\nimport Symbol from \"./components/Symbol\"\r\nimport PuzzleCard from \"./components/PuzzleCard\"\r\nimport { checkCollision, shuffle } from \"../../../helpers/gameUtils\"\r\nimport { useTimer } from \"../../../hooks/hooks.game\";\r\nimport {SETTINGS} from \"./settings\";\r\n\r\n\r\nconst {AUTOCOMPLETE_WORD_SELECT_DURATION, AUTOCOMPLETE_SUCCESS_DURATION} = SETTINGS\r\n\r\nexport default function PuzzleField({text, onSuccess, onWrongSelect, autoComplete}){\r\n  const [currentIntersectWord, setCurrentIntersectWord] = useState(null)\r\n  const [currentWord, setCurrentWord] = useState(0)\r\n\tconst [words, setWords] = useState({\r\n\t\tcards: [],\r\n\t\tcells: [],\r\n\t})\r\n\tconst cellsRef = useRef(null)\r\n\r\n\tfunction onSuccessSelect(index, correctWordIndex = currentWord){\r\n\t\tconst cards = [...words.cards]\r\n\t\tconst cells = [...words.cells]\r\n\t\tcells[correctWordIndex] = {...cells[correctWordIndex], visible: true}\r\n\t\tcards.splice(index, 1)\r\n    if(correctWordIndex === currentWord){\r\n      let nextInc = 1\r\n      while (words.cells[currentWord + nextInc]\r\n      && (words.cells[currentWord + nextInc].type === \"symbol\"\r\n        || words.cells[currentWord + nextInc].visible)) {\r\n        nextInc++\r\n      }\r\n      setCurrentWord(currentWord + nextInc)\r\n    }\r\n\t\tsetWords({cards, cells})\r\n\t}\r\n\r\n  function onClickWordSelect(index){\r\n    if (words.cells[currentWord].text === words.cards[index].text) onSuccessSelect(index)\r\n    else onWrongSelect()\r\n  }\r\n\r\n  function onDragWordSelect(index){\r\n    if (currentIntersectWord === currentWord) {\r\n      onClickWordSelect(index)\r\n    } else if(currentIntersectWord !== null){\r\n      if(!words.cells[currentIntersectWord].visible){\r\n        if(words.cells[currentIntersectWord].text === words.cards[index].text){\r\n          onSuccessSelect(index, currentIntersectWord)\r\n        } else {\r\n          onWrongSelect()\r\n        }\r\n      }\r\n      setCurrentIntersectWord(null)\r\n    }\r\n  }\r\n\r\n\tfunction onDragCheckIntersection(event){\r\n\t\tconst cardRect = event.target.getBoundingClientRect()\r\n\t\tconst crossedWord = words.cells.findIndex((cell, index) => {\r\n\t\t\t//we cant define children position one time in start, because this position depends on viewport,\r\n\t\t\t//so we have to calculate on the fly\r\n\t\t\tif(cell.type === \"symbol\") return false\r\n\t\t\tconst cellRect = cellsRef.current.children[index].getBoundingClientRect()\r\n\t\t\treturn checkCollision(cellRect, cardRect)\r\n\t\t})\r\n\t\tif (crossedWord + 1) {\r\n\t\t\tif (crossedWord !== currentIntersectWord)\r\n\t\t\t\tsetCurrentIntersectWord(crossedWord)\r\n\t\t} else if (currentIntersectWord !== null) {\r\n\t\t\tsetCurrentIntersectWord(null)\r\n\t\t}\r\n\t}\r\n\r\n  useTimer(() => {\r\n    const correctWordInCards = words.cards.findIndex(el => {\r\n      return el.text === words.cells[currentWord].text\r\n    })\r\n    onSuccessSelect(correctWordInCards)\r\n  }, AUTOCOMPLETE_WORD_SELECT_DURATION, autoComplete)\r\n\r\n\tuseEffect(() => {\r\n\t\tif (words.cards.length <= 0 && currentWord > 0) {\r\n\t\t  if(autoComplete){\r\n\t\t    const timeout = setTimeout(() => {\r\n          onSuccess()\r\n        }, AUTOCOMPLETE_SUCCESS_DURATION)\r\n        return(() => clearTimeout(timeout))\r\n      } else {\r\n        onSuccess()\r\n      }\r\n\t\t}\r\n\t\t//TODO: fix this\r\n    //if add onSuccess function to deps it will work incorrect because onSuccess sets autocomplete flag so\r\n    //it call changes in props, when words.cards.length is still 0, so it call\r\n    //onSuccess function one more time\r\n\t}, [words.cards.length])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (text) {\r\n\t\t\tsetCurrentWord(0)\r\n\t\t\tconst textWOTags = text.replace(/<\\/?\\w+>/g, \"\")\r\n      const regExp = new RegExp([\r\n        '(',\r\n        '(?:the |a |in |to |on )*',\r\n        '(?:\\\\w-\\\\w|\\\\w|)+(?: \\\\w\\\\.)?',')+',\r\n        '((?:\\\\.|; |, |\\\\+ |\" | - |: )+',\r\n        ')*'].join(''),'gi')\r\n\t\t\tconst textParts = [...textWOTags.matchAll(regExp)]\r\n\t\t\tconst cells = textParts.reduce((result, elem, index) => {\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\ttype: \"text\",\r\n\t\t\t\t\ttext: elem[1],\r\n\t\t\t\t\tindex,\r\n\t\t\t\t})\r\n\t\t\t\tif (elem[2]) result.push({\r\n\t\t\t\t\ttype: \"symbol\",\r\n\t\t\t\t\ttext: elem[2],\r\n\t\t\t\t})\r\n\t\t\t\treturn result\r\n\t\t\t}, [])\r\n\t\t\tconst cards = cells.filter(el => el.type === \"text\")\r\n\t\t\tsetWords({\r\n\t\t\t\tcards: shuffle(cards),\r\n\t\t\t\tcells,\r\n\t\t\t})\r\n\t\t}\r\n\t}, [text])\r\n\r\n\treturn (\r\n\t\t<div className={classesCss.PuzzleField}>\r\n\t\t\t<div className={classesCss.PuzzlePieceWrap} ref={cellsRef}>\r\n\t\t\t\t{words.cells.map((word, index) => {\r\n\t\t\t\t\tif (word.type === \"text\") {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<PuzzleCell\r\n\t\t\t\t\t\t\t\tword={word}\r\n\t\t\t\t\t\t\t\thovered={index === currentIntersectWord}\r\n\t\t\t\t\t\t\t\tkey={\"cell\" + index + word.index}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Symbol\r\n\t\t\t\t\t\t\t\tsymbol={word.text}\r\n\t\t\t\t\t\t\t\tkey={\"symbol\" + word.text + index}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t\t<div className={classesCss.PuzzlePieceWrap}>\r\n\t\t\t\t{words.cards.map((word, index) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<PuzzleCard\r\n\t\t\t\t\t\t\tword={word}\r\n\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\tonClickWordSelect={onClickWordSelect}\r\n\t\t\t\t\t\t\tonDragWordSelect={onDragWordSelect}\r\n\t\t\t\t\t\t\tonDrag={onDragCheckIntersection}\r\n\t\t\t\t\t\t\tkey={\"card\" + word.text + index}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}","export const SETTINGS = {\r\n  TOTAL_LIVES: 3,\r\n  SECONDS_FOR_COMPLETE: 30,\r\n  AUTOCOMPLETE_WORD_SELECT_DURATION: 400,\r\n  AUTOCOMPLETE_SUCCESS_DURATION: 2000,\r\n  TIC: 1000\r\n}","import React, { useEffect, useMemo } from \"react\"\r\nimport { useTimerGenerator } from \"../../../hooks/hooks.game\";\r\n\r\nexport default function Timer(props){\r\n  const {\r\n    onGenerate,\r\n    onWillGenerate,\r\n    onCountdownFinish,\r\n    onTic,\r\n    cycle,\r\n    tic,\r\n    reset,\r\n    pause,\r\n    softReset,\r\n    className\r\n  } = props\r\n  const timer = useTimerGenerator(\r\n    {\r\n      onGenerate,\r\n      onTic,\r\n      onWillGenerate,\r\n      onReset: reset,\r\n      onPause: pause,\r\n      onSoftReset: softReset\r\n    }, cycle, tic)\r\n\r\n  const timeToNextGen = useMemo(() => {\r\n    return timer.getTimeToNextGen() >= 0 ? timer.getTimeToNextGen() / 1000 : 0\r\n  }, [timer])\r\n\r\n  useEffect(() => {\r\n    if(reset) timer.reset()\r\n    if(pause) timer.pause()\r\n    if(softReset) timer.softReset()\r\n  }, [timer, reset, pause, softReset])\r\n\r\n  useEffect(() => {\r\n    if (timeToNextGen === 0 && onCountdownFinish) {\r\n      onCountdownFinish()\r\n    }\r\n  }, [timeToNextGen, onCountdownFinish])\r\n\r\n\r\n  return (\r\n    <div className={className}>\r\n      {timeToNextGen}\r\n    </div>\r\n  )\r\n}","import classesCss from '../PuzzleGame.module.scss'\r\nimport cx from 'classnames'\r\n\r\nexport default function Lives({totalLives = 1, livesCount = 1}){\r\n\r\n  return(\r\n    <div className={classesCss.LivesWrapper}>\r\n      {\r\n        new Array(totalLives).fill(null).map((el, index) => {\r\n          const classes = cx(\r\n            classesCss.Life,\r\n            {[classesCss.Burnt]:index+1 > livesCount})\r\n\r\n          return(\r\n            <div\r\n              key={`life${index}`}\r\n              className={classes}\r\n            >\r\n            </div>\r\n          )\r\n        })\r\n      }\r\n\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\nimport cx from \"classnames\"\r\nimport classesCss from '../PuzzleGame.module.scss'\r\n\r\nexport default function WordList({words = [], currentWordIndex}){\r\n  return(\r\n    <ul className={classesCss.WordList}>\r\n      {\r\n        words.map((word,index) => {\r\n          const classes = cx({\r\n            [classesCss.Succeed]: word.status === \"succeed\",\r\n            [classesCss.Failed]: word.status === \"failed\",\r\n            [classesCss.Current]: index === currentWordIndex\r\n          })\r\n          return(\r\n            <li\r\n              className={classes}\r\n              key={`word-list-word${index}`}\r\n            >\r\n              {word.word}\r\n            </li>\r\n          )\r\n        })\r\n      }\r\n    </ul>\r\n  )\r\n}","import React, { useEffect, useMemo, useState } from \"react\"\r\nimport {setFirstLetterToCapital} from \"../../../helpers/gameUtils\";\r\nimport PuzzleField from \"./PuzzleField\"\r\nimport Timer from \"../common/Timer\";\r\nimport Lives from \"./components/Lives\";\r\nimport WordList from \"./components/WordsList\";\r\nimport {SETTINGS} from \"./settings\";\r\nimport classesCss from \"./PuzzleGame.module.scss\"\r\nimport FullScreenButton from \"../common/FullScreenButton\";\r\n\r\nconst {TOTAL_LIVES, SECONDS_FOR_COMPLETE, TIC} = SETTINGS\r\n\r\nexport default function PuzzleGame({words, onLoading, onWordSelect, onGameEnd}){\r\n\r\n  const [currentWord, setCurrentWord] = useState(0)\r\n  const [lives, setLives] = useState(TOTAL_LIVES)\r\n  const [timerState, setTimerState] = useState({\r\n    shouldReset : false,\r\n    shouldPause: false,\r\n  })\r\n  const [autoComplete, setAutoComplete] = useState(false)\r\n\r\n  const currentChunk = useMemo(() => {\r\n    if (words?.length > 0) {\r\n      return [...words]\r\n    }\r\n    return null\r\n  }, [words])\r\n\r\n  function resetTimer(){\r\n    setTimerState(state => ({...state, shouldReset: false}))\r\n  }\r\n\r\n  function completeAssemblyHandler(){\r\n    if(currentWord + 1 <= currentChunk.length){\r\n      setTimerState(state => ({...state, shouldReset: true, shouldPause: false}))\r\n      if(autoComplete) {\r\n        setAutoComplete(false)\r\n        currentChunk[currentWord] = {...currentChunk[currentWord], status:\"failed\"}\r\n        onWordSelect(currentChunk[currentWord], {succeed: false})\r\n      } else {\r\n        currentChunk[currentWord] = {...currentChunk[currentWord], status:\"succeed\"}\r\n        onWordSelect(currentChunk[currentWord], {succeed: true})\r\n      }\r\n      setCurrentWord(current => current + 1)\r\n      if(lives < TOTAL_LIVES) setLives(TOTAL_LIVES)\r\n    }\r\n    if(currentWord + 1 === currentChunk.length) {\r\n      onGameEnd()\r\n    }\r\n  }\r\n\r\n  function wrongSelectHandler(){\r\n    if(lives > 0)setLives(state => state - 1)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(lives <= 0) {\r\n      setAutoComplete(true)\r\n      setTimerState(state => ({...state, shouldPause: true}))\r\n    }\r\n  }, [lives])\r\n\r\n\r\n  return (\r\n    <div className={classesCss.PuzzleGame}>\r\n      <FullScreenButton className={classesCss.FullScreenButton}/>\r\n      {\r\n        (() => {\r\n          if(onLoading){\r\n            return (<div></div>)\r\n          } else if(currentChunk && currentWord + 1 <= currentChunk.length){\r\n            return(\r\n              <div\r\n                className={classesCss.GameLayout}\r\n                key={currentChunk[currentWord].word}\r\n              >\r\n                <div className={classesCss.WordBlock}>\r\n                  <div className={classesCss.CurrentWord}>{setFirstLetterToCapital(currentChunk[currentWord].word)}</div>\r\n                  <div className={classesCss.Translation}>\r\n                    <span>{currentChunk[currentWord].textExampleTranslate}</span>\r\n                  </div>\r\n                  <PuzzleField\r\n                    text={currentChunk[currentWord].textExample}\r\n                    onSuccess={completeAssemblyHandler}\r\n                    onWrongSelect={wrongSelectHandler}\r\n                    autoComplete={autoComplete}\r\n                  />\r\n                </div>\r\n                <div className={classesCss.HelperBlock}>\r\n                  <Timer\r\n                    className={classesCss.Countdown}\r\n                    softReset={timerState.shouldReset? resetTimer : null}\r\n                    pause={timerState.shouldPause}\r\n                    onWillGenerate={() => {\r\n                      setAutoComplete(true)\r\n                      return false\r\n                    }}\r\n                    cycle={SECONDS_FOR_COMPLETE * 1000}\r\n                    tic={TIC}\r\n                  />\r\n                  <WordList\r\n                    words={currentChunk}\r\n                    currentWordIndex={currentWord}\r\n                  />\r\n                  <Lives\r\n                    livesCount={lives}\r\n                    totalLives={TOTAL_LIVES}\r\n                  />\r\n                </div>\r\n              </div>\r\n            )\r\n          }\r\n          return null\r\n        })()\r\n      }\r\n    </div>\r\n  )\r\n}","import React, { useState } from \"react\"\r\nimport cx from \"classnames\"\r\nimport classesCss from \"../UserPage.module.scss\"\r\nimport Button from \"../../../components/Buttons/Button\";\r\n\r\n\r\nexport default function UserImageEditor({image, onUpdate, onRemove}){\r\n\r\n  const [onHoverState, setOnHover] = useState(null)\r\n\r\n  return(\r\n    <div\r\n      className={classesCss.ImageEditor}\r\n      style={{backgroundImage: `url(${image})`, color: \"white\"}}\r\n      onMouseEnter={() => setOnHover(true)}\r\n      onMouseLeave={() => setOnHover(false)}\r\n\r\n    >\r\n      <div\r\n        className={\r\n          cx({[classesCss.Visible]:onHoverState}, classesCss.Overlay)\r\n        }>\r\n        <Button\r\n          className={classesCss.Button}\r\n          label={\"\"}\r\n          onClick={onUpdate}\r\n        />\r\n        <Button\r\n          className={cx(classesCss.Button, classesCss.RemoveButton)}\r\n          label={\"\"}\r\n          onClick={onRemove}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React, { useEffect, useState } from \"react\"\r\nimport ImageUploading from \"react-images-uploading\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport cx from \"classnames\";\r\nimport { setUserSettings } from \"../../../redux/actions.user\";\r\nimport { userSettingsRequestWithImage } from \"../../../helpers/requsts.server\";\r\nimport Button from \"../../../components/Buttons/Button\";\r\nimport UserImageEditor from \"./UserImageEditor\";\r\nimport LoadingOverlay from \"../../../components/Loading/LoadingOverlay\";\r\nimport { SETTINGS } from \"../../../settings/settings\";\r\nimport classesCss from \"../UserPage.module.scss\";\r\n\r\nexport default function UserSettingsForm(){\r\n  const {settings: userSettings, onLoading, token, id} = useSelector(state => state.user)\r\n  const [currentImage, setCurrentImage] = useState({\r\n    url: null,\r\n    files : null\r\n  })\r\n  const [form, setForm] = useState({name : \"\"})\r\n  const [onSendLoading, setOnSendLoading] = useState(false)\r\n  const dispatch = useDispatch()\r\n\r\n  async function sendHandler(){\r\n    const data = new FormData()\r\n    const settingsForServer = {optional: {...userSettings.optional, ...form}}\r\n    if(currentImage.files && currentImage.files[0]?.file){\r\n      data.append(\"image\", currentImage.files[0].file)\r\n    }else if(!currentImage.url){\r\n      data.append(\"removeImage\", \"true\")\r\n      settingsForServer.optional.image = \"\"\r\n    }\r\n    data.append(\"settings\", JSON.stringify(settingsForServer))\r\n    setOnSendLoading(true)\r\n    const rawRes = await userSettingsRequestWithImage({token, id, data})\r\n    const res = await rawRes.json()\r\n    setOnSendLoading(false)\r\n    dispatch(setUserSettings({\r\n      optional: res.optional,\r\n    }))\r\n  }\r\n\r\n  function updateForm(e){\r\n    setForm({...form, [e.target.name]:e.target.value})\r\n  }\r\n\r\n  function imageUpdateHandler(files){\r\n    setCurrentImage({\r\n      url: files[0]? files[0].dataUrl: null,\r\n      files\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!currentImage.url && userSettings.optional?.image) {\r\n      setCurrentImage(imageData => {\r\n        return {...imageData, url: `${SETTINGS.AWS_STORE_URL}/${userSettings.optional.image}`}\r\n      })\r\n    }\r\n  }, [userSettings.optional?.image])\r\n\r\n\r\n  useEffect(() => {\r\n    if(userSettings.optional?.name) {\r\n      setForm(currentFormData => ({...currentFormData, name: userSettings.optional.name}))\r\n    }\r\n  }, [userSettings.optional?.name])\r\n\r\n  return (\r\n    <div className={classesCss.UserSettingsBlock}>\r\n      {\r\n        onSendLoading?\r\n          <LoadingOverlay\r\n            className={classesCss.LoadingOverlay}\r\n          />\r\n          : null\r\n      }\r\n      <ImageUploading\r\n        value={currentImage.files}\r\n        onChange={imageUpdateHandler}\r\n        maxNumber={1}\r\n        dataURLKey=\"dataUrl\"\r\n      >\r\n        {({onImageUpload, onImageUpdate, onImageRemove, isDragging, dragProps,}) => {\r\n          return (\r\n            <div className={classesCss.UploadImageWrap}>\r\n              {\r\n                onLoading ?\r\n                  <div>Loading...</div>\r\n                  : currentImage?.url ?\r\n                  <UserImageEditor\r\n                    image={currentImage.url}\r\n                    onUpdate={onImageUpdate}\r\n                    onRemove={onImageRemove}\r\n                  />\r\n                  : <Button\r\n                    className={classesCss.ImageLoadButton}\r\n                    style={isDragging ? {color: \"red\"} : null}\r\n                    onClick={onImageUpload}\r\n                    label={\"    \"}\r\n                    {...dragProps}\r\n                  />\r\n              }\r\n            </div>\r\n          )\r\n        }}\r\n      </ImageUploading>\r\n      <input\r\n        type={\"text\"}\r\n        name={\"name\"}\r\n        value={form.name}\r\n        className={cx(classesCss.Input, {[classesCss.Empty]:!form.name})}\r\n        onChange={updateForm}\r\n        autoComplete={\"off\"}\r\n        placeholder={\"\"}\r\n      />\r\n      <Button\r\n        disabled={onSendLoading}\r\n        onClick={sendHandler}\r\n        label={\"\"}\r\n        className={classesCss.SendButton}\r\n      />\r\n    </div>\r\n  )\r\n}","import React from \"react\"\r\nimport classesCss from \"./UserPage.module.scss\"\r\nimport UserSettingsForm from \"./components/UserSettingsForm\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {logOut} from \"../../redux/actions.auth\";\r\nimport CloseLink from \"../../components/Buttons/CloseLink\";\r\nimport StatisticsPage from \"../StatisticsPage/StatisticsPage\";\r\n\r\n\r\nexport default function UserPage(){\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  return (\r\n    <div className={classesCss.UserPage}>\r\n      <div className={classesCss.UserSettingsBlockContainer}>\r\n        <UserSettingsForm />\r\n        <NavLink\r\n          className={classesCss.ExitButton}\r\n          to={\"/\"}\r\n          onClick={() => dispatch(logOut())}\r\n        >  \r\n        </NavLink>\r\n      </div>\r\n\r\n      <StatisticsPage />\r\n\r\n      <CloseLink/>\r\n    </div>\r\n  )\r\n}\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport { statisticsSelector } from \"../redux/games/selectors\";\r\nimport { populateStatistics } from \"../helpers/gameUtils\";\r\nimport { addStatisticsThunk } from \"../redux/games/thunk.statistics\";\r\nimport { useCallback } from \"react\";\r\n\r\nexport function useStatistic(){\r\n  const currentUserStatistic = useSelector(statisticsSelector)\r\n  const {id} = useSelector(store => store.user)\r\n  const dispatch = useDispatch()\r\n  const update = useCallback((game, statistic) => {\r\n    const statisticForUpdate = populateStatistics(\r\n      game, //puzzle\r\n      currentUserStatistic,\r\n      {\r\n        ...statistic,\r\n        createdOn: Date.now()}\r\n    );\r\n    statisticForUpdate.learnedWords = statistic.wordCounter\r\n    dispatch(addStatisticsThunk(id, statisticForUpdate));\r\n  }, [currentUserStatistic, dispatch, id])\r\n  return {update}\r\n}","import React from 'react'\r\nimport Button from \"./Button\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faUndo } from '@fortawesome/free-solid-svg-icons'\r\nimport cx from \"classnames\"\r\nimport classesCss from \"./Button.module.scss\"\r\n\r\n\r\nexport default function ResetButton({className, ...props}){\r\n  return(\r\n    <Button\r\n      className={cx(classesCss.ResetButton, className)}\r\n      label = {<FontAwesomeIcon icon={faUndo}/>}\r\n      {...props}\r\n    />\r\n  )\r\n}","import React from \"react\"\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faArrowAltCircleLeft } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport default function BackToGameLink({state, classes, ...props}){\r\n  return(\r\n    <NavLink\r\n\r\n      to={{pathname:\"/games\", state}}\r\n      {...props}\r\n    >\r\n      <FontAwesomeIcon\r\n        className={classes.icon}\r\n        icon={faArrowAltCircleLeft} />\r\n      <span>  </span>\r\n    </NavLink>\r\n  )\r\n}","import React from 'react'\r\nimport classesCss from \"./GameModal.module.scss\"\r\n\r\nexport default function GameModal({children, gameData}){\r\n  return(\r\n    <div className={classesCss.GameModal}>\r\n      <div className={classesCss.ModalText}>\r\n        <h3>{gameData.name}</h3>\r\n\r\n        {gameData.greetText}\r\n      </div>\r\n      {children}\r\n    </div>\r\n  )\r\n}","import React from \"react\"\r\nimport cx from \"classnames\"\r\nimport { SETTINGS } from \"../../../../settings/settings\";\r\nimport classesCss from \"./StatisticModal.module.scss\"\r\nimport SoundButton from \"../../../../components/Buttons/SoundButton\";\r\n\r\n\r\n//TODO:  \r\n//TODO:    \r\n//TODO: fix statistic record\r\n\r\nexport default function StatisticModal({words, className}){\r\n  return (\r\n    <div className={cx(className, classesCss.StatisticModal)}>\r\n      <h3></h3>\r\n      <div className={classesCss.TableWrap}>\r\n      <table className={classesCss.StatisticTable}>\r\n        <thead>\r\n        <tr>\r\n          <th/>\r\n          <th/>\r\n          <th/>\r\n          <th/>\r\n          <th/>\r\n          {words[0].userNewResults ?\r\n            <>\r\n            <th></th>\r\n            <th></th>\r\n            </> : null\r\n          }\r\n        </tr>\r\n        </thead>\r\n\r\n        <tbody className={classesCss.Body}>\r\n        {\r\n          words.map(word => {\r\n            return (\r\n              <tr key={word.id}\r\n                  className={classesCss.Word}>\r\n                <td>\r\n                  <SoundButton\r\n                    file={`${SETTINGS.SERVER}/${word.audio}`}\r\n                    className={classesCss.AudioButton}\r\n                  />\r\n                </td>\r\n                <td>{word.word}</td>\r\n                <td>{word.transcription}</td>\r\n                <td>{word.wordTranslate}</td>\r\n                <td>{word?.result?.succeed ? \"\" : \"\"}</td>\r\n                {word.userNewResults ?\r\n                  <>\r\n                    <td>{word.userNewResults.optional?.successCounter}</td>\r\n                    <td>{word.userNewResults.optional?.failCounter + word.userNewResults.optional?.successCounter}</td>\r\n                  </>\r\n                  : null\r\n                }\r\n              </tr>\r\n            )\r\n          })\r\n        }\r\n        </tbody>\r\n\r\n      </table>\r\n    </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n","import React from \"react\";\r\nimport cx from \"classnames\"\r\nimport classesCss from './LevelButtons.module.scss'\r\n\r\nexport default function LevelButtons({levelNumbers, levelStyles, onSelect, className}){\r\n\r\n\r\n  return (\r\n    <div className={cx(className, classesCss.LevelButtonsWrap)}>\r\n      {\r\n        new Array(levelNumbers).fill(null).map((el, index) => {\r\n          return (\r\n            <div\r\n              key = {`lb${index}`}\r\n              className={cx(levelStyles[`Level${index+1}`], classesCss.Button)}\r\n              onClick={() => onSelect(index)}\r\n            >\r\n              {index + 1}\r\n            </div>\r\n          )\r\n        })\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","import React, { useEffect, useState } from \"react\"\r\nimport { useLocation } from \"react-router-dom\"\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport cx from \"classnames\"\r\nimport { useUserWordUpdate } from \"../../hooks/hooks.user\";\r\nimport { useWords, useWordsGroup } from \"../../hooks/hooks.words\";\r\nimport { createRandomChunkFromGroup } from \"../../helpers/utils.words\";\r\nimport { useStatistic } from \"../../hooks/hooks.statistic\";\r\nimport { resetGameStatistics } from \"../../redux/games/actions\";\r\nimport { getStatisticsThunk } from \"../../redux/games/thunk.statistics\";\r\nimport Button from \"../../components/Buttons/Button\";\r\nimport BookButton from \"../../components/Buttons/BookButton\";\r\nimport ResetButton from \"../../components/Buttons/ResetButton\";\r\nimport BackToGameLink from \"./common/BackToGameLink\";\r\nimport GameModal from \"./common/GameModal/GameModal\";\r\nimport StatisticModal from \"./common/StatisticModal/StatisticModal\";\r\nimport LevelButtons from \"./common/Levels/LevelButtons\";\r\nimport CloseLink from \"../../components/Buttons/CloseLink\";\r\nimport { SETTINGS } from \"../../settings/settings\";\r\nimport classesCss from \"./Games.module.scss\"\r\nimport levelClasses from \"../../styles/LevelStyles.module.scss\"\r\nimport buttonClasses from \"../../components/Buttons/Button.module.scss\"\r\n\r\nconst initialStatistic = {\r\n  rightAnswers: 0,\r\n  wrongAnswers: 0,\r\n  wordCounter: 0,\r\n  bestSeries: 0,\r\n}\r\n\r\nconst {DEFAULT_WORD_CHUNK_LENGTH} = SETTINGS\r\n\r\nexport default function GameShell(props){\r\n  const {\r\n    children,\r\n    gameData,\r\n    className,\r\n    style,\r\n  } = props\r\n\r\n  const wordsBundleLength =\r\n    gameData.wordsMinCount > DEFAULT_WORD_CHUNK_LENGTH ? gameData.wordsMinCount : DEFAULT_WORD_CHUNK_LENGTH\r\n\r\n  const dispatch = useDispatch();\r\n  const {currentWordsGroup, getWordsGroup, onGroupLoading} = useWordsGroup()\r\n  const {onLoading} = useWords()\r\n  const {update: updateUserWord} = useUserWordUpdate()\r\n  const {update: updateStatistic} = useStatistic()\r\n\r\n  const {isLogged, id: userId} = useSelector(state => state.user)\r\n\r\n  const [currentChunk, setCurrentChunk] = useState(null)\r\n  const [gameEndLastWord, setGameEndLastWord] = useState(-1)\r\n  const [isGameCanStart, setIsGameCanStart] = useState(false)\r\n  const [gameResetKey, setGameResetKey] = useState(Math.random())\r\n  const [statisticChunk, setStatisticChunk] = useState(null)\r\n  const [statistic, setStatistic] = useState(initialStatistic)\r\n  const [statisticWasUpdate, setStatisticWasUpdate] = useState(false)\r\n  const [currentSeries, setCurrentSeries] = useState(0)\r\n\r\n  const {state} = useLocation()\r\n  const {words: urlWords, group: urlGroup, fullWordsSet} = state ? state : {}\r\n\r\n  function levelSelectHandler(index){\r\n    getWordsGroup(index)\r\n    setIsGameCanStart(true)\r\n  }\r\n\r\n  function gameEndHandler(index){\r\n    setGameEndLastWord(Number.isInteger(index) ? index + 1 : currentChunk.length)\r\n  }\r\n\r\n  function setGameStartAgain(){\r\n    setGameResetKey(state => state + 1)\r\n    setCurrentSeries(0)\r\n    setStatisticChunk([...currentChunk])\r\n    setStatistic(initialStatistic)\r\n    setStatisticWasUpdate(false)\r\n    setGameEndLastWord(-1)\r\n  }\r\n\r\n  function updateStatisticChunk(wordForUpdate, dataForUpdate){\r\n    const statisticWordIndex = statisticChunk.findIndex(statWord => statWord.id === wordForUpdate.id)\r\n    if (statisticWordIndex + 1) {\r\n      setStatisticChunk(currentStatistic => {\r\n        const newStatisticChunk = [...currentStatistic]\r\n        newStatisticChunk[statisticWordIndex] = {...newStatisticChunk[statisticWordIndex], ...dataForUpdate}\r\n        return newStatisticChunk\r\n      })\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n\r\n  function wordSelectHandler(word, params){\r\n    const paramsForUpdate = {succeed: !!params.succeed}\r\n\r\n    if (isLogged) {\r\n      updateUserWord(word, paramsForUpdate).then(updatedWord => {\r\n        if (updatedWord.optional.failCounter + updatedWord.optional.successCounter === 1) {\r\n          setStatistic(state => ({...state, wordCounter: state.wordCounter + 1}))\r\n        }\r\n        updateStatisticChunk(word, {userNewResults: updatedWord})\r\n      }).catch(() => {\r\n        updateStatisticChunk(word, {userNewResults: {}})\r\n      })\r\n      const statisticForUpdate = {}\r\n      if (paramsForUpdate.succeed) {\r\n        statisticForUpdate.rightAnswers = statistic.rightAnswers + 1\r\n        if (currentSeries + 1 > statistic.bestSeries) {\r\n          statisticForUpdate.bestSeries = currentSeries + 1\r\n        }\r\n        setCurrentSeries(currentSeries + 1)\r\n      } else {\r\n        if (currentSeries) {\r\n          setCurrentSeries(0)\r\n        }\r\n        statisticForUpdate.wrongAnswers = statistic.wrongAnswers + 1\r\n      }\r\n      setStatistic({...statistic, ...statisticForUpdate})\r\n    }\r\n    updateStatisticChunk(word, {result: paramsForUpdate})\r\n  }\r\n\r\n  function complementChunkToMinimum(startChunk, sourceChunk, requireLength){\r\n    const requireToComplementWordsCount = requireLength - startChunk.length\r\n    const requiredToComplementWords = sourceChunk.reduce((reducer, sourceWord) => {\r\n      if (reducer.length < requireToComplementWordsCount){\r\n        const isWordInStartChunk = !!(startChunk.findIndex(initialWord => initialWord.id === sourceWord.id) + 1)\r\n        if(!isWordInStartChunk) reducer.push(sourceWord)\r\n      }\r\n      return reducer\r\n    }, [])\r\n    return [...startChunk, ...requiredToComplementWords]\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!urlWords?.length) return\r\n    if (urlWords.length >= wordsBundleLength) {\r\n      setCurrentChunk([...urlWords])\r\n      return\r\n    }\r\n    if (fullWordsSet) {\r\n      if (fullWordsSet.length === wordsBundleLength) {\r\n        setCurrentChunk([...fullWordsSet])\r\n        return\r\n      }\r\n      if (fullWordsSet.length > wordsBundleLength) {\r\n        const complementChunk = complementChunkToMinimum(urlWords, fullWordsSet, wordsBundleLength)\r\n        setCurrentChunk(complementChunk)\r\n        return\r\n      }\r\n    }\r\n    getWordsGroup(urlGroup)\r\n  }, [urlWords, wordsBundleLength, urlGroup, fullWordsSet, getWordsGroup])\r\n\r\n  useEffect(() => {\r\n    if (!urlWords || !currentWordsGroup) return\r\n\r\n    function complementAndSetChunk(wordsSet){\r\n      const randomChunk = createRandomChunkFromGroup(currentWordsGroup, wordsBundleLength)\r\n      const complementChunk = complementChunkToMinimum(wordsSet, randomChunk, wordsBundleLength)\r\n      setCurrentChunk(complementChunk)\r\n    }\r\n\r\n    if (fullWordsSet?.length) complementAndSetChunk(fullWordsSet)\r\n    else complementAndSetChunk(urlWords)\r\n  }, [currentWordsGroup, urlWords, fullWordsSet, wordsBundleLength])\r\n\r\n\r\n  useEffect(() => {\r\n    if (urlWords || !currentWordsGroup) return\r\n    const randomChunk = createRandomChunkFromGroup(currentWordsGroup, wordsBundleLength)\r\n    setCurrentChunk(randomChunk)\r\n  }, [currentWordsGroup, wordsBundleLength, urlWords])\r\n\r\n  useEffect(() => {\r\n    if (!currentChunk?.length) return\r\n    setStatisticChunk([...currentChunk])\r\n  }, [currentChunk])\r\n\r\n  useEffect(() => {\r\n    if(!isLogged) return\r\n    if (gameEndLastWord > 0 && !statisticWasUpdate && statisticChunk?.length) {\r\n      if (statisticChunk[gameEndLastWord - 1].userNewResults) {\r\n        updateStatistic(gameData.key, statistic)\r\n        setStatisticWasUpdate(true)\r\n      }\r\n    }\r\n  }, [gameEndLastWord, statisticChunk, isLogged, statisticWasUpdate, updateStatistic, gameData?.key, statistic])\r\n\r\n  useEffect(() => {\r\n    if (!userId) return\r\n    dispatch(getStatisticsThunk(userId));\r\n    return () => dispatch(resetGameStatistics());\r\n  }, [dispatch, userId]);\r\n\r\n  const gameContent = (() => {\r\n    const onAnyLoading = onGroupLoading || onLoading\r\n    if (gameEndLastWord === -1 && ((children && onAnyLoading)\r\n      || (children && !onAnyLoading && currentChunk?.length))) {\r\n      const gameProps = {\r\n        key: gameResetKey,\r\n        words: currentChunk,\r\n        onLoading: onAnyLoading,\r\n        onWordSelect: wordSelectHandler,\r\n        onGameEnd: gameEndHandler,\r\n      }\r\n      return React.Children.map(children,\r\n        child => {\r\n          return (\r\n            <child.type\r\n              {...child.props}\r\n              {...gameProps}\r\n            >\r\n              {children}\r\n            </child.type>)\r\n        })\r\n    }\r\n    return null\r\n  })()\r\n\r\n  return (\r\n    <div className={[className, classesCss.GameShell].join(\" \")} style={style}>\r\n      {\r\n        (() => {\r\n          if (gameEndLastWord === -1) {\r\n            if (isGameCanStart && gameContent) return gameContent\r\n            return (\r\n              <GameModal\r\n                gameData={gameData}\r\n              >\r\n                {urlWords ?\r\n                  <Button\r\n                    className={cx(buttonClasses.TransparentButton, classesCss.StartButton)}\r\n                    onClick={() => setIsGameCanStart(true)}\r\n                    label={\"\"}\r\n                  />\r\n                  : <LevelButtons\r\n                    levelNumbers={6}\r\n                    levelStyles={levelClasses}\r\n                    onSelect={levelSelectHandler}\r\n                  />\r\n                }\r\n              </GameModal>)\r\n          }\r\n          return (\r\n            <>\r\n              <StatisticModal\r\n                className={classesCss.StatisticModal}\r\n                words={statisticChunk.filter((word, index) => index < gameEndLastWord)}\r\n              />\r\n              <div className={classesCss.GameEndHelper}>\r\n                <ResetButton\r\n                  className={cx(classesCss.ResetButton, classesCss.Button)}\r\n                  onClick={setGameStartAgain}/>\r\n                <BookButton\r\n                  className={cx(classesCss.BookLink, classesCss.Button)}\r\n                />\r\n                <BackToGameLink\r\n                  className={cx(classesCss.BackLink, classesCss.Button)}\r\n                  classes={{icon: classesCss.Icon}}\r\n                  state={state}/>\r\n              </div>\r\n            </>\r\n          )\r\n        })()\r\n      }\r\n      <CloseLink/>\r\n    </div>\r\n  )\r\n};","import React from \"react\"\r\n\r\nexport default function SvgWave({children, colors, viewBox = \"0 0 1920 1500\"}){\r\n  return(\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\r\n      <defs>\r\n        <linearGradient id={\"Grad1\"}>\r\n          <stop offset={\"5%\"} stopColor={colors[0]}/>\r\n          <stop offset={\"95%\"} stopColor={colors[1]} />\r\n        </linearGradient>\r\n      </defs>\r\n      {React.Children.map(children,\r\n        child => {\r\n          return (\r\n            <child.type\r\n              {...child.props}\r\n              fill={\"url(#Grad1)\"}\r\n            >\r\n              {children}\r\n            </child.type>)\r\n        })}\r\n    </svg>\r\n  )\r\n}","export const WAVES = [\r\n  \"M1920,1488c-56.4.89-114.58-3.88-165-13-44.14-7.99-85.74-8.78-127-19-56.4-13.97-111.72-26.06-161-47q-43.995-22.995-88-46-39.495-15.495-79-31-63.495-19.005-127-38c-194.911-60.77-405.385-109.59-450-321-14.753-69.906,16.3-122.665,45-159,49.328-62.447,134.116-106.052,211-140,36.96-16.32,75.57-32.679,106-56,84.36-64.66,106.31-233.165,170-323,94.04-132.65,295.02-194.767,477-241,58.78-14.934,123.27-30.572,188-37V1488Z\",\r\n  \"M-74,0S772.85,713.585,1197,473s895.81,26.539,938,486S1088.26,1496.02,881,1246s-1234.269-84.68-1116,103S-74,0-74,0Z\",\r\n  \"M-241,1383s275.664-215.33,782-263,662.36-288.495,344-604S-137.127,370.614-129,164-241,1383-241,1383ZM2020,72\",\r\n  \"M2079,22S689.555,39.062,1106,307s650.28,117.957,620,464-228.7,532.51,143,477,464-156,464-156Z\",\r\n  \"M-43-45S79.93,773.783,1008,754,2162.07,933.3,2193,1109s-19,318-19,318,28.57-543.914-788-494S926.943,1139.58,315,1282s-520,151-520,151Z\"\r\n]","import React from \"react\"\r\nimport cx from \"classnames\"\r\nimport Footer from \"../MainPage/Footer\";\r\nimport CloseLink from \"../../components/Buttons/CloseLink\";\r\nimport SvgWave from \"../../components/Effects/SvgWave\";\r\nimport AboutCard from \"../../components/AboutCard/AboutCard\";\r\nimport { GAMES_ARRAY, TEAM } from \"../../settings/data\";\r\nimport { WAVES } from \"../../settings/waves\";\r\nimport classesCss from \"./AboutPage.module.scss\"\r\nimport GitHubButton from \"../../components/Buttons/GitHubButton\";\r\n\r\nconst wavesColors = [\"#ff8758\", \"#d43d1e\"]\r\n\r\nexport default function AboutPage(){\r\n  return (\r\n    <div className={classesCss.AboutPage}>\r\n      <CloseLink className={classesCss.CloseLink}/>\r\n      <div className={cx(classesCss.Section, classesCss.Special)}>\r\n        <div className={classesCss.Content}>\r\n          <h2></h2>\r\n          <div className={classesCss.RowContent}>\r\n            <div className={classesCss.CardsContainer}>\r\n              <AboutCard\r\n                image={\"books.png\"}\r\n                head={\" \"}\r\n                text={\"   3600      ,            !.\"}\r\n              />\r\n              <AboutCard\r\n                image={\"repeat.png\"}\r\n                head={\"\"}\r\n                text={\"         .      \" +\r\n                \" ,  ,     !\"}\r\n              />\r\n              <AboutCard\r\n                image={\"statistic.png\"}\r\n                head={\"  \"}\r\n                text={\"        :          .\"}\r\n              />\r\n            </div>\r\n            <div className={classesCss.Asset}>\r\n              <div style={{backgroundImage: `url(${process.env.PUBLIC_URL}/static/glass1.png)`,}}/>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n\r\n\r\n        <SvgWave\r\n          colors={wavesColors}\r\n          viewBox={\"0 300 1920 1700\"}\r\n        >\r\n          <path d={WAVES[0]}/>\r\n        </SvgWave>\r\n\r\n      </div>\r\n      <div id={\"games\"} className={cx(classesCss.Section, classesCss.Games)}>\r\n        <div className={classesCss.Content}>\r\n          <h2></h2>\r\n          <div className={classesCss.CardsContainer}>\r\n            {\r\n              GAMES_ARRAY.map(({navigationImage, name, description}) => {\r\n                return(\r\n                  <AboutCard\r\n                    key={\"aboutgame\"+name}\r\n                    image={navigationImage}\r\n                    head={name}\r\n                    text={description}\r\n                  />\r\n                )\r\n              })\r\n            }\r\n          </div>\r\n        </div>\r\n\r\n        <SvgWave colors={wavesColors}>\r\n          <path d={WAVES[1]}/>\r\n        </SvgWave>\r\n\r\n      </div>\r\n      <div id={\"team\"} className={cx(classesCss.Section, classesCss.Team)}>\r\n        <div className={classesCss.Content}>\r\n          <h2> </h2>\r\n          <div className={classesCss.RowContent}>\r\n            <div className={classesCss.Asset}>\r\n              <div style={{backgroundImage: `url(${process.env.PUBLIC_URL}/static/team.png)`,}}/>\r\n            </div>\r\n            <div className={classesCss.CardsContainer}>\r\n              {\r\n                TEAM.map(({image, name, about, github}) => {\r\n                  return(\r\n                    <AboutCard\r\n                      cardImageRound\r\n                      image={image}\r\n                      head={<GitHubButton nickName={github} label={name}/>}\r\n                      text={about}\r\n                    />\r\n                  )\r\n                })\r\n              }\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <SvgWave colors={wavesColors}>\r\n          <path d={WAVES[2]}/>\r\n        </SvgWave>\r\n      </div>\r\n      <Footer />\r\n    </div>)\r\n}","import React, { useEffect } from \"react\";\r\nimport { Route, Switch, useLocation } from \"react-router-dom\";\r\nimport MainPage from \"./pages/MainPage/MainPage\";\r\nimport BookPage from \"./pages/BookPage/BookPage\";\r\nimport GamesPage from \"./pages/GamesPage/GamesPage\";\r\nimport Sprint from \"./pages/Games/Sprint/GamePage\";\r\nimport AudioCall from \"./pages/Games/AudioCall/GamePageAudioCall\";\r\nimport Savannah from \"./pages/Games/Savannah/GamePage\";\r\nimport StatisticsPage from \"./pages/StatisticsPage/StatisticsPage\";\r\nimport PuzzleGame from \"./pages/Games/PuzzleGame/PuzzleGame\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { syncUserWords } from \"./redux/actions.words\";\r\nimport { checkToken, logOut } from \"./redux/actions.auth\";\r\nimport UserPage from \"./pages/UserPage/UserPage\";\r\nimport GameShell from \"./pages/Games/GameShell\";\r\nimport { GAMES } from \"./settings/data\";\r\nimport \"./styles/effects.scss\";\r\nimport \"./styles/App.module.scss\";\r\nimport AboutPage from \"./pages/AboutPage/AboutPage\";\r\n\r\nexport default function App() {\r\n  const location = useLocation();\r\n  const dispatch = useDispatch();\r\n  const { isLogged } = useSelector((store) => store.user);\r\n\r\n  function getGamePath(game) {\r\n    const basePath = `/games/${game}`;\r\n    return [`${basePath}/:group/:page`, `${basePath}/:group`, basePath];\r\n  }\r\n\r\n  useEffect(() => {\r\n    async function syncUser() {\r\n      const token = await dispatch(checkToken());\r\n      if (token) {\r\n        await dispatch(syncUserWords());\r\n      } else {\r\n        await dispatch(logOut());\r\n      }\r\n    }\r\n\r\n    if (isLogged) {\r\n      syncUser();\r\n    }\r\n  }, [dispatch, isLogged]);\r\n\r\n  return (\r\n    <>\r\n      <Switch location={location}>\r\n        <Route path={[\"/book\", \"/vocabulary\"]}>\r\n          <BookPage />\r\n        </Route>\r\n        <Route path=\"/statistic\">\r\n          <StatisticsPage />\r\n        </Route>\r\n        <Route path={getGamePath(\"savannah\")}>\r\n          <GameShell gameData={GAMES.savannah}>\r\n            <Savannah />\r\n          </GameShell>\r\n        </Route>\r\n        <Route path={getGamePath(\"audiocall\")}>\r\n          <GameShell gameData={GAMES.audiocall}>\r\n            <AudioCall />\r\n          </GameShell>\r\n        </Route>\r\n        <Route path={getGamePath(\"sprint\")}>\r\n          <GameShell gameData={GAMES.sprint}>\r\n            <Sprint />\r\n          </GameShell>\r\n        </Route>\r\n        <Route path={getGamePath(\"puzzle\")}>\r\n          <GameShell gameData={GAMES.puzzle}>\r\n            <PuzzleGame />\r\n          </GameShell>\r\n        </Route>\r\n        <Route path=\"/games\" exact>\r\n          <GamesPage />\r\n        </Route>\r\n        <Route path=\"/about\" exact>\r\n          <AboutPage />\r\n        </Route>\r\n        <Route path=\"/user\" exact>\r\n          <UserPage />\r\n        </Route>\r\n        <Route path=\"/\" exact>\r\n          <MainPage />\r\n        </Route>\r\n      </Switch>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { PersistGate } from 'redux-persist/integration/react'\r\nimport { store, persistor } from \"./redux/store\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n    <Provider store={store}>\r\n      <PersistGate loading={null} persistor={persistor}>\r\n      <App />\r\n      </PersistGate>\r\n    </Provider>\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AboutPage\":\"AboutPage_AboutPage__1knc_\",\"Section\":\"AboutPage_Section__11vcc\",\"Content\":\"AboutPage_Content__JjdrU\",\"RowContent\":\"AboutPage_RowContent__1VP_S\",\"CardsContainer\":\"AboutPage_CardsContainer__3Ocj-\",\"Special\":\"AboutPage_Special__aWiCh\",\"Asset\":\"AboutPage_Asset__6kpYF\",\"Team\":\"AboutPage_Team__Ss_r2\",\"CloseLink\":\"AboutPage_CloseLink__SQGfm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MainPage\":\"MainPage_MainPage__1V1Xw\",\"NavigationZIndex\":\"MainPage_NavigationZIndex__1xmUT\",\"Bg\":\"MainPage_Bg__3rx68\",\"Girl\":\"MainPage_Girl__1J87B\",\"Wave\":\"MainPage_Wave__1em_J\",\"DescriptionBlock\":\"MainPage_DescriptionBlock__T6iYs\",\"SlideBlock\":\"MainPage_SlideBlock__3A2nk\",\"Slide\":\"MainPage_Slide__6zK4Z\",\"Active\":\"MainPage_Active__szbeK\",\"NavigationBlock\":\"MainPage_NavigationBlock__OMLqQ\",\"Pagination\":\"MainPage_Pagination__3JJu3\",\"PaginationButton\":\"MainPage_PaginationButton__uZDUt\",\"ButtonBlock\":\"MainPage_ButtonBlock__FUibk\",\"NavigationButton\":\"MainPage_NavigationButton__2OASn\",\"Footer\":\"MainPage_Footer__1boX-\",\"Authors\":\"MainPage_Authors__2Wvtj\",\"GHButton\":\"MainPage_GHButton__a_Fkm\",\"RSSData\":\"MainPage_RSSData__1J6Lh\",\"FooterDate\":\"MainPage_FooterDate__iw4_y\",\"RSSLink\":\"MainPage_RSSLink__2Sz1E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"StatisticPage\":\"StatisticPage_StatisticPage__2oBm1\",\"Title\":\"StatisticPage_Title__fokxC\",\"DayStatistic\":\"StatisticPage_DayStatistic__32DfD\",\"GamesStatistic\":\"StatisticPage_GamesStatistic__35dH_\",\"ToggleBlock\":\"StatisticPage_ToggleBlock__1mI6F\",\"Statistic\":\"StatisticPage_Statistic__LuV2k\",\"StatisticTable\":\"StatisticPage_StatisticTable__flnoc\",\"StatisticStrings\":\"StatisticPage_StatisticStrings__2SYpf\",\"Value\":\"StatisticPage_Value__O-nxL\",\"TotalStatistic\":\"StatisticPage_TotalStatistic__30OX5\",\"Graphics\":\"StatisticPage_Graphics__19u0I\",\"Chart\":\"StatisticPage_Chart__2kL8j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"GameShell\":\"Games_GameShell__3QwlK\",\"StatisticModal\":\"Games_StatisticModal__2Pq2-\",\"GameEndHelper\":\"Games_GameEndHelper__2-93F\",\"Button\":\"Games_Button__YI5W8\",\"BookLink\":\"Games_BookLink__JSReA\",\"BackLink\":\"Games_BackLink__2Nn7N\",\"Icon\":\"Games_Icon__sWWL7\",\"ResetButton\":\"Games_ResetButton__3zudw\",\"StartButton\":\"Games_StartButton__26ZvH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AudioCall\":\"AudioCallGame_AudioCall__1Xrv6\",\"containerGame\":\"AudioCallGame_containerGame__25VNZ\",\"gameContainer\":\"AudioCallGame_gameContainer__157W0\",\"wrapperFalling\":\"AudioCallGame_wrapperFalling__3Ghz3\",\"noAnimation\":\"AudioCallGame_noAnimation__2qU3W\",\"wordAudio\":\"AudioCallGame_wordAudio__28_X_\",\"listWords\":\"AudioCallGame_listWords__2RcMj\",\"wordButton\":\"AudioCallGame_wordButton__2e8sS\",\"wordButtonRight\":\"AudioCallGame_wordButtonRight__2FM9c\",\"bubble\":\"AudioCallGame_bubble__24jUD\",\"shake\":\"AudioCallGame_shake__2L7_M\",\"snakeCorrectAnimation\":\"AudioCallGame_snakeCorrectAnimation__2dOC1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Level1\":\"LevelStyles_Level1__Kn7dq\",\"Level2\":\"LevelStyles_Level2__1r9DF\",\"Level3\":\"LevelStyles_Level3__3vHkd\",\"Level4\":\"LevelStyles_Level4__3THZa\",\"Level5\":\"LevelStyles_Level5__38VA3\",\"Level6\":\"LevelStyles_Level6__3RRVc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"StatisticModal\":\"StatisticModal_StatisticModal__3-ERO\",\"TableWrap\":\"StatisticModal_TableWrap__wdq9T\",\"StatisticTable\":\"StatisticModal_StatisticTable__3z22E\",\"AudioButton\":\"StatisticModal_AudioButton__2SwQQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Card\":\"AboutCard_Card__1Ojzi\",\"CardImageBottomRound\":\"AboutCard_CardImageBottomRound__3cTm1\",\"CardImage\":\"AboutCard_CardImage__1fw7B\",\"CardImageRound\":\"AboutCard_CardImageRound__1P_X7\",\"CardText\":\"AboutCard_CardText__3nXxT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BookPage\":\"BookPage_BookPage__2B6yY\",\"BookContent\":\"BookPage_BookContent__1jwrM\",\"SettingsBlock\":\"BookPage_SettingsBlock__1oUYM\",\"SettingsContent\":\"BookPage_SettingsContent__3JhrA\",\"SettingsCloseButton\":\"BookPage_SettingsCloseButton__3vAgr\",\"SettingButtonBlock\":\"BookPage_SettingButtonBlock__3Xynn\",\"SettingButton\":\"BookPage_SettingButton__2JDdP\",\"Selected\":\"BookPage_Selected__3ijHx\",\"Disabled\":\"BookPage_Disabled__2DZAt\",\"SettingButtonText\":\"BookPage_SettingButtonText__8BWay\",\"BookMenu\":\"BookPage_BookMenu__3tm-1\",\"NavigationButton\":\"BookPage_NavigationButton__1ljKB\",\"NavigationLink\":\"BookPage_NavigationLink__R6xDm\",\"Pagination\":\"BookPage_Pagination__ctfnF\",\"PageCounter\":\"BookPage_PageCounter__1nQn2\",\"SelectedInput\":\"BookPage_SelectedInput__F6xbZ\",\"PaginationButton\":\"BookPage_PaginationButton__2NWwC\",\"PopUpMenu\":\"BookPage_PopUpMenu__RwTll\",\"Active\":\"BookPage_Active__2C9TO\",\"GroupMenu\":\"BookPage_GroupMenu__2LXrT\",\"GroupMenuToggle\":\"BookPage_GroupMenuToggle__3Vafo\",\"BookLink\":\"BookPage_BookLink__Mz0N0\",\"GameMenu\":\"BookPage_GameMenu__23sI-\",\"GameLinkWrap\":\"BookPage_GameLinkWrap__1eUdn\",\"GameLink\":\"BookPage_GameLink__3DKT_\",\"GameLabel\":\"BookPage_GameLabel__7hymQ\",\"Audiocall\":\"BookPage_Audiocall__9FaIi\",\"SearchMenu\":\"BookPage_SearchMenu__2TgQv\",\"VocabularyHeader\":\"BookPage_VocabularyHeader__2MdZe\",\"VocabularySection\":\"BookPage_VocabularySection__3stBM\",\"DisclaimerBlock\":\"BookPage_DisclaimerBlock__2w2O6\",\"Image\":\"BookPage_Image__3dkfT\",\"Text\":\"BookPage_Text__21EHg\",\"ShowWithSmallWidth\":\"BookPage_ShowWithSmallWidth__3-N9o\",\"SmallWidthMenu\":\"BookPage_SmallWidthMenu__2MioJ\",\"HideWithSmallWidth\":\"BookPage_HideWithSmallWidth__1pUVt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LoadingOverlay\":\"Loading_LoadingOverlay__yxgGS\",\"LoadingSpinner\":\"Loading_LoadingSpinner__2i239\",\"loading-spin\":\"Loading_loading-spin__1t2Sn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"GamesPage\":\"GamesPage_GamesPage__27Ngi\",\"GameCard\":\"GamesPage_GameCard__2uquv\",\"CloseLink\":\"GamesPage_CloseLink__3lB-B\"};"],"sourceRoot":""}